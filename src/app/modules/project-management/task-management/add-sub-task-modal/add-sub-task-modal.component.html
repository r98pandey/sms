<div class="modal-header bg-info-subtle d-flex align-items-baseline">
  <h6 class="card-title mb-2">Create Sub Task</h6>
  <button
    type="button"
    class="close"
    aria-label="Close button"
    aria-describedby="modal-title"
    (click)="close('Cross click')"
  >
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body" style="height: 600px; overflow-y: auto;">
  <form [formGroup]="addTaskForm">
    <div class="mt-2">
      <div class="row">
        <div class="col-lg-12 mb-3">
          <div class="form-group">
            <label class="form-label" for="formFile"
              >Title
              <span class="starRequried">*</span>
            </label>
            <input
              type="text"
              class="form-control"
              placeholder="Title"
              id="SubTaskTitle"
              formControlName="SubTaskTitle"
              [maxlength]="maxCharsDecision"
              />
              <label class="nopadding clrlbl">
                Characters Remaining:
                {{ SubTaskTitle?.value?.length }}/{{
                  maxCharsDecision
                }}</label
              >
            <div *ngIf="SubTaskTitle.invalid && SubTaskTitle.touched">
              <small class="text-danger" *ngIf="SubTaskTitle.errors?.['required']">
                Title is Required
              </small>
            </div>
          </div>
        </div>

        <!-- <div class="col-lg-6 mb-3">
          <div class="form-group">
            <label class="form-label"
              >  Project Work force 
              <span class="starRequried">*</span>
            </label>
            <ng-select
              [items]="ProjectWorkforceList"
              placeholder="Look-up Project Work force "
              formControlName="ProjectWorkforce"
              bindLabel="projectWorkforceName"
              bindValue="projectWorkforceId"
            
            >
          
            </ng-select>

            <div *ngIf="ProjectWorkforce.invalid && ProjectWorkforce.touched">
              <small
                class="text-danger"
                *ngIf="ProjectWorkforce.errors?.['required']"
              >
              Project Work force is Required
              </small>
            </div>
          </div>
        </div> -->
        
      
        <div class="col-lg-6 mb-3">
          <div class="form-group">
            <label for="StartDate" class="form-label"
              >Plan Start Date
              <span class="starRequried">*</span>
              <i
                class="ri-close-circle-line text-danger"
                ngbTooltip="Clear"
                *ngIf="StartDate?.value"
                (click)="clearChangeStartDate()"
              ></i>
            </label>
            <div class="d-flex">
              <input
                type="date"
                class="form-control"
                id="StartDate"
                formControlName="StartDate"
                placeholder="Enter Plan Start Date"
                mwlFlatpickr
                [altInput]="false"
                [enableTime]="false"
                [convertModelValue]="true"
                [dateFormat]="'d-m-Y'"
              />
            </div>

            <div *ngIf="StartDate.invalid && StartDate.touched">
              <small class="text-danger" *ngIf="StartDate.errors?.['required']">
                Plan Start Date is Required
              </small>
            </div>
          </div>
        </div>

        <div class="col-lg-6 mb-3">
          <div class="form-group">
            <label for="EndDate" class="form-label"
              >Plan End Date
              <span class="starRequried">*</span>
              <i
                class="ri-close-circle-line text-danger"
                ngbTooltip="Clear"
                *ngIf="EndDate.value"
                (click)="clearChangeEndDate()"
              ></i>
            </label>
            <div class="d-flex">
              <input
                type="text"
                class="form-control"
                readonly
                [disabled]="true"
                *ngIf="!StartDate.value"
                formControlName="EndDate"
                placeholder="Enter Plan End Date"
              />
              <input
                *ngIf="StartDate.value"
                type="date"
                class="form-control"
                id="EndDate"
                formControlName="EndDate"
                placeholder="Enter End Date"
                [minDate]="StartDate.value"
                mwlFlatpickr
                [altInput]="false"
                [enableTime]="false"
                [convertModelValue]="true"
                [dateFormat]="'d-m-Y'"
              />
            </div>

            <div *ngIf="EndDate.invalid && EndDate.touched">
              <small class="text-danger" *ngIf="EndDate.errors?.['required']">
                Plan End Date is Required
              </small>
            </div>
          </div>
        </div>
        <div class="col-md-12">
          <label class="form-label" for="formFile"
            >Description
            <span class="starRequried">*</span>
          </label>
          <ckeditor
            [editor]="Editor"
            [config]="{
              toolbar: [
                'heading',
                '|',
                'bold',
                'italic',
                '|',
                'NumberedList',
                'BulletedList'
              ]
            }"
            formControlName="Description"
          >
          </ckeditor>

          <div *ngIf="Description.invalid && Description.touched">
            <small class="text-danger" *ngIf="Description.errors?.['required']">
              Description is Required
            </small>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <div>
    <button
      class="btn btn-primary me-2 mb-2 mb-md-0"
      (click)="submitFollowFromDetails()"
      [disabled]="addTaskForm.invalid"
    >
      Submit
    </button>
    <button
      class="btn btn btn-outline-danger me-2 mb-2 mb-md-0"
      (click)="close('Cross click')"
    >
      Close
    </button>
  </div>
</div>

<!-- Start Breadcrumbs -->
<app-breadcrumbs title="Analytical Dashboard" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->


<div class="row">
    <div class="col-xl-12">
        <div class="card crm-widget">
            <div class="card-body p-0">
                <div class="row row-cols-xxl-5 row-cols-md-3 row-cols-1 g-0">
                    @for(stat of statData; track $index){
                    <div>
                        <app-crm-stat [title]="stat.title" [value]="stat.value" [icon]="stat.icon"
                            [profit]="stat.profit"></app-crm-stat>
                    </div>
                }
                </div><!-- end row -->
            </div><!-- end card body -->
        </div><!-- end card -->
    </div><!-- end col -->
</div><!-- end row -->

<div class="row">
    <div class="col-xxl-3 col-md-6">
        <div class="card">
            <div class="card-header align-items-center d-flex">
                <h4 class="card-title mb-0 flex-grow-1">Schedule Overview</h4>
                
            </div>
            <div class="card-body pb-0">
                <div class="mb-n3">
                    <apx-chart [series]="ScheduleOverviewChart.series" [chart]="ScheduleOverviewChart.chart"
                        [colors]="ScheduleOverviewChart.colors" [dataLabels]="ScheduleOverviewChart.dataLabels"
                        [plotOptions]="ScheduleOverviewChart.plotOptions" [yaxis]="ScheduleOverviewChart.yaxis"
                        [legend]="ScheduleOverviewChart.legend" [fill]="ScheduleOverviewChart.fill"
                        [stroke]="ScheduleOverviewChart.stroke" [tooltip]="ScheduleOverviewChart.tooltip"
                        [xaxis]="ScheduleOverviewChart.xaxis" dir="ltr"></apx-chart>
                </div>
            </div>
        </div><!-- end card -->
    </div><!-- end col -->


    <div class="col-xxl-5">
        <div class="card card-height-100">
            <div class="card-header align-items-center d-flex">
                <h4 class="card-title mb-0">Task Overview</h4>
                
            </div>

            <div class="card-body">

                <div class="row align-items-center">
                    <div class="col-6">
                        <h6 class="text-muted text-uppercase fw-semibold text-truncate fs-12 mb-1">Total Task
                        </h6>
                        <h4 class="mb-0">14</h4>
                        <p class="mb-0 mt-2 text-muted"><span class="badge bg-success-subtle text-success mb-0">
                            
                        </span> Task Progress Status Update</p>
                    </div><!-- end col -->
                    <div class="col-6">
                        <div class="text-center">
                            <img src="assets/images/illustrator-1.png" class="img-fluid" alt="">
                        </div>
                    </div><!-- end col -->
                </div><!-- end row -->
                <div class="mt-3 pt-2">
                    <div class="progress progress-lg rounded-pill">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 25%" aria-valuenow="16"
                            aria-valuemin="0" aria-valuemax="100"></div>
                        <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="18"
                            aria-valuemin="0" aria-valuemax="100"></div>
                        <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="22"
                            aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                </div><!-- end -->

                <div class="mt-3 pt-2">
                    <div class="d-flex mb-2">
                        <div class="flex-grow-1">
                            <p class="text-truncate text-muted fs-15 mb-0"><i
                                    class="mdi mdi-circle align-middle text-warning me-2"></i>Pending</p>
                        </div>
                        <div class="flex-shrink-0">
                            <p class="mb-0">25%</p>
                        </div>
                    </div><!-- end -->
                    <div class="d-flex mb-2">
                        <div class="flex-grow-1">
                            <p class="text-truncate text-muted fs-15 mb-0"><i
                                    class="mdi mdi-circle align-middle text-info me-2"></i>In-progress</p>
                        </div>
                        <div class="flex-shrink-0">
                            <p class="mb-0">50%</p>
                        </div>
                    </div><!-- end -->
                    <div class="d-flex mb-2">
                        <div class="flex-grow-1">
                            <p class="text-truncate text-muted fs-15 mb-0"><i
                                    class="mdi mdi-circle align-middle text-success me-2"></i>Completed</p>
                        </div>
                        <div class="flex-shrink-0">
                            <p class="mb-0">25%</p>
                        </div>
                    </div><!-- end -->
                    
                </div><!-- end -->
                <div class="mt-2 text-center">
                    <a href="javascript:void(0);" class="text-muted text-decoration-underline">Show All</a>
                </div>


            </div><!-- end card body -->
        </div>
    </div>
    <div class="col-xxl-4 col-md-6">
        <div class="card card-height-100">
            <div class="card-header">
                <h4 class="card-title mb-0">Sub task Overview</h4>
            </div><!-- end card header -->
  
            <div class="card-body">
              <apx-chart class="apex-charts" [series]="basicPolarChart.series" [chart]="basicPolarChart.chart"
              [labels]="basicPolarChart.labels" [stroke]="basicPolarChart.stroke"
              [fill]="basicPolarChart.fill" [legend]="basicPolarChart.legend"
              [colors]="basicPolarChart.colors" dir="ltr"></apx-chart>
            </div><!-- end card-body -->
        </div><!-- end card -->
    </div>

</div><!-- end row -->


<div class="row">
    <div class="col-xl-4">
        <div class="card">
            <div class="card-header align-items-center d-flex">
                <h4 class="card-title mb-0 flex-grow-1 py-1">My Tasks</h4>
                
            </div><!-- end card header -->
            <div class="card-body" style="height: 400px; overflow-y: auto;">
                <div class="table-responsive ">
                    <table class="table table-borderless table-nowrap table-centered align-middle mb-0">
                        <thead class="table-light text-muted">
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Dedline</th>
                                <th scope="col">Status</th>
                                <th scope="col">Assignee</th>
                            </tr>
                        </thead><!-- end thead -->
                        <tbody>
                            @for(data of MyTask; track $index){
                            <tr> 
                                <td>
                                    <div class="form-check">
                                        <label class="form-check-label ms-1" for="checkTask1">
                                            {{data.name}}
                                        </label>
                                      </div>
                                </td>
                                <td class="text-muted">{{data.dedline}}</td>
                                <td><span class="badge bg-success-subtle text-success" [ngClass]=" { 'bg-warning-subtle text-warning': data.status === 'Progress', 'bg-danger-subtle text-danger': data.status === 'Pending'}">{{data.status}}</span></td>
                                <td>
                                    <a href="javascript: void(0);" class="d-inline-block" data-bs-toggle="tooltip" ngbTooltip="{{data.assignee.name}}" placement="top">
                                        <img src="{{data.assignee.profile}}" alt="" class="rounded-circle avatar-xxs">
                                    </a>
                                </td>
                            </tr><!-- end -->
                        }
                        </tbody><!-- end tbody -->
                    </table><!-- end table -->
                </div>
            
            </div><!-- end cardbody -->
        </div><!-- end card -->
    </div>
    <div class="col-xl-8">
    
        <div class="card card-height-100">
        <div class="card-header mb-2">
            <h5 class="card-title mb-">Progress Update</h5>
        </div>

            <ul
              ngbNav
              #Border="ngbNav"
              [(activeId)]="chartValueActive"
              class="nav nav-tabs nav-border-top nav-border-top-primary mb-3 p-2"
            >
              <li [ngbNavItem]="1" >
                <a ngbNavLink> Task </a>
                <ng-template ngbNavContent>
                  <app-help-part-chart-dashboard></app-help-part-chart-dashboard>
                </ng-template>
              </li>
              <li [ngbNavItem]="2" >
                <a ngbNavLink> SubTask </a>
                <ng-template ngbNavContent>
                  <app-help-desk-internal-disscussion></app-help-desk-internal-disscussion>
                </ng-template>
              </li>
            </ul>
            <div class="card-body" style="height: 300px; overflow-y: auto;">
              <div class="tab-content text-muted">
                <div [ngbNavOutlet]="Border"></div>
              </div>
            </div>
          </div>
    </div>
</div>
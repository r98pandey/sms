"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[4867,9455],{6075:(y,b,s)=>{s.d(b,{J:()=>f});var d=s(9862),p=s(553),m=s(9212);let f=(()=>{class C{constructor(g){this._http=g,this.addCompanyAccess=!1}getCompanyTableList_LocalPagination(){return this._http.post(p.N.apiUrl+"api/V2_Master/GetCompanyTableList_LocalPagination",{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}postCompany(g){return this._http.post(p.N.apiUrl+"api/V2_Master/CreateCompany",g,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}updateCompanyLogo(g){return this._http.post(p.N.apiUrl+"api/V2_Master/UpdateCompanyLogo",g,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}getCompanyDetail(g){return this._http.post(p.N.apiUrl+"api/V2_Master/GetCompanyDetail",g,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}updateCompany(g){return this._http.post(p.N.apiUrl+"api/V2_Master/UpdateCompany",g,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}deleteCompany(g){return this._http.post(p.N.apiUrl+"api/V2_Master/DeleteCompany",g,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}static{this.\u0275fac=function(i){return new(i||C)(m.LFG(d.eN))}}static{this.\u0275prov=m.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},618:(y,b,s)=>{s.d(b,{n:()=>C});var d=s(9862),p=s(553),m=s(9212),_=s(2787),f=s(5035);let C=(()=>{class e{static{this.editDepartmentId=0}constructor(i,r,D){this._http=i,this._route=r,this.authService=D,this.accessRight=!1}getDepartmentTableList_LocalPagination(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetDepartmentTableList_LocalPagination",i,{headers:(new d.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json")})}postDepartment(i){return this._http.post(p.N.apiUrl+"api/V2_Master/CreateDepartment",i,{headers:(new d.WM).set("Content-Type","application/json")})}postUpdateDepartmentLogo(i){return this._http.post(p.N.apiUrl+"api/Master/UpdateDepartmentLogo",i,{headers:(new d.WM).set("Content-Type","application/json")})}getDepartmentByCompanyId(i){return this._http.get(p.N.apiUrl+"api/Master/GetDepartmentList/"+i,{headers:(new d.WM).set("Content-Type","application/json")})}getDepartmentByClientId(i,r){return this._http.get(p.N.apiUrl+"api/Master/GetDepartmentListByClient/"+i+"/"+r,{headers:(new d.WM).set("Content-Type","application/json")})}getCompanyListWithDept(i){return this._http.get(p.N.apiUrl+"api/Master/GetCompanyListWithDept/"+i,{headers:(new d.WM).set("Content-Type","application/json")})}getDepartmentListByDeptId(i){return this._http.get(p.N.apiUrl+"api/Master/GetDepartmentListByDeptId/"+i,{headers:(new d.WM).set("Content-Type","application/json")})}getDepartmentDetail(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetDepartmentDetail",{DepartmentId:i},{headers:(new d.WM).set("Content-Type","application/json")})}postUpdateDepartment(i){return this._http.post(p.N.apiUrl+"api/V2_Master/UpdateDepartment",i,{headers:(new d.WM).set("Content-Type","application/json")})}postDeleteDepartment(i){return this._http.post(p.N.apiUrl+"api/Master/DeleteDepartment",i,{headers:(new d.WM).set("Content-Type","application/json")})}getClient(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetClientListDrobDown",{SearchCompanyId:i},{headers:(new d.WM).set("Content-Type","application/json")})}getDepartmentListDropdown(i,r){return this._http.post(p.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",{SearchCompanyId:i,SearchClientId:r},{headers:(new d.WM).set("Content-Type","application/json")})}static{this.\u0275fac=function(r){return new(r||e)(m.LFG(d.eN),m.LFG(_.F0),m.LFG(f.$))}}static{this.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},4867:(y,b,s)=>{s.r(b),s.d(b,{ProjectSetupModule:()=>fe});var d=s(6814),p=s(2787),m=s(6223),_=s(618),f=s(3519),C=s.n(f),e=s(9212),g=s(6075),i=s(9455),r=s(2857),D=s(3828),A=s(4807),Z=s(8617),h=s(7291);function T(o,u){1&o&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Company is Required "),e.qZA()())}function N(o,u){1&o&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Client is Required "),e.qZA()())}function P(o,u){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij("",t.departmentProjectLabel," Code is required")}}function x(o,u){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Code must be at least 2 characters Required")}}function U(o,u){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Code must be less than 5 characters Required")}}function I(o,u){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,P,2,1,"small",37)(2,x,2,1,"small",37)(3,U,2,1,"small",37),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.maxlength)}}function M(o,u){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Name is Required")}}function w(o,u){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,M,2,1,"small",37),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.departmentName.errors.required)}}function F(o,u){if(1&o&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" Head of ",t.departmentProjectLabel," is Required")}}function q(o,u){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,F,2,1,"small",37),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.departHeadName.errors.required)}}function O(o,u){if(1&o&&(e.TgZ(0,"div",38)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&o){const t=u.item;e.xp6(2),e.AsE("",t.countryName,"(",t.countryCode,")"),e.xp6(2),e.hij("Currency Code :",t.currencyCode,"")}}function E(o,u){1&o&&(e.TgZ(0,"small",9),e._uU(1," Currency Code is Required"),e.qZA())}function k(o,u){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,E,2,0,"small",37),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.currencyCode.errors.required)}}function J(o,u){1&o&&(e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"label",42),e._uU(5,"Contact Person Name "),e.qZA(),e._UZ(6,"input",43),e.qZA(),e.TgZ(7,"div",41)(8,"label",44),e._uU(9,"Designation "),e.qZA(),e._UZ(10,"input",45),e.qZA()(),e.TgZ(11,"div",40)(12,"div",41)(13,"label",46),e._uU(14,"Mobile No "),e.qZA(),e._UZ(15,"input",47),e.qZA(),e.TgZ(16,"div",41)(17,"label",48),e._uU(18,"Phone No"),e.qZA(),e._UZ(19,"input",49),e.qZA()(),e.TgZ(20,"div",40)(21,"div",41)(22,"label",50),e._uU(23,"Fax No"),e.qZA(),e._UZ(24,"input",51),e.qZA(),e.TgZ(25,"div",52)(26,"label",53),e._uU(27,"Email "),e.qZA(),e._UZ(28,"input",54),e.qZA()()()())}function V(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",6)(2,"div",41)(3,"label",55),e._uU(4,"Respond SLA"),e.qZA(),e.TgZ(5,"input",56),e.NdJ("input",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onRespondSLAValue(n))}),e.qZA()(),e.TgZ(6,"div",41)(7,"label",57),e._uU(8,"Respond SLA Duration"),e.qZA(),e._UZ(9,"ng-select",58),e.qZA()(),e.TgZ(10,"div",40)(11,"div",41)(12,"label",59),e._uU(13,"On Site SLA"),e.qZA(),e.TgZ(14,"input",60),e.NdJ("input",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.onSiteSLAValue(n))}),e.qZA()(),e.TgZ(15,"div",41)(16,"label",61),e._uU(17,"On Site SLA Duration"),e.qZA(),e._UZ(18,"ng-select",62),e.qZA()(),e.TgZ(19,"div",40)(20,"div",41)(21,"label",63),e._uU(22,"Expected Completion SLA"),e.qZA(),e.TgZ(23,"input",64),e.NdJ("input",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.exepectedComplitionSLADurationDescValue(n))}),e.qZA()(),e.TgZ(24,"div",41)(25,"label",65),e._uU(26,"Expected Completion SLA Duration"),e.qZA(),e._UZ(27,"ng-select",66),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(9),e.ekj("is-invalid",t.RespondSLADurationDesc.invalid&&t.RespondSLADurationDesc.touched)("is-valid",t.RespondSLADurationDesc.valid&&t.RespondSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.RespondSLA.value),e.xp6(9),e.ekj("is-invalid",t.OnSiteSLADurationDesc.invalid&&t.OnSiteSLADurationDesc.touched)("is-valid",t.OnSiteSLADurationDesc.valid&&t.OnSiteSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.OnSiteSLA.value),e.xp6(9),e.ekj("is-invalid",t.exepectedComplitionSLADurationDesc.invalid&&t.exepectedComplitionSLADurationDesc.touched)("is-valid",t.exepectedComplitionSLADurationDesc.valid&&t.exepectedComplitionSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.exepectedComplitionSLA.value)}}function R(o,u){1&o&&e._UZ(0,"span",67)}function B(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",69),e._UZ(2,"ul",70)(3,"div",71)(4,"img",72)(5,"h2",73),e.TgZ(6,"div",74)(7,"div",75),e._UZ(8,"lord-icon",76),e.TgZ(9,"div",77)(10,"h4"),e._uU(11,"Project Added Successfully!"),e.qZA(),e.TgZ(12,"p",78),e._uU(13,"Do you want to add more project?"),e.qZA()()()(),e._UZ(14,"input",79)(15,"input",80),e.TgZ(16,"div",81),e._UZ(17,"input",82)(18,"output"),e.qZA(),e._UZ(19,"select",83)(20,"div",84),e.TgZ(21,"label",85),e._UZ(22,"input",86)(23,"span",87),e.qZA(),e._UZ(24,"textarea",88)(25,"div",89),e.TgZ(26,"div",90),e._UZ(27,"div",91),e.TgZ(28,"button",92),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goBack())}),e._uU(29," No "),e.qZA(),e.TgZ(30,"button",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getFormRest())}),e._uU(31," Yes "),e.qZA()()()()}}const j=(o,u)=>({"is-invalid":o,"is-valid":u});let G=(()=>{class o{constructor(t,a,n,l,c,v,L,S){this.formBuilder=t,this.router=a,this.companyService=n,this.departmentService=l,this.dropdownService=c,this.commonService=v,this.actvatedroute=L,this.authService=S,this.departmentProjectLabel="",this.editMode={isEdit:!1,selectedId:0},this.companyList={},this.companyData=[],this.loading={company:!1,client:!1},this.clientData=[],this.OnSiteDescList=["Hour","Day","Week","Month","Year"],this.active=1,this.label="Department",this.breadCrumbItems=[{label:"Department"},{label:"Add Department",active:!0}],this.countryAndCurrencyList=[],this.selectedCurrency=null,this.goback=this.goBack,this.addDepartmentFormDisable=!0,this.addDepartmentFormloding=!1,1==this.departmentService.accessRight?_.n.editDepartmentId>0&&(this.editMode.isEdit=!0,this.editMode.selectedId=_.n.editDepartmentId,this.getDepartmentData(this.editMode.selectedId)):this.goBack()}ngOnInit(){this.isProject=this.authService.getisProject(),this.departmentProjectLabel=this.isProject?"Project":"Department",this.getCountryList(),this.getCompanydetails(),this.getfromBinding(),this.label=this.isProject?"Project":"Department",this.breadCrumbItems=[{label:this.isProject?"Project":"Department"},{label:`${this.editMode.isEdit?"Edit":"Add"} ${this.isProject?"Project":"Department"}`,active:!0}]}getDepartmentData(t){this.departmentService.getDepartmentDetail(t).subscribe(a=>{const n=a.data;this.addDepartmentForm.patchValue(n),this.editMode.isEdit&&this.getClient(n.companyId),this.selectedCurrency=n.currencyCode,this.addDepartmentForm.get("RespondSLA")?.setValue(n.respondSLA),this.addDepartmentForm.get("RespondSLADurationDesc")?.setValue(n.respondSLADurationDesc),this.addDepartmentForm.get("OnSiteSLA")?.setValue(n.onSiteSLA),this.addDepartmentForm.get("OnSiteSLADurationDesc")?.setValue(n.onSiteSLADurationDesc),this.addDepartmentForm.get("exepectedComplitionSLADurationDesc")?.setValue(n.exepectedComplitionSLADurationDesc),this.addDepartmentForm.get("exepectedComplitionSLA")?.setValue(n.exepectedComplitionSLA),this.addDepartmentForm.get("currencyCode")?.setValue(n.currencyCode),this.addDepartmentForm.get("companyId").disable(),this.addDepartmentForm.get("clientId").disable(),this.selectedCurrency=n.currencyCode,this.addDepartmentForm.get("currencyCode").disable(),this.addDepartmentForm.get("departmentCode").disable()})}getClient(t){this.loading.client=!0,this.departmentService.getClientForApplicationSettingDrobDown({SearchCompanyId:t}).subscribe(n=>{this.clientData=Array.isArray(n.list)?n.list:[],this.loading.client=!1},n=>{this.loading.client=!1})}getCompanydetails(){this.dropdownService.GetCompanyListDrobDown({}).subscribe(t=>{this.companyList=t.list,this.companyData=this.companyList})}get form(){return this.addDepartmentForm.controls}get departmentCode(){return this.addDepartmentForm.get("departmentCode")}get companyId(){return this.addDepartmentForm.get("companyId")}get clientId(){return this.addDepartmentForm.get("clientId")}get departmentName(){return this.addDepartmentForm.get("departmentName")}get departHeadName(){return this.addDepartmentForm.get("departHeadName")}get currencyCode(){return this.addDepartmentForm.get("currencyCode")}get contactPerson1(){return this.addDepartmentForm.get("contactPerson1")}get contactMobileNo1(){return this.addDepartmentForm.get("contactMobileNo1")}get contactDesignation1(){return this.addDepartmentForm.get("contactDesignation1")}get contactPhoneNo1(){return this.addDepartmentForm.get("contactPhoneNo1")}get contactFaxNo1(){return this.addDepartmentForm.get("contactFaxNo1")}get contactEMail1(){return this.addDepartmentForm.get("contactEMail1")}get RespondSLA(){return this.addDepartmentForm.get("RespondSLA")}get OnSiteSLADurationDesc(){return this.addDepartmentForm.get("OnSiteSLADurationDesc")}get RespondSLADurationDesc(){return this.addDepartmentForm.get("RespondSLADurationDesc")}get OnSiteSLA(){return this.addDepartmentForm.get("OnSiteSLA")}get exepectedComplitionSLA(){return this.addDepartmentForm.get("exepectedComplitionSLA")}get exepectedComplitionSLADurationDesc(){return this.addDepartmentForm.get("exepectedComplitionSLADurationDesc")}getClientName(t){return this.clientData.find(a=>a.clientId==t)?.clientName}getClientCode(t){return this.clientData.find(a=>a.clientId==t)?.clientCode}getCompanyName(t){return this.companyList.find(a=>a.companyId==t)?.companyName}addDepartmentFormDetails(t){if(this.submitted=!0,this.addDepartmentForm.invalid)return;this.addDepartmentFormDisable=!1,this.addDepartmentFormloding=!0;let a={departmentId:this.editMode?this.editMode.selectedId:"",companyId:this.addDepartmentForm.value.companyId,clientId:this.addDepartmentForm.value.clientId,departmentCode:this.addDepartmentForm.value.departmentCode,departmentName:this.addDepartmentForm.value.departmentName,departHeadName:this.addDepartmentForm.value.departHeadName,contactDesignation1:this.addDepartmentForm.value.contactDesignation1,contactPerson1:this.addDepartmentForm.value.contactPerson1,contactMobileNo1:this.addDepartmentForm.value.contactMobileNo1?String(this.addDepartmentForm.value.contactMobileNo1):"",contactPhoneNo1:this.addDepartmentForm.value.contactPhoneNo1?String(this.addDepartmentForm.value.contactPhoneNo1):"",contactFaxNo1:this.addDepartmentForm.value.contactFaxNo1?String(this.addDepartmentForm.value.contactFaxNo1):"",contactEMail1:this.addDepartmentForm.value.contactEMail1,RespondSLA:this.addDepartmentForm.value.RespondSLA,RespondSLADurationDesc:this.addDepartmentForm.value.RespondSLADurationDesc,OnSiteSLADurationDesc:this.addDepartmentForm.value.OnSiteSLADurationDesc,OnSiteSLA:this.addDepartmentForm.value.OnSiteSLA,exepectedComplitionSLA:this.addDepartmentForm.value.exepectedComplitionSLA,exepectedComplitionSLADurationDesc:this.addDepartmentForm.value.exepectedComplitionSLADurationDesc,clientName:this.getClientName(this.addDepartmentForm.value.clientId),companyName:this.getCompanyName(this.addDepartmentForm.value.companyId),clientCode:this.getClientCode(this.addDepartmentForm.value.clientId),currencyCode:this.selectedCurrency};a=this.commonService.clean(a),this.editMode.isEdit?this.departmentService.postUpdateDepartment(a).subscribe(n=>{this.addDepartmentFormloding=!1,this.addDepartmentFormDisable=!1,this.goBack(),this.success(n)},n=>{this.addDepartmentFormloding=!1,this.error(n)}):this.departmentService.postDepartment(a).subscribe(n=>{this.addDepartmentFormDisable=!1,this.addDepartmentFormloding=!1,this.getAddMoreData(n.message)},n=>{this.addDepartmentFormloding=!1,this.error(n)})}success(t){C().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}error(t){this.addDepartmentFormDisable=!1,C().fire({toast:!0,position:"top-end",icon:"warning",title:t,showConfirmButton:!1,timer:1e3})}goBack(){this.router.navigate(["/project-management/project-setup/list-project"]),this.successMessageVisible=!1}getAddMoreData(t){this.successMessageVisible=!0}getFormRest(){this.addDepartmentFormloding=!1,this.addDepartmentForm.reset(),this.addDepartmentForm.markAsUntouched(),this.successMessageVisible=!1}getfromBinding(){this.addDepartmentForm=this.formBuilder.group({companyId:[null,m.kI.required],clientId:[null,m.kI.required],departmentCode:[null,[m.kI.required,m.kI.minLength(2),m.kI.maxLength(5)]],departmentName:["",m.kI.required],departHeadName:[""],contactDesignation1:[""],contactPerson1:[""],contactMobileNo1:[""],contactPhoneNo1:[""],contactFaxNo1:[""],contactEMail1:[""],RespondSLA:[""],RespondSLADurationDesc:[null],OnSiteSLADurationDesc:[null],OnSiteSLA:[""],exepectedComplitionSLA:[""],exepectedComplitionSLADurationDesc:[null],currencyCode:[null,[m.kI.required]]})}clientHandler(t){this.clientObj=t}onNavChange(t){}onCompanyValueChange(t){const{companyId:a}=t;this.getClient(a),this.clientId.reset()}onRespondSLAValue(t){this.RespondSLADurationDesc.reset()}onSiteSLAValue(t){this.OnSiteSLADurationDesc.reset()}exepectedComplitionSLADurationDescValue(t){this.exepectedComplitionSLADurationDesc.reset()}getCountryList(){this.dropdownService.getCountryListDrobDown().subscribe(t=>{this.countryAndCurrencyList=t.list})}static{this.\u0275fac=function(a){return new(a||o)(e.Y36(m.qu),e.Y36(p.F0),e.Y36(g.J),e.Y36(_.n),e.Y36(i.V),e.Y36(r.K),e.Y36(p.gz),e.Y36(D.u))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-project"]],decls:69,vars:38,consts:[[3,"title","breadcrumbItems"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-4"],["for","Client",1,"form-label"],[1,"text-danger"],["bindLabel","companyName","bindValue","companyId","id","companyName","formControlName","companyId","placeholder","Select Company",1,"w-100","mr-2","my-1",3,"items","loading","clearable","change"],[4,"ngIf"],["bindLabel","clientName","formControlName","clientId","bindValue","clientId","id","clientName","placeholder","Select Client",1,"w-100","mr-2","my-1",3,"loading","items","clearable"],["for","departmentCode",1,"form-label"],["type","text","formControlName","departmentCode","id","departmentCode","id","departmentCode","name","departmentCode",1,"form-control","my-1",3,"placeholder","ngClass"],[1,"col-md-4","mt-3"],["for","Project-Name",1,"form-label"],["type","text","formControlName","departmentName","id","departmentName","name","Project-Name",1,"form-control","my-1",3,"placeholder","ngClass"],["for","HOD",1,"form-label"],["type","text","placeholder","HOD","formControlName","departHeadName","id","HOD","name","HOD",1,"form-control","my-1"],["for","currencyCode",1,"form-label"],["bindLabel","currencyCode","bindValue","currencyCode","placeholder","Currency Code","formControlName","currencyCode","name","currencyCode",3,"items","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"mt-4"],["ngbNav","","role","tablist",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","id","All","href","javascript:void(0);","role","tab","aria-selected","true",1,"nav-link","All","py-3"],["ngbNavContent",""],["ngbNavLink","","data-bs-toggle","tab","id","New","href","javascript:void(0);","role","tab","aria-selected","true",1,"nav-link","py-3","New"],[3,"ngbNavOutlet"],[1,"col-lg-12","mt-4"],[1,"text-end"],["type","button",1,"btn","btn","btn-soft-primary","mb-2","mb-md-0","me-2",3,"click"],["type","button",1,"btn","btn-success","mr-2","mb-2","mb-md-0",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","swal2-container swal2-center swal2-backdrop-show","style","overflow-y: auto",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"custom-option"],[1,"mt-3","shadow","shodow-sm","p-3"],[1,"row","mt-2"],[1,"col-lg-6","mb-1"],["for","Contact-Person-Name",1,"form-label"],["type","text","placeholder","Contact Person Name","name","Contact-Person-Name","id","Contact-Person-Name","formControlName","contactPerson1",1,"form-control","my-1"],["for","Designation",1,"form-label"],["type","text","placeholder","Designation","name","Designation","id","Designation","formControlName","contactDesignation1",1,"form-control","mt-1","mb-1"],["for","Mobile-No",1,"form-label"],["type","number","placeholder","Mobile No","name","Mobile-No","id","Mobile-No","formControlName","contactMobileNo1",1,"form-control","mt-1","mb-1"],["for","Phone-No",1,"form-label"],["type","number","placeholder","Phone No","name","Phone-No","id","Phone-No","formControlName","contactPhoneNo1",1,"form-control","mt-1","mb-1"],["for","Fax-No",1,"form-label"],["type","text","placeholder","Fax No","name","Fax-No","id","Fax-No","formControlName","contactFaxNo1",1,"form-control","mt-1","mb-1"],[1,"col-6"],["for","Email",1,"form-label"],["type","email","placeholder","Email","name","Email","id","email","formControlName","contactEMail1",1,"form-control","mt-1","mb-1"],["for","Respond-SLA",1,"form-label"],["type","number","placeholder","Respond SLA","name","Respond-SLA","id","Respond-SLA","formControlName","RespondSLA",1,"form-control",3,"input"],["for","Respond-SLA-Duration",1,"form-label"],["placeholder","Select Respond SLA Duration","formControlName","RespondSLADurationDesc",1,"custom",3,"items","readonly"],["for","On-Site-SLA",1,"form-label"],["type","number","placeholder","On Site SLA","name","On-Site-SLA","id","On-Site-SLA","formControlName","OnSiteSLA",1,"form-control","mb-1",3,"input"],["for","On-Site-SLA-Duration",1,"form-label"],["placeholder","Select On Site SLA Duration","formControlName","OnSiteSLADurationDesc",1,"custom",3,"items","readonly"],["for","Expected-Completion-SLA",1,"form-label"],["type","number","placeholder","Expected Completion SLA","name","Expected-Completion-SLA","id","Expected-Completion-SLA","formControlName","exepectedComplitionSLA",1,"form-control","mb-1",3,"input"],["for","Expected-Completion-SLA-Duration",1,"form-label"],["placeholder","Select Expected Completion SLA Duration","formControlName","exepectedComplitionSLADurationDesc",1,"custom",3,"items","readonly"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"swal2-container","swal2-center","swal2-backdrop-show",2,"overflow-y","auto"],["aria-labelledby","swal2-title","aria-describedby","swal2-html-container","tabindex","-1","role","dialog","aria-live","assertive","aria-modal","true",1,"swal2-popup","swal2-modal","swal2-show",2,"display","grid"],[1,"swal2-progress-steps",2,"display","none"],[1,"swal2-icon",2,"display","none"],[1,"swal2-image",2,"display","none"],["id","swal2-title",1,"swal2-title",2,"display","none"],["id","swal2-html-container",1,"swal2-html-container",2,"display","block"],[1,"mt-3"],["src","https://cdn.lordicon.com/lupuorrc.json","trigger","loop","colors","primary:#0ab39c,secondary:#405189",2,"width","120px","height","120px"],[1,"mt-4","pt-2","fs-15"],[1,"text-muted","mx-4","mb-0"],[1,"swal2-input",2,"display","none"],["type","file",1,"swal2-file",2,"display","none"],[1,"swal2-range",2,"display","none"],["type","range"],[1,"swal2-select",2,"display","none"],[1,"swal2-radio",2,"display","none"],["for","swal2-checkbox",1,"swal2-checkbox",2,"display","none"],["type","checkbox"],[1,"swal2-label"],[1,"swal2-textarea",2,"display","none"],["id","swal2-validation-message",1,"swal2-validation-message",2,"display","none"],[1,"swal2-actions",2,"display","flex"],[1,"swal2-loader"],["type","button","aria-label","",1,"swal2-confirm","btn","btn-warning","me-2",3,"click"],["type","button","aria-label","",1,"swal2-confirm","btn","btn-success","me-2",3,"click"]],template:function(a,n){if(1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Company "),e.TgZ(11,"span",9),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"ng-select",10),e.NdJ("change",function(c){return n.onCompanyValueChange(c)}),e.qZA(),e.YNc(14,T,3,0,"div",11),e.qZA(),e.TgZ(15,"div",7)(16,"label",8),e._uU(17,"Client "),e.TgZ(18,"span",9),e._uU(19,"*"),e.qZA()(),e._UZ(20,"ng-select",12),e.YNc(21,N,3,0,"div",11),e.qZA(),e.TgZ(22,"div",7)(23,"label",13),e._uU(24),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",14),e.YNc(28,I,4,3,"div",11),e.qZA(),e.TgZ(29,"div",15)(30,"label",16),e._uU(31),e.TgZ(32,"span",9),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",17),e.YNc(35,w,2,1,"div",11),e.qZA(),e.TgZ(36,"div",15)(37,"label",18),e._uU(38,"HOD "),e.qZA(),e._UZ(39,"input",19),e.YNc(40,q,2,1,"div",11),e.qZA(),e.TgZ(41,"div",15)(42,"label",20),e._uU(43,"Currency Code "),e.TgZ(44,"span",9),e._uU(45,"*"),e.qZA()(),e.TgZ(46,"ng-select",21),e.NdJ("ngModelChange",function(c){return n.selectedCurrency=c}),e.YNc(47,O,5,3,"ng-template",22),e.qZA(),e.YNc(48,k,2,1,"div",11),e.qZA()(),e.TgZ(49,"div",23)(50,"ul",24,25),e.NdJ("activeIdChange",function(c){return n.active=c})("navChange",function(c){return n.onNavChange(c)}),e.TgZ(52,"li",26)(53,"a",27),e._uU(54," CONTACT DETAILS "),e.qZA(),e.YNc(55,J,29,0,"ng-template",28),e.qZA(),e.TgZ(56,"li",26)(57,"a",29),e._uU(58," SLA DETAILS "),e.qZA(),e.YNc(59,V,28,18,"ng-template",28),e.qZA()(),e._UZ(60,"div",30),e.TgZ(61,"div",31)(62,"div",32)(63,"button",33),e.NdJ("click",function(){return n.goback()}),e._uU(64," Back "),e.qZA(),e.TgZ(65,"button",34),e.NdJ("click",function(c){return n.addDepartmentFormDetails(c)}),e.YNc(66,R,1,0,"span",35),e._uU(67," Submit "),e.qZA()()()()()()(),e.YNc(68,B,32,0,"div",36)),2&a){const l=e.MAs(51);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(4),e.AsE(" ",n.editMode.isEdit?"Edit":"Add"," ",n.departmentProjectLabel,"\xa0 "),e.xp6(2),e.Q6J("formGroup",n.addDepartmentForm),e.xp6(7),e.Q6J("items",n.companyData)("loading",n.loading.company)("clearable",!0),e.xp6(1),e.Q6J("ngIf",n.form.companyId.invalid&&n.form.companyId.touched),e.xp6(6),e.Q6J("loading",n.loading.client)("items",n.clientData)("clearable",!0),e.xp6(1),e.Q6J("ngIf",n.form.clientId.invalid&&n.form.clientId.touched),e.xp6(3),e.hij("",n.departmentProjectLabel," Code "),e.xp6(3),e.Q6J("placeholder",n.departmentProjectLabel+" Code")("ngClass",e.WLB(32,j,n.form.departmentCode.invalid&&n.form.departmentCode.touched,(null==n.form.departmentCode?null:n.form.departmentCode.valid)&&(null==n.form.departmentCode?null:n.form.departmentCode.touched))),e.xp6(1),e.Q6J("ngIf",n.form.departmentCode.invalid&&n.form.departmentCode.touched),e.xp6(3),e.hij("",n.departmentProjectLabel," Name "),e.xp6(3),e.Q6J("placeholder",n.departmentProjectLabel+" Name")("ngClass",e.WLB(35,j,n.form.departmentName.invalid&&n.form.departmentName.touched,(null==n.form.departmentName?null:n.form.departmentName.valid)&&(null==n.form.departmentName?null:n.form.departmentName.touched))),e.xp6(1),e.Q6J("ngIf",n.form.departmentName.invalid&&n.form.departmentName.touched),e.xp6(5),e.Q6J("ngIf",n.form.departHeadName.invalid&&n.form.departHeadName.touched),e.xp6(6),e.Q6J("items",n.countryAndCurrencyList)("ngModel",n.selectedCurrency),e.xp6(2),e.Q6J("ngIf",n.form.currencyCode.invalid&&n.form.currencyCode.touched),e.xp6(2),e.Q6J("activeId",n.active),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavOutlet",l),e.xp6(5),e.Q6J("disabled",n.addDepartmentForm.invalid),e.xp6(1),e.Q6J("ngIf",n.addDepartmentFormloding),e.xp6(2),e.Q6J("ngIf",n.successMessageVisible)}},dependencies:[d.mk,d.O5,m._Y,m.Fj,m.wV,m.JJ,m.JL,m.sg,m.u,A.w9,A.ir,Z.n,h.uN,h.Pz,h.nv,h.Is,h.Vx,h.tO,h.Dy],styles:[".image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:200px;width:200px;border:3px solid lightgrey;border-radius:50%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}.image-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.ng-select.custom[_ngcontent-%COMP%]{border:0px;min-height:0px;max-height:30px;border-radius:10}.ng-select.custom[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:0px;max-height:30px;border-radius:10}.ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{min-height:0px;max-height:30px;border-radius:10}"]})}}return o})();var Y=s(2438),z=s(2181),W=s(3620),Q=s(3997),H=s(9397),K=s(7235);const $=["inputer"];function X(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",34)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToAddPage())}),e._UZ(2,"i",36),e._uU(3),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(3),e.hij(" Add ",t.isProject?"Project":"Department"," ")}}function ee(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(n){e.CHM(t);const l=e.oxw().$implicit,c=e.oxw();return e.KtG(c.editHandler(n,l))}),e._UZ(1,"i",48),e._uU(2," Edit"),e.qZA()}}function te(o,u){1&o&&e._UZ(0,"li",49)}function ne(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(),c=e.MAs(58);return e.KtG(l.confirm(c,n.departmentId))}),e._UZ(1,"i",51),e._uU(2," Delete"),e.qZA()}}function oe(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"tr",37)(1,"td",38),e.NdJ("click",function(n){const c=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.navigateToView(n,c))}),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span")(13,"div",39)(14,"button",40),e._UZ(15,"i",41),e.qZA(),e.TgZ(16,"ul",42)(17,"li")(18,"a",43),e.NdJ("click",function(n){const c=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.navigateToView(n,c))}),e._UZ(19,"i",44),e._uU(20," View "),e.qZA()(),e.TgZ(21,"li"),e.YNc(22,ee,3,0,"a",45),e.qZA(),e.YNc(23,te,1,0,"li",46),e.TgZ(24,"li"),e.YNc(25,ne,3,0,"a",47),e.qZA()()()()()()}if(2&o){const t=u.$implicit,a=e.oxw();e.xp6(2),e.hij(" ",t.departmentCode," "),e.xp6(2),e.hij(" ",t.departmentName," "),e.xp6(2),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.clientName," "),e.xp6(2),e.hij(" ",t.contactPerson1||"NA"," "),e.xp6(12),e.Q6J("ngIf",a.returnValueMenu.edit),e.xp6(1),e.Q6J("ngIf",a.returnValueMenu.delete),e.xp6(2),e.Q6J("ngIf",a.returnValueMenu.delete)}}function ae(o,u){if(1&o&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" No ",t.isProject?"Project":"Department"," Found ")}}function ie(o,u){1&o&&(e._UZ(0,"i",56),e._uU(1," Prev "))}function re(o,u){1&o&&(e._uU(0," Next "),e._UZ(1,"i",57))}function se(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"ngb-pagination",53),e.NdJ("pageChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.page=n)})("pageChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getdepartmentPagination())}),e.YNc(1,ie,2,0,"ng-template",54)(2,re,2,0,"ng-template",55),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function le(o,u){if(1&o){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"button",60),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",61)(4,"div",62),e._UZ(5,"lord-icon",63),e.TgZ(6,"div",64)(7,"h4"),e._uU(8),e.qZA(),e.TgZ(9,"p",65),e._uU(10),e.qZA()()(),e.TgZ(11,"div",66)(12,"button",67),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._UZ(13,"i",68),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteData(n.deleteId))})("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(8),e.hij(" You are about to delete a ",t.isProject?"Project":"Department"," "),e.xp6(2),e.hij(" Deleting your ",t.isProject?"Project":"Department"," will remove all of your information from our database. ")}}let de=(()=>{class o{constructor(t,a,n,l,c,v,L){this.router=t,this.service=a,this.modalService=n,this.commonFunctionService=l,this.dropdownServices=c,this.authAssetService=v,this.menuService=L,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.departmentList=[],this.isProject=!0,this.selectedDepartmentName="",this.filteredList=[],this.payload={SearchCompanyId:"",SearchClientId:"",SearchDepartName:""},this.companyListArray=[],this.clientListArray=[],this.label="Department",this.breadCrumbItems=[{label:"Department"},{label:"Department List",active:!0}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authAssetService.getisProject(),this.isProject?(this.label="Projects",this.breadCrumbItems=[{label:"Project"},{label:"My Project",active:!0}]):(this.label="Departments",this.breadCrumbItems=[{label:"Department"},{label:"My Department",active:!0}])}ngOnInit(){this.getCompanyList(),localStorage.getItem("objectSerachForProjectList")?this.getObjectAfterRefreshProject():this.getDepartmentList()}setObjectBeforeRefeshProject(){let t={};this.selectedCompanyId&&(t.SearchCompanyId=this.selectedCompanyId),this.selectedClientId&&(t.SearchClientId=this.selectedClientId),this.clientListArray&&(t.clientListArray=this.clientListArray),this.selectedDepartmentName&&(t.SearchDepartName=this.selectedDepartmentName),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForProjectList",JSON.stringify(t))}getObjectAfterRefreshProject(){let t=JSON.parse(localStorage.getItem("objectSerachForProjectList"));this.clientListArray=t.clientListArray?t.clientListArray:[],this.selectedClientId=t.selectedClientId?t.selectedClientId:[],this.selectedCompanyId=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedClientId=t.SearchClientId?t.SearchClientId:null,this.selectedDepartmentName=t.SearchDepartName?t.SearchDepartName:null,this.payload.SearchCompanyId=this.selectedCompanyId,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.getDepartmentList(),this.getClientdetails()}getClientdetails(){this.service.getClientForApplicationSettingDrobDown({SearchCompanyId:this.selectedCompanyId,SearchClientId:this.selectedClientId}).subscribe(a=>{this.clientListArray=a.list,this.setObjectBeforeRefeshProject()})}getDepartmentList(){this.service.getDepartmentTableList_LocalPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{"200"==t?.code&&(this.departmentList=t?.list,this.totalRecords=t?.list.length,this.filteredList=this.departmentList,this.collectionSize=this.filteredList.length,this.getdepartmentPagination(),this.setObjectBeforeRefeshProject())})}getdepartmentPagination(){this.filteredList=this.departmentList.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.to=this.page*this.pageSize>this.departmentList.length?this.departmentList.length:this.page*this.pageSize;let t=this.page*this.pageSize-(this.pageSize-1);this.from=t<1?1:t,this.from=0==this.departmentList.length?0:this.from}goToAddPage(){this.service.accessRight=!0,_.n.editDepartmentId=0,this.router.navigate(["/application-settings/department/add-project"])}getCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.companyListArray=t.list,this.setObjectBeforeRefeshProject()})}onCompanyValueChange(t){this.page=1,this.payload.SearchCompanyId=this.selectedCompanyId,this.selectedClientId=null,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,this.getClientdetails(),this.getDepartmentList()}onClientValueChange(t){this.page=1,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,this.getClientdetails(),this.getDepartmentList()}editHandler(t,a){this.service.accessRight=!0,_.n.editDepartmentId=a.departmentId,this.router.navigate(["project-management/project-setup/add-project"])}navigateToView(t,a){_.n.editDepartmentId=a.departmentId,this.router.navigate(["/project-management/project-setup/view-project"])}navigateToViewAssignUser(t,a){_.n.editDepartmentId=a.departmentId,this.router.navigate(["/application-settings/department/assign-project-user"])}viewHandler(t,a){}clearAllPayload(){this.selectedCompanyId=null,this.selectedClientId=null,this.selectedDepartmentName=null,this.payload={SearchCompanyId:"",SearchClientId:"",SearchDepartName:""},this.page=1,this.clientListArray=[],this.getDepartmentList()}confirm(t,a){this.deleteId=a,this.modalService.open(t,{centered:!0})}deleteData(t){this.deleteId=t,this.service.postDeleteDepartment({DepartmentId:this.deleteId}).subscribe(a=>{this.success(a),this.deleteId=null,this.page=1,this.getDepartmentList()})}success(t){C().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}error(t){C().fire({toast:!0,position:"top-end",icon:"warning",title:t.error.message||t.message,showConfirmButton:!1,timer:2e3})}ngAfterViewInit(){(0,Y.R)(this.input.nativeElement,"input").pipe((0,z.h)(Boolean),(0,W.b)(300),(0,Q.x)(),(0,H.b)(t=>{this.searchFilter()})).subscribe()}searchFilter(){this.page=1,this.selectedDepartmentName?(this.payload.SearchDepartName=this.selectedDepartmentName,this.getDepartmentList()):(this.payload.SearchDepartName=null,this.getDepartmentList())}static{this.\u0275fac=function(a){return new(a||o)(e.Y36(p.F0),e.Y36(_.n),e.Y36(h.FF),e.Y36(r.K),e.Y36(i.V),e.Y36(D.u),e.Y36(K.l))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-project"]],viewQuery:function(a,n){if(1&a&&e.Gf($,7),2&a){let l;e.iGM(l=e.CRH())&&(n.input=l.first)}},decls:59,vars:21,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","orderList",1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-10"],[1,"card-title","mb-0"],["class","col-sm-2 text-end",4,"ngIf"],[1,"card-body","border","border-dashed","border-end-0","border-start-0","mb-2"],[1,"row","g-2"],[1,"col-lg"],[1,"search-box"],[1,"input-group"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["type","search","name","searchTerm",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","text-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-2","pb-0"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],["class","text-muted",4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","pb-3"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2","mt-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],["deleteModel",""],[1,"col-sm-2","text-end"],["type","button","id","create-btn",1,"btn","btn-success","add-btn",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"text-muted"],[1,"fw-medium","link-primary",3,"click"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["class","dropdown-item cursor-pointer",3,"click",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item cursor-pointer","data-bs-toggle","modal","data-bs-target","#removeItemModal",3,"click",4,"ngIf"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center","text-muted"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","btn-primary",3,"click"]],template:function(a,n){1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8),e.qZA()(),e.YNc(9,X,4,1,"div",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"ng-select",14),e.NdJ("change",function(c){return n.onCompanyValueChange(c)})("ngModelChange",function(c){return n.selectedCompanyId=c}),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div")(18,"div",13)(19,"ng-select",15),e.NdJ("change",function(c){return n.onClientValueChange(c)})("ngModelChange",function(c){return n.selectedClientId=c}),e.qZA()()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"input",16,17),e.NdJ("ngModelChange",function(c){return n.selectedDepartmentName=c}),e.qZA(),e._UZ(24,"i",18),e.qZA(),e._UZ(25,"div"),e.qZA(),e.TgZ(26,"div",19)(27,"button",20),e.NdJ("click",function(){return n.clearAllPayload()}),e._UZ(28,"i",21),e._uU(29," Clear "),e.qZA()()()(),e.TgZ(30,"div",22)(31,"div",23)(32,"table",24)(33,"thead")(34,"tr",25)(35,"th"),e._uU(36),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Company"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Client"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Person"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Action"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,oe,26,8,"tr",26),e.qZA()(),e.YNc(49,ae,2,1,"div",27),e.qZA(),e.TgZ(50,"div",28)(51,"div",29)(52,"div",30),e._uU(53),e.qZA()(),e.TgZ(54,"div",29)(55,"div",31),e.YNc(56,se,3,5,"ngb-pagination",32),e.qZA()()()()()()(),e.YNc(57,le,17,2,"ng-template",null,33,e.W1O)),2&a&&(e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(8),e.hij(" ",n.isProject?"Project":"Department","s "),e.xp6(1),e.Q6J("ngIf",n.returnValueMenu.add),e.xp6(6),e.Q6J("items",n.companyListArray)("clearable",!0)("ngModel",n.selectedCompanyId),e.xp6(4),e.Q6J("items",n.clientListArray)("disabled",!n.selectedCompanyId||0===n.selectedCompanyId)("clearable",!0)("ngModel",n.selectedClientId),e.xp6(3),e.s9C("placeholder",n.isProject?" Search for Project name":" Search for Department name"),e.Q6J("ngModel",n.selectedDepartmentName),e.xp6(14),e.hij("",n.isProject?"Project":"Department"," Code"),e.xp6(2),e.Oqu(n.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngForOf",n.filteredList),e.xp6(1),e.Q6J("ngIf",0===n.filteredList.length),e.xp6(4),e.lnq(" Showing ",n.from," to ",n.to," of ",n.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",n.totalRecords>n.pageSize))},dependencies:[d.sg,d.O5,m.Fj,m.JJ,m.On,A.w9,h.jt,h.iD,h.Vi,h.N9,h.GZ,h.ju,Z.n]})}}return o})();var pe=s(6597);function ce(o,u){if(1&o&&(e.TgZ(0,"div",23)(1,"div",24)(2,"span",25),e.ynx(3),e._UZ(4,"app-avatar-photo",26),e.BQk(),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("name",t.toUpperCaseword(t.dDetail.departmentName))}}const me=[{path:"add-project",component:G},{path:"list-project",component:de},{path:"view-project",component:(()=>{class o{constructor(t,a,n,l){this.departmentService=t,this.authService=a,this.route=n,this.router=l,this.label="Department Detail",this.breadCrumbItems=[{label:"Department"},{label:"Department Detail",active:!0}],this.dDetail={},this.departmentProjectLabel="",this.departmentProjectLabel=this.authService.getisProject()?"Project":"Department",this.label=`${this.departmentProjectLabel} Detail`,this.breadCrumbItems=[{label:`${this.departmentProjectLabel}`},{label:`${this.departmentProjectLabel} Detail`,active:!0}];const c=_.n.editDepartmentId;0==c?this.router.navigate(["/project-management/project-setup/list-project"]):this.getDepartmentDetail(c)}getDepartmentDetail(t){this.departmentService.getDepartmentDetail(t).subscribe({next:a=>{this.dDetail=a.data}})}toUpperCaseword(t){return t?t.toUpperCase():""}goBack(){this.router.navigate(["/project-management/project-setup/list-project"])}static{this.\u0275fac=function(a){return new(a||o)(e.Y36(_.n),e.Y36(D.u),e.Y36(p.gz),e.Y36(p.F0))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-project"]],decls:114,vars:22,consts:[[3,"title","breadcrumbItems"],[1,"card","department-view"],[1,"card-body","mb-0"],[1,"row"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","fw-bold"],["_ngcontent-shg-c69","",1,"mb-3","fw-semibold","text-uppercase"],[1,"mt-sm-2","mt-4","mb-4"],["class","flex-shrink-0",4,"ngIf"],[1,"col-12"],[1,"row","border-top","border-top-dashed","py-3"],[1,"col-lg-12","col-12","mb-3"],[1,"mb-2","fw-bold","text-uppercase","text-muted"],[1,"col-sm-12","col-md-4","col-lg-3","mb-3"],[1,"mb-2","fw-bold"],[1,"fs-14","mb-0"],[1,"col-sm-12","col-md-4","col-lg-3","mb-3","mt-4"],[1,"row","border-top","border-top-dashed","py-3","pb-0"],[1,"col-lg-6"],[1,"col-lg-6","mt-3"],[1,"hstack","justify-content-end","gap-2","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect",3,"click"],[1,"align-bottom"],[1,"flex-shrink-0"],[1,"avatar-lg"],[1,"rounded"],[3,"name"]],template:function(a,n){1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,ce,5,1,"div",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14,"Project Detail"),e.qZA()(),e.TgZ(15,"div",13)(16,"p",14),e._uU(17),e.qZA(),e.TgZ(18,"p",15),e._uU(19),e.qZA()(),e.TgZ(20,"div",13)(21,"p",14),e._uU(22,"Company Name"),e.qZA(),e.TgZ(23,"p",15),e._uU(24),e.qZA()(),e.TgZ(25,"div",13)(26,"p",14),e._uU(27,"Client Name"),e.qZA(),e.TgZ(28,"p",15),e._uU(29),e.qZA()(),e.TgZ(30,"div",13)(31,"p",14),e._uU(32,"HOD"),e.qZA(),e.TgZ(33,"p",15),e._uU(34),e.qZA()(),e.TgZ(35,"div",13)(36,"p",14),e._uU(37,"Currency Code"),e.qZA(),e.TgZ(38,"p",15),e._uU(39),e.qZA()()()(),e.TgZ(40,"div",9)(41,"div",10)(42,"div",11)(43,"p",12),e._uU(44,"Contact Detail"),e.qZA()(),e.TgZ(45,"div",13)(46,"p",14),e._uU(47,"Person"),e.qZA(),e.TgZ(48,"p",15),e._uU(49),e.qZA()(),e.TgZ(50,"div",13)(51,"p",14),e._uU(52,"Designation"),e.qZA(),e.TgZ(53,"p",15),e._uU(54),e.qZA()(),e.TgZ(55,"div",13)(56,"p",14),e._uU(57,"Mobile No"),e.qZA(),e.TgZ(58,"p",15),e._uU(59),e.qZA()(),e.TgZ(60,"div",13)(61,"p",14),e._uU(62,"Phone No"),e.qZA(),e.TgZ(63,"p",15),e._uU(64),e.qZA()(),e.TgZ(65,"div",16)(66,"p",14),e._uU(67,"Email"),e.qZA(),e.TgZ(68,"p",15),e._uU(69),e.qZA()(),e.TgZ(70,"div",16)(71,"p",14),e._uU(72,"Fax No"),e.qZA(),e.TgZ(73,"p",15),e._uU(74),e.qZA()()()(),e.TgZ(75,"div",9)(76,"div",17)(77,"div",11)(78,"p",12),e._uU(79,"SLA Details"),e.qZA()(),e.TgZ(80,"div",18)(81,"p",14),e._uU(82,"Respond SLA Duration"),e.qZA(),e.TgZ(83,"p",15),e._uU(84),e.qZA()(),e.TgZ(85,"div",18)(86,"p",14),e._uU(87,"Respond SLA"),e.qZA(),e.TgZ(88,"p",15),e._uU(89),e.qZA()(),e.TgZ(90,"div",19)(91,"p",14),e._uU(92,"On Site SLA Duration"),e.qZA(),e.TgZ(93,"p",15),e._uU(94),e.qZA()(),e.TgZ(95,"div",19)(96,"p",14),e._uU(97,"On Site SLA"),e.qZA(),e.TgZ(98,"p",15),e._uU(99),e.qZA()(),e.TgZ(100,"div",19)(101,"p",14),e._uU(102,"Expected SLA Duration"),e.qZA(),e.TgZ(103,"p",15),e._uU(104),e.qZA()(),e.TgZ(105,"div",19)(106,"p",14),e._uU(107,"Expected SLA"),e.qZA(),e.TgZ(108,"p",15),e._uU(109),e.qZA()()()()()()(),e.TgZ(110,"div",20)(111,"button",21),e.NdJ("click",function(){return n.goBack()}),e._UZ(112,"i",22),e._uU(113,"Back "),e.qZA()()),2&a&&(e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(7),e.hij(" ",n.dDetail.departmentName," "),e.xp6(2),e.Q6J("ngIf",n.dDetail.departmentName&&n.dDetail.departmentName.length),e.xp6(8),e.hij("",n.departmentProjectLabel," Code"),e.xp6(2),e.hij(" ",n.dDetail.departmentCode||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.companyName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.clientName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.departHeadName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.currencyCode||"-"," "),e.xp6(10),e.hij(" ",n.dDetail.contactPerson1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactDesignation1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactMobileNo1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactPhoneNo1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactEMail1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactFaxNo1||"-"," "),e.xp6(10),e.hij(" ",n.dDetail.respondSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.respondSLADurationDesc||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.onSiteSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.onSiteSLADurationDesc||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.exepectedComplitionSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.exepectedComplitionSLADurationDesc||"-"," "))},dependencies:[d.O5,Z.n,pe.S],styles:[".department-view[_ngcontent-%COMP%]     .circle{width:6rem;height:6rem}"]})}}return o})()},{path:"edit-project",component:(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-project"]],decls:2,vars:0,template:function(a,n){1&a&&(e.TgZ(0,"p"),e._uU(1,"edit-project works!"),e.qZA())}})}}return o})()},{path:"",pathMatch:"full",redirectTo:"list-project"}];let ue=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({imports:[p.Bz.forChild(me),p.Bz]})}}return o})();var he=s(9101),ge=s(6802),_e=s(6762),Ce=s(6903),De=s(9417),be=s(6208);let fe=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({imports:[d.ez,ue,m.u5,m.UX,A.A0,h.XC,h.M,Ce.X,h.jF,h.ZS,_e.JT,be.m,De.t,he.p.pick(ge.kEt),h.Oz]})}}return o})()},9455:(y,b,s)=>{s.d(b,{V:()=>C});var d=s(9862),p=s(553),m=s(9212),_=s(2787),f=s(5035);let C=(()=>{class e{constructor(i,r,D){this._http=i,this._route=r,this.authService=D}GetCompanyListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetCompanyListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetClientListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetClientListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetDepartmentListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetCategoryListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetCategoryListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetSubCategoryListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetSubCategoryListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetVendorListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetVendorListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetLocationListDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetLocationListDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getCountryList(){return this._http.get(p.N.apiUrl+"api/Master/GetCountryList",{headers:(new d.WM).set("Content-Type","application/json")})}getCountryListDrobDown(){return this._http.get(p.N.apiUrl+"api/V2_Master/GetCountryListDrobDown",{headers:(new d.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(i){return this._http.post(p.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getV2_UserListDD(i){return this._http.post(p.N.apiUrl+"api/Maintenance/GetV2_UserListDD",i,{headers:(new d.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(r){return new(r||e)(m.LFG(d.eN),m.LFG(_.F0),m.LFG(f.$))}}static{this.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()}}]);
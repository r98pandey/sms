"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[9338,9455],{5143:(G,v,d)=>{d.d(v,{w:()=>A});var c=d(9862),m=d(6306),T=d(8504),u=d(553),f=d(9212);let A=(()=>{class _{constructor(r){if(this._http=r,this.sendTicketId=null,this.accessRight=!1,this.lastStoreRouterDashboardName="/maintenace-management/dashboard/help-desk-dashboard",this.lastStoreTicketRouterName="/maintenace-management/corrective/service-order/list-service-order",this.ticketObjectInBillingWorkFlow={},this.quotationObjectWorkFlow={},this.ticketPageAction=null,localStorage.getItem("lastStoreTicketRouterName"))this.lastStoreTicketRouterName=localStorage.getItem("lastStoreTicketRouterName");else{let o=JSON.parse(localStorage.getItem("currentUser"));"Client User"===o?.userInfor?.role?this.lastStoreTicketRouterName="Application User"===o?.userInfor?.accessGroupName?"maintenace-management/corrective/ticket/list-ticket":"/maintenace-management/dashboard/client-dashboard":"Help Desk"===o?.userInfor?.role&&(this.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard")}}getTicketList_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetTicketList_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketingtList_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetV2_TicketList_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketDiscussionDetail_Paging_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetV2_TicketDiscussionDetail_Paging_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketDiscussionGlobalDetail_Paging_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetV2_TicketDiscussionGlobalDetail_Paging_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TotalCountTicketOnly(){let r;return r=u.N.apiUrl+"api/MaintentDash/GetV2_TotalCountTicketOnly",this._http.post(r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketList_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetV2_TicketListLates_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketWithIncidentReportSignature_ByPagination(r){let o;return o=u.N.apiUrl+"api/Maintenance/GetV2_TicketWithIncidentReportSignature_ByPagination",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceWorkflowTicketList(r){let o;return o=u.N.apiUrl+"api/MaintentDash/GetV2_MaintenanceWorkflowTicketList",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceWorkflowQuotationList(r){let o;return o=u.N.apiUrl+"api/MaintentDash/GetV2_MaintenanceWorkflowQuotationList",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceGeneralQuotationList(r){let o;return o=u.N.apiUrl+"api/MaintentDash/GetV2_MaintenanceGeneralQuotationList",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceGeneralQuotationListOnlyWaitingForInvoice(r){let o;return o=u.N.apiUrl+"api/MaintentDash/GetV2_MaintenanceGeneralQuotationListOnlyWaitingForInvoice",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceGeneralQuotationListInvoiceDone(r){let o;return o=u.N.apiUrl+"api/MaintentDash/GetV2_MaintenanceGeneralQuotationListInvoiceDone",this._http.post(o,r,{headers:(new c.WM).set("Content-Type","application/json")})}getMaintenanceStatus(r){return this._http.get(u.N.apiUrl+"api/Maintenance/GetMaintenanceStatus/"+r,{headers:(new c.WM).set("Content-Type","application/json")})}getMX_MasterUrgentTypeList(){return this._http.get(u.N.apiUrl+"api/Maintenance/GetMX_MasterUrgentTypeList",{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MasterIncidentTypeList(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_MasterIncidentTypeList",r,{headers:(new c.WM).set("Content-Type","application/json")})}deletedAssetTicketByTech(r){return this._http.post(u.N.apiUrl+"api/Maintenance/DeletedAssetTicketByTech",r,{headers:(new c.WM).set("Content-Type","application/json")})}getMX_MasterTicketType(r){return this._http.get(u.N.apiUrl+"api/Maintenance/GetMX_MasterTicketType?IsDeviceRelated="+r,{headers:(new c.WM).set("Content-Type","application/json")})}createV2_TicketDiscussion(r){return this._http.post(u.N.apiUrl+"api/Maintenance/CreateV2_TicketDiscussion",r,{headers:(new c.WM).set("Content-Type","application/json")})}createV2_TicketDiscussionGlobal(r){return this._http.post(u.N.apiUrl+"api/Maintenance/CreateV2_TicketDiscussionGlobal",r,{headers:(new c.WM).set("Content-Type","application/json")})}addTicket(r){return this._http.post(u.N.apiUrl+"api/Maintenance/CreateTicket",r).pipe((0,m.K)(e=>(0,T._)(e)))}createTicket(r){return this._http.post(`${u.N.apiUrl}api/Maintenance/CreateTicket_Wait`,r).pipe((0,m.K)(o=>(console.error("Error creating ticket:",o),(0,T._)(o))))}getTicketDetails(r){return this._http.get(u.N.apiUrl+"api/Maintenance/GetTicketViewList?ticketId="+r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketingAndIncidentListDetail(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketingAndIncidentListDetail",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketingAssetIncidentQuotWorkorderTask(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketingAssetIncidentQuotWorkorderTask",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketDisscusion_ServerPaging(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketDisscusion_ServerPaging",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketDisscusionGlobal_ServerPaging(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketDisscusionGlobal_ServerPaging",r,{headers:(new c.WM).set("Content-Type","application/json")})}requestBillingEligibilityProcess_V2(r){return this._http.post(u.N.apiUrl+"api/Maintenance/RequestBillingEligibilityProcess_V2",r,{headers:(new c.WM).set("Content-Type","application/json")})}updateReviewerApproverBillingEligibilityProcess(r){return this._http.post(u.N.apiUrl+"api/MaintentDash/UpdateReviewerApproverBillingEligibilityProcess",r,{headers:(new c.WM).set("Content-Type","application/json")})}updateAsset(r){return this._http.post(u.N.apiUrl+"api/Maintenance/UpdateTicketItemStatusAndImageByTech",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_UpdateTicketClose(r){return this._http.post(u.N.apiUrl+"api/MaintentDash/GetV2_UpdateTicketClose",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_UpdateTicketAcknolodge(r){return this._http.post(u.N.apiUrl+"api/MaintentDash/GetV2_UpdateTicketAcknolodge",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_UpdateTicketVerification(r){return this._http.post(u.N.apiUrl+"api/MaintentDash/GetV2_UpdateTicketVerification",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_MaintenanceWorkflowAudit(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_MaintenanceWorkflowAudit",r,{headers:(new c.WM).set("Content-Type","application/json")})}UpdateV2_TicketCancelation(r){return this._http.post(u.N.apiUrl+"api/Maintenance/UpdateV2_TicketCancelation",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketImagesList(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketImagesList",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketVideo(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketVideo",r,{headers:(new c.WM).set("Content-Type","application/json")})}getV2_TicketDocument(r){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_TicketDocument",r,{headers:(new c.WM).set("Content-Type","application/json")})}downloadTikcetFile(r){return this._http.post(u.N.apiUrl+"api/Maintenance/DownloadTikcetFile",r,{responseType:"blob"})}static{this.\u0275fac=function(o){return new(o||_)(f.LFG(c.eN))}}static{this.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},9338:(G,v,d)=>{d.r(v),d.d(v,{AttendanceModule:()=>Tt});var c=d(6814),m=d(2787),T=d(2438),u=d(2181),f=d(553),A=d(3519),_=d.n(A),j=d(3620),r=d(3997),o=d(9397),e=d(9212),x=d(3934),S=d(9862);let W=(()=>{class a{constructor(t){this.http=t}getV2_DailyAttendance_ByPagination(t){return this.http.post(f.N.apiUrl+"api/Maintenance/GetV2_DailyAttendance_ByPagination",t,{headers:(new S.WM).set("Content-Type","application/json")})}getV2_StaffDailyAttendanceCount(){return this.http.get(f.N.apiUrl+"api/MaintentDash/GetV2_StaffDailyAttendanceCount",{headers:(new S.WM).set("Content-Type","application/json")})}GetV2_StaffAbsentList(t){return this.http.post(f.N.apiUrl+"api/Maintenance/GetV2_StaffAbsentList",t,{headers:(new S.WM).set("Content-Type","application/json")})}getDailyAttendanceReport(t){return this.http.post(f.N.apiUrl+"api/SMSReport/GetDailyAttendanceReport",t,{responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||a)(e.LFG(S.eN))}}static{this.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var P=d(9455),h=d(7291),Z=d(2857),O=d(7235),M=d(7625),y=d(6223),w=d(4807),I=d(6762),J=d(8617),F=d(9417),q=d(6592),C=d(9025);function E(a,l){if(1&a&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.companyName," ")}}function Y(a,l){if(1&a&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.clientName," ")}}function H(a,l){if(1&a&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.projectName," ")}}function z(a,l){if(1&a&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.taskType," ")}}function B(a,l){if(1&a&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.taskType," ")}}function K(a,l){if(1&a&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.userData?null:t.userData.taskType," ")}}function $(a,l){if(1&a&&(e.TgZ(0,"li",28),e._UZ(1,"i",29),e._uU(2),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.hij("",null==t.userData?null:t.userData.email," ")}}function X(a,l){if(1&a&&(e.TgZ(0,"li",22),e._UZ(1,"i",30),e._uU(2),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.hij("",null==t.userData?null:t.userData.phoneNumber," ")}}function ee(a,l){if(1&a&&(e.TgZ(0,"li",22),e._UZ(1,"i",23),e._uU(2),e.qZA()),2&a){const t=e.oxw();e.xp6(2),e.hij("",null==t.userData?null:t.userData.endDateTime," ")}}function te(a,l){if(1&a&&(e.TgZ(0,"li",22)(1,"b"),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.hij("Checkin Address :- ",null==t.userData?null:t.userData.address_Start,"")}}function ne(a,l){if(1&a&&(e.TgZ(0,"li",22)(1,"b"),e._uU(2),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.hij("Checkout Address :- ",null==t.userData?null:t.userData.address_End,"")}}let R=(()=>{class a{constructor(){this.mapOptions={center:{lat:3.140853,lng:101.693207},zoom:5},this.imgUrl=f.N.apiUrl,this.longitude=101.693207,this.latitude=3.140853,this.userData=[],this.markers=[],this.zoom=12,this.infoWindowOpen="",this.infoWindowOptions={pixelOffset:{width:0,height:-30}}}ngOnChanges(t){console.log(this.userData,"userData"),this.mapOptions={center:{lat:Number(this.latitude),lng:Number(this.longitude)},zoom:17},this.markers.push({lat:Number(this.latitude),lng:Number(this.longitude)}),this.infoWindowOpen=this.typeChecking}getMarkerIcon(t=0){const n={width:50,height:50,equals:s=>s.width===n.width&&s.height===n.height};return{url:0==t?"assets/images/green-dot.png":"assets/images/yellow-dot.png",scaledSize:n}}openInfoWindow(t){console.log(t,"gg")}closeInfoWindow(){this.infoWindowOpen=null}openInfoWindow_newInfo(t,i){this.infoWindowOpen=i,this.infoWindow?.open(t)}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-shown-map-location"]],viewQuery:function(i,n){if(1&i&&e.Gf(C.ch,5),2&i){let s;e.iGM(s=e.CRH())&&(n.infoWindow=s.first)}},inputs:{longitude:"longitude",latitude:"latitude",typeChecking:"typeChecking",userData:"userData"},features:[e.TTD],decls:33,vars:24,consts:[[1,"card"],[1,"card-body","p-0"],["width","100%","height","700px",3,"latitude","longitude","options"],[3,"position","icon","label","mapClick"],["marker","mapMarker"],[3,"options","position","isOpen","closeclick"],[1,"card","mb-0"],[1,"card-body","mb-0"],[1,"list-unstyled","mb-0","vstack","gap-1"],[1,"d-flex","align-items-center"],[1,"flex-shrink-0"],["alt","",1,"avatar-sm","rounded",3,"src"],[1,"flex-grow-1","ms-3"],[1,"fs-15","mb-1","text-success"],[1,"text-muted","mb-0","text-success"],["class","text-muted mb-0 text-warning",4,"ngIf"],[1,"text-muted","mb-0"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["class","mb-0",4,"ngIf"],["class","mt-0 mb-0",4,"ngIf"],[1,"mt-0","mb-0"],[1,"ri-calendar-event-line","me-2","align-middle","text-muted","fs-16"],[1,"text-muted","mb-0","text-warning"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[1,"mb-0"],[1,"ri-mail-line","me-2","align-middle","text-muted","fs-16"],[1,"ri-phone-line","me-2","align-middle","text-muted","fs-16"]],template:function(i,n){if(1&i){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"google-map",2)(3,"map-marker",3,4),e.NdJ("mapClick",function(){e.CHM(s);const g=e.MAs(4);return e.KtG(n.openInfoWindow_newInfo(g,"checkIn"))}),e.qZA(),e.TgZ(5,"map-info-window",5),e.NdJ("closeclick",function(){return n.closeInfoWindow()}),e.TgZ(6,"div",6)(7,"div",7)(8,"ul",8)(9,"li")(10,"div",9)(11,"div",10),e._UZ(12,"img",11),e.qZA(),e.TgZ(13,"div",12)(14,"h6",13),e._uU(15),e.qZA(),e.TgZ(16,"p",14),e._uU(17),e.qZA(),e.YNc(18,E,2,1,"p",15)(19,Y,2,1,"p",15)(20,H,2,1,"p",15),e.TgZ(21,"p",16),e.YNc(22,z,2,1,"span",17)(23,B,2,1,"span",18)(24,K,2,1,"span",19),e.qZA()()()(),e.YNc(25,$,3,1,"li",20)(26,X,3,1,"li",21),e.TgZ(27,"li",22),e._UZ(28,"i",23),e._uU(29),e.qZA(),e.YNc(30,ee,3,1,"li",21)(31,te,3,1,"li",21)(32,ne,3,1,"li",21),e.qZA()()()()()()()}2&i&&(e.xp6(2),e.Q6J("latitude",n.latitude)("longitude",n.longitude)("options",n.mapOptions),e.xp6(1),e.Q6J("position",n.markers[0])("icon",n.getMarkerIcon())("label",n.typeChecking),e.xp6(2),e.Q6J("options",n.infoWindowOptions)("position",n.markers[0])("isOpen",!0),e.xp6(7),e.Q6J("src",n.imgUrl+(null==n.userData?null:n.userData.techPicUrlStart),e.LSH),e.xp6(3),e.hij(" ",null==n.userData?null:n.userData.fullName," "),e.xp6(2),e.hij(" ",null==n.userData?null:n.userData.designationName," "),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.companyName),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.clientName),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.projectName),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==n.userData?null:n.userData.taskType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==n.userData?null:n.userData.taskType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==n.userData?null:n.userData.taskType)),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.email),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.phoneNumber),e.xp6(3),e.hij("",null==n.userData?null:n.userData.startDateTime," "),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.endDateTime),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.address_Start),e.xp6(1),e.Q6J("ngIf",null==n.userData?null:n.userData.address_End))},dependencies:[c.O5,C.b6,C.ch,C.O_]})}}return a})();const ae=["inputer"];function ie(a,l){if(1&a&&e._UZ(0,"span",73),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.checkInEmployees)("options",t.option)}}function se(a,l){1&a&&(e.TgZ(0,"span",74),e._uU(1,"0"),e.qZA())}function oe(a,l){if(1&a&&e._UZ(0,"span",73),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.checkOutEmployees)("options",t.option)}}function re(a,l){1&a&&(e.TgZ(0,"span",74),e._uU(1,"0"),e.qZA())}function le(a,l){if(1&a&&e._UZ(0,"span",73),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.absentEmployees)("options",t.option)}}function ce(a,l){1&a&&(e.TgZ(0,"span",74),e._uU(1,"0"),e.qZA())}function pe(a,l){if(1&a&&e._UZ(0,"span",73),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.workFromOffice)("options",t.option)}}function de(a,l){1&a&&(e.TgZ(0,"span",74),e._uU(1,"0"),e.qZA())}function ue(a,l){if(1&a&&e._UZ(0,"span",75),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.workFromHome)("options",t.option)}}function he(a,l){1&a&&(e.TgZ(0,"span",76),e._uU(1,"0"),e.qZA())}function me(a,l){if(1&a&&e._UZ(0,"span",73),2&a){const t=e.oxw();e.Q6J("countUp",t.staffDailyAttendanceCountList.workFromOnSite)("options",t.option)}}function ge(a,l){1&a&&(e.TgZ(0,"span",74),e._uU(1,"0"),e.qZA())}function _e(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"i",77),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearFilter())}),e.qZA()}}function fe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",13)(2,"img",95),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.open(s.apiUrl+n.profileImageUrl))}),e.qZA(),e.TgZ(3,"div",96),e._uU(4),e.TgZ(5,"p",94),e._uU(6),e.qZA()()()()}if(2&a){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(2),e.hYB("src","",i.apiUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.hij(" ",t.fullName," "),e.xp6(2),e.hij(" ",t.designationName," ")}}function Te(a,l){if(1&a&&(e.TgZ(0,"div")(1,"div",13)(2,"div",97)(3,"div",98),e._uU(4),e.qZA()(),e.TgZ(5,"div",96),e._uU(6),e.TgZ(7,"p",94),e._uU(8),e.qZA()()()()),2&a){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.fullName.charAt(0)," "),e.xp6(2),e.hij(" ",t.fullName," "),e.xp6(2),e.hij(" ",t.designationName," ")}}function De(a,l){1&a&&(e.TgZ(0,"span",99),e._uU(1,"Hour's "),e.qZA())}function ye(a,l){1&a&&(e.TgZ(0,"span",99),e._uU(1,"Hour's "),e.qZA())}function Ce(a,l){1&a&&(e.TgZ(0,"span",99),e._uU(1,"Hour's "),e.qZA())}function ve(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"- "),e.qZA())}function be(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span",102)(1,"img",103),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.open(s.apiUrl+n.techPicUrlStart))}),e.qZA(),e._uU(2,"| "),e.qZA()}if(2&a){const t=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("src",i.apiUrl+t.techPicUrlStart,e.LSH)}}function Ae(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,be,3,1,"span",100),e.TgZ(2,"i",101),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(3),p=e.MAs(149);return e.KtG(s.openAduit(p,n.startGPSLocation,"Check-In",n))}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.techPicUrlStart),e.xp6(1),e.Q6J("title",t.startGPSLocation)}}function ke(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"- "),e.qZA())}function xe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span",102)(1,"img",103),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.open(s.apiUrl+n.techPicUrlEnd))}),e.qZA(),e._uU(2," | "),e.qZA()}if(2&a){const t=e.oxw(2).$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("src",i.apiUrl+t.techPicUrlEnd,e.LSH)}}function Se(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,xe,3,1,"span",100),e.TgZ(2,"i",101),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(3),p=e.MAs(149);return e.KtG(s.openAduit(p,n.endGPSLocation,"Check-Out",n))}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.techPicUrlEnd),e.xp6(1),e.Q6J("title",t.endGPSLocation)}}function we(a,l){if(1&a&&(e.TgZ(0,"tr")(1,"td",90),e.YNc(2,fe,7,4,"div",79)(3,Te,9,3,"div",79),e.qZA(),e.TgZ(4,"td",91),e._uU(5),e.qZA(),e.TgZ(6,"td",92),e._uU(7),e.YNc(8,De,2,0,"span",93),e.qZA(),e.TgZ(9,"td",92),e._uU(10),e.YNc(11,ye,2,0,"span",93),e.qZA(),e.TgZ(12,"td",92),e._uU(13),e.YNc(14,Ce,2,0,"span",93),e.qZA(),e.TgZ(15,"td",91),e._uU(16),e.TgZ(17,"p",94),e.YNc(18,ve,2,0,"span",79)(19,Ae,3,2,"span",79),e.qZA()(),e.TgZ(20,"td",91),e._uU(21),e.TgZ(22,"p",94),e.YNc(23,ke,2,0,"span",79)(24,Se,3,2,"span",79),e.qZA()()()),2&a){const t=l.$implicit;e.xp6(2),e.Q6J("ngIf",t.profileImageUrl),e.xp6(1),e.Q6J("ngIf",!t.profileImageUrl),e.xp6(2),e.hij(" ",t.taskType," "),e.xp6(1),e.Q6J("ngClass",0==t.regularHours?"text-danger":"text-success"),e.xp6(1),e.hij(" ",t.regularHours," "),e.xp6(1),e.Q6J("ngIf",0==t.regularHours),e.xp6(1),e.Q6J("ngClass",0==t.overtimeHours?"text-danger":"text-success"),e.xp6(1),e.hij(" ",t.overtimeHours," "),e.xp6(1),e.Q6J("ngIf",0==t.overtimeHours),e.xp6(1),e.Q6J("ngClass",0==t.totalWorkingHours?"text-danger":"text-success"),e.xp6(1),e.hij(" ",t.totalWorkingHours," "),e.xp6(1),e.Q6J("ngIf",0==t.totalWorkingHours),e.xp6(2),e.hij(" ",t.startDateTime," "),e.xp6(2),e.Q6J("ngIf",!t.startGPSLocation),e.xp6(1),e.Q6J("ngIf",t.startGPSLocation),e.xp6(2),e.hij(" ",t.endDateTime||"-"," "),e.xp6(2),e.Q6J("ngIf",!t.endGPSLocation),e.xp6(1),e.Q6J("ngIf",t.endGPSLocation)}}function Ze(a,l){if(1&a&&(e.TgZ(0,"div")(1,"table",86)(2,"thead")(3,"tr",87)(4,"th"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Work From"),e.qZA(),e.TgZ(8,"th",88),e._uU(9,"Normal"),e.qZA(),e.TgZ(10,"th",88),e._uU(11,"OverTime"),e.qZA(),e.TgZ(12,"th",88),e._uU(13,"Total Working"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Check In"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Check Out"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,we,25,18,"tr",89),e.qZA()()()),2&a){const t=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",t.userList)}}function Me(a,l){1&a&&(e.TgZ(0,"div",88),e._uU(1," No Attendance Found "),e.qZA())}function Ie(a,l){1&a&&(e._UZ(0,"i",107),e._uU(1," Prev "))}function Ue(a,l){1&a&&(e._uU(0," Next "),e._UZ(1,"i",108))}function Le(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"ngb-pagination",104),e.NdJ("pageChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=n)})("pageChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.pageChange(n))}),e.YNc(1,Ie,2,0,"ng-template",105)(2,Ue,2,0,"ng-template",106),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecords)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Ne(a,l){if(1&a&&(e.TgZ(0,"div",78),e.YNc(1,Ze,20,1,"div",79)(2,Me,2,0,"div",80),e.qZA(),e.TgZ(3,"div",81)(4,"div",82)(5,"div",83),e._uU(6),e.qZA()(),e.TgZ(7,"div",82)(8,"div",84),e.YNc(9,Le,3,5,"ngb-pagination",85),e.qZA()()()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0!=t.userList.length),e.xp6(1),e.Q6J("ngIf",0===t.userList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecords>t.pageSize)}}function Ve(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",109)(1,"h4",110),e._uU(2,"Map"),e.qZA(),e.TgZ(3,"button",111),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",112),e._UZ(5,"app-shown-map-location",113),e.TgZ(6,"div",114)(7,"button",115),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(8," Close "),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("latitude",t.latitude)("longitude",t.longitude)("userData",t.userData)("typeChecking",t.typeChecking)}}function Ge(a,l){if(1&a&&(e.TgZ(0,"div")(1,"div",13)(2,"div",127)(3,"div",128)(4,"div",129),e._UZ(5,"label",130),e.qZA()()(),e.TgZ(6,"div",131),e._UZ(7,"img",132),e.qZA(),e.TgZ(8,"div",133)(9,"h5",134)(10,"a",135),e._uU(11),e.qZA()(),e.TgZ(12,"p",136),e._uU(13),e.qZA()(),e.TgZ(14,"div",137)(15,"p",19)(16,"span"),e._UZ(17,"i",138),e._uU(18),e.qZA()()()()()),2&a){const t=l.$implicit,i=e.oxw(2);e.xp6(7),e.s9C("src",t.profileImageUrl?i.imageUrl+t.profileImageUrl:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.hij(" ",t.fullName," "),e.xp6(2),e.Oqu(t.accessGroupName),e.xp6(5),e.Oqu(t.phoneNumber)}}function je(a,l){1&a&&(e.TgZ(0,"div",139)(1,"p"),e._uU(2,"No Member Found"),e.qZA()())}function Pe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",116)(1,"h5",117),e._uU(2,"Absent Staff List"),e.qZA(),e.TgZ(3,"button",118),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",119)(5,"div",120)(6,"input",121),e.NdJ("keyup",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.filterAbsent(n))})("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.AbsentSearchText=n)}),e.qZA(),e._UZ(7,"i",59),e.qZA(),e.TgZ(8,"ngx-simplebar",122)(9,"div",123),e.YNc(10,Ge,19,4,"div",89)(11,je,3,0,"div",124),e.qZA()()(),e.TgZ(12,"div",125)(13,"button",126),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(14," Close "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.AbsentSearchText),e.xp6(4),e.Q6J("ngForOf",t.filteredAbsentList),e.xp6(1),e.Q6J("ngIf",0==t.filteredAbsentList.length)}}let Oe=(()=>{class a{constructor(t,i,n,s,p,g,b,k,D,U,L,N){this.userService=t,this.attendanceService=i,this.dropdownServices=n,this.modalService=s,this.router=p,this.modal=g,this.commonService=b,this.menuService=k,this.lightbox=D,this.datePipe=U,this.commonFunctionService=L,this.offcanvasService=N,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.userList=[],this.label="Attendance",this.getAbsentList=[],this.imageUrl=f.N.apiUrl,this.currentDate=new Date,this.breadCrumbItems=[{label:"Attendance"},{label:"Daily Attendance",active:!0}],this.isProjectVisible=!1,this.displayLength=10,this.payload={displayLength:10,displayStart:0,SearchFromDateTime:null,SearchToDateTime:null,SearchDesignation:null,SearchFullName:null,SearchCheckIn:null,SearchCheckOut:null},this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.longitude=101.693207,this.latitude=3.140853,this.markers=[{latitude:52.228973,longitude:20.728218}],this.typeChecking="Check-In",this.staffDailyAttendanceCountList={absentEmployees:0,checkInEmployees:0,checkOutEmployees:0,workFromHome:0,workFromOffice:0,workFromOnSite:0},this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0},this.rolesList=[],this.accessGroupList=[],this.loading={role:!1,accessGroup:!1},this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.selectedPortalEnable=null,this.selectedMobileEnable=null,this.selectedDateRangeValue={from:null,to:null},this.mobileYesNoArray=[{id:!0,name:"Mobile Enable"},{id:!1,name:"Mobile Disable"}],this.portalYesNoArray=[{id:!0,name:"Portal Enable"},{id:!1,name:"Portal Disable"}],this.activeCard="",this.filteredAbsentList=[],this.AbsentSearchText="",this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.apiUrl=f.N.apiUrl}ngOnInit(){this.getAccessGroup(),this.getV2_StaffDailyAttendanceCount(),localStorage.getItem("objectSerachForAttendance")?this.getObjectAfterRefresh():this.loadData()}getV2_StaffDailyAttendanceCount(){this.attendanceService.getV2_StaffDailyAttendanceCount().subscribe(t=>{this.staffDailyAttendanceCountList=t.data})}loadData(){this.attendanceService.getV2_DailyAttendance_ByPagination(this.commonService.clean(this.payload)).subscribe(t=>{this.userList=t.list,console.log(this.userList),this.setObjectBeforeRefesh(),this.userList.length>0&&(this.userList=this.userList.filter(i=>((this.userList?.filter(s=>s.id==i.id)).length>0&&(i.checked=!0),1))),this.userList.length>0?(this.totalRecords=t.list[0].totalCount,this.from=t.list.reduce((i,n)=>n.rowNum<i?n.rowNum:i,t.list[0].rowNum),this.to=t.list.reduce((i,n)=>n.rowNum>i?n.rowNum:i,t.list[0].rowNum),this.pageSize=this.displayLength):(this.totalRecords=0,this.from=0,this.to=0,this.pageSize=this.displayLength)},t=>{})}pageChange(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}setObjectBeforeRefesh(){let t={};this.selectedDateRangeValue.to&&(t.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),t.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy"),t.selectedDateRangeValueTo=this.selectedDateRangeValue.to,t.selectedDateRangeValueFrom=this.selectedDateRangeValue.from),this.accessGroupList&&(t.accessGroupList=this.accessGroupList),this.activeCard&&(t.activeCard=this.activeCard),"CheckIn"==this.activeCard&&(t.SearchCheckIn=this.activeCard),"CheckOut"==this.activeCard&&(t.SearchCheckOut=this.activeCard),this.selectedAccessGroupValue&&(t.SearchDesignation=this.selectedAccessGroupValue),this.searchName&&(t.SearchFullName=this.searchName),("Office"==this.activeCard||"Home"==this.activeCard||"On-Site"==this.activeCard)&&(t.SearchTaskType=this.activeCard),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForAttendance",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForAttendance"));this.selectedDateRangeValue.from=t.selectedDateRangeValueFrom,this.selectedDateRangeValue.to=t.selectedDateRangeValueTo,this.activeCard=t.activeCard?t.activeCard:"",this.accessGroupList=t.accessGroupList?t.accessGroupList:[],this.selectedAccessGroupValue=t.SearchDesignation?t.SearchDesignation:null,this.searchName=t.SearchFullName?t.SearchFullName:null,("Office"==this.activeCard||"Home"==this.activeCard||"On-Site"==this.activeCard)&&(this.activeCard=t.SearchTaskType,this.payload.SearchTaskType=this.activeCard),this.payload.SearchDesignation=this.selectedAccessGroupValue,this.payload.SearchFullName=this.searchName,this.selectedDateRangeValue.to&&(this.payload.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),this.payload.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy")),"CheckIn"==this.activeCard&&(this.payload.SearchCheckIn=!0),"CheckOut"==this.activeCard&&(this.payload.SearchCheckOut=!0),t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}onEmployeeNameChangeHandler(t){this.payload.SearchFullName=this.searchName,this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}resetSerachVariable(){this.searchName=null,this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.activeCard=null,this.selectedDateRangeValue={from:null,to:null},this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload={displayLength:10,displayStart:0,SearchFromDateTime:null,SearchToDateTime:null,SearchDesignation:null,SearchFullName:null,SearchCheckIn:null,SearchCheckOut:null},this.loadData()}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}clearFilter(){this.selectedDateRangeValue={from:null,to:null},this.onChangeSelectedDateValue()}ngAfterViewInit(){(0,T.R)(this.input.nativeElement,"input").pipe((0,u.h)(Boolean),(0,j.b)(1e3),(0,r.x)(),(0,o.b)(t=>{this.onEmployeeNameChangeHandler(!0)})).subscribe()}open(t){let n=[];n.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(n)}getRoles(){this.userService.GetRoleList().subscribe({next:t=>{this.rolesList=t.data}})}getAccessGroup(){this.loading.accessGroup=!0,this.userService.getAccessGroupMasterAll().subscribe({next:t=>{this.loading.accessGroup=!1,this.accessGroupList=t.data,this.setObjectBeforeRefesh()}})}onTypeAccessGroup(t){this.selectedAccessGroupValue=t?t.name:null,this.payload.SearchDesignation=this.selectedAccessGroupValue,this.loadData()}onChangeSelectedDateValue(){this.selectedDateRangeValue.to?(this.payload.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),this.payload.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy")):(this.payload.SearchFromDateTime=null,this.payload.SearchToDateTime=null),this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}downloadReport(t){let i={},n=new Date,s="Attendance ";this.selectedDateRangeValue.to&&(i.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),i.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy"),i.SearchDesignation=this.selectedAccessGroupValue,i.RenderFormat=t,i.SearchFullName=this.searchName,console.log(i),this.attendanceService.getDailyAttendanceReport(this.commonFunctionService.clean(i)).subscribe(p=>{const g="PDF"===t?s+n+".pdf":s+n+".xls",b=new Blob([p],{type:"application/octet-stream"}),k=window.URL.createObjectURL(b),D=document.createElement("a");D.href=k,D.download=g,document.body.appendChild(D),D.click(),document.body.removeChild(D)}))}openAduit(t,i,n,s){const p=i.split("|");this.latitude=Number(p[0]),this.longitude=Number(p[1]),this.userData=s,this.typeChecking=n,this.offcanvasService.open(t,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas4"})}onCardClickActiveCheckIn(t){this.activeCard=t,this.payload={displayLength:10,displayStart:0,SearchDesignation:null,SearchCheckIn:!0},localStorage.removeItem("objectSerachForAttendance"),this.loadData()}onCardClickActiveCheckout(t){this.activeCard=t,this.payload={displayLength:10,displayStart:0,SearchDesignation:null,SearchCheckOut:!0},localStorage.removeItem("objectSerachForAttendance"),this.loadData()}onCardClickActiveTaskType(t){this.activeCard=t,this.payload={displayLength:10,displayStart:0,SearchDesignation:null,SearchTaskType:t},localStorage.removeItem("objectSerachForAttendance"),this.loadData()}filterAbsent(t){this.filteredAbsentList=this.getAbsentList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}clearTeach(t){this.AbsentSearchText="",this.filteredAbsentList=this.getAbsentList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}GetV2_StaffAbsentListPost(t){this.modalService.open(t,{size:"lg",centered:!0}),this.attendanceService.GetV2_StaffAbsentList(this.commonService.clean(this.payload)).subscribe(i=>{this.getAbsentList=i.list,this.filteredAbsentList=this.getAbsentList,console.log(this.filteredAbsentList)},i=>{})}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(x.i),e.Y36(W),e.Y36(P.V),e.Y36(h.FF),e.Y36(m.F0),e.Y36(h.FF),e.Y36(Z.K),e.Y36(O.l),e.Y36(M.ey),e.Y36(c.uU),e.Y36(Z.K),e.Y36(h._B))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-daily-attendance"]],viewQuery:function(i,n){if(1&i&&e.Gf(ae,7),2&i){let s;e.iGM(s=e.CRH())&&(n.input=s.first)}},decls:152,vars:44,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-sm-12","col-lg-12","col-xxl-12"],[1,"card"],[1,"card-header","text-center"],[1,"card-title","text-dark","mb-0"],[1,"col-sm-12","col-lg-6","col-xxl-6"],[1,"card","card-animate"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"col-xxl-4","col-sm-4","stretch-card",3,"click"],[1,"card","card-animate","mb-0"],[1,"card-body","bg-warning"],[1,"d-flex","align-items-center"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","bg-opacity-25","bg-light","text-primary","rounded-circle","fs-3"],[1,"ri-alarm-line","align-middle","text-white"],[1,"flex-grow-1","ms-2"],[1,"text-uppercase","fw-semibold","fs-12","mb-1","text-white"],[1,"mb-0"],["class","counter-value text-white cursor-pointer",3,"countUp","options",4,"ngIf"],["class","counter-value text-white",4,"ngIf"],[1,"card-body","bg-info"],[1,"avatar-title","bg-light","bg-opacity-25","text-primary","rounded-circle","fs-3"],[1,"ri-alarm-fill","align-middle","text-white"],["data-bs-toggle","modal","data-bs-target","#AbsentListModal",1,"col-xxl-4","col-sm-4","stretch-card",3,"click"],[1,"card-body","bg-danger"],[1,"ri-calendar-2-line","align-middle","text-white"],[1,"card-body","bg-success"],[1,"ri-todo-line","align-middle","text-white"],[1,"card-body","bg-secondary"],[1,"ri-home-gear-line","align-middle","text-white"],["class","counter-value text-white",3,"countUp","options",4,"ngIf"],["class","counter-value text-white cursor-pointer",4,"ngIf"],[1,"card-body","bg-primary"],[1,"ri-ticket-2-line","align-middle","text-white"],[1,"col-lg-12"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3","mb-1"],[1,"col-lg-auto"],[1,"card-title","mb-1"],[1,"col-lg","text-end","mb-2"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","","type","button",1,"btn","btn-secondary","dropdown","arrow-none",3,"disabled"],[1,"ri-file-download-line","align-bottom","me-1"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-file-pdf-line","align-bottom","me-2","text-muted"],[1,"ri-file-excel-line","align-bottom","me-2","text-muted"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","gy-3"],[1,"col-lg"],[1,"clear-box"],["type","text","mwlFlatpickr","","placeholder","Select From Date to End Date","mode","range",1,"form-control","flatpickr-input",2,"padding-left","0px !important",3,"altInput","convertModelValue","dateFormat","ngModel","ngModelChange","input"],["class","ri-close-line search-icon",3,"click",4,"ngIf"],["bindLabel","name","bindValue","name","id","accessName","placeholder","Select Access Group/Designation",1,"w-100","mr-2",3,"items","loading","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for Full name",1,"form-control",3,"ngModel","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["openMap",""],["role","document"],["absentList",""],[1,"counter-value","text-white","cursor-pointer",3,"countUp","options"],[1,"counter-value","text-white"],[1,"counter-value","text-white",3,"countUp","options"],[1,"counter-value","text-white","cursor-pointer"],[1,"ri-close-line","search-icon",3,"click"],[1,"table-responsive","table-card","mb-0"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"customer_name","align-top"],[1,"align-top"],[1,"text-center","align-top",3,"ngClass"],["class","text-muted ps-1",4,"ngIf"],[1,"mb-0","text-muted"],["alt","",1,"avatar-xs","rounded-circle","me-2","cursor",3,"src","click"],[1,"text-primary"],[1,"flex-shrink-0","avatar-xs","me-2"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","fs-13"],[1,"text-muted","ps-1"],["class","fs-18",4,"ngIf"],[1,"ri-map-pin-line","text-primary","align-bottom","fs-18","cursor",3,"title","click"],[1,"fs-18"],[1,"rounded-circle","avatar-xxs","align-bottom","me-1",3,"src","click"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","pt-0"],[3,"latitude","longitude","userData","typeChecking"],[1,"text-end"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"modal-header","p-3","bg-primary-subtle"],["id","absentListModelLable",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"search-box","mb-3"],["type","text","placeholder","Search member here...",1,"form-control","bg-light","border-light",3,"ngModel","keyup","ngModelChange"],[1,"mx-n4","px-4",2,"height","400px"],[1,"vstack","gap-3"],["class","text-center mt-3 text-muted",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"flex-shrink-0","me-3"],[1,"d-flex","align-items-center","gap-1"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],[1,"avatar-xs","flex-shrink-0","me-3"],["alt","",1,"img-fluid","rounded-circle",2,"width","30px","height","30px",3,"src"],[1,"flex-grow-1"],[1,"fs-14","mb-0"],["href","javascript:void(0);",1,"text-body","d-block"],[1,"mt-0","mb-0"],[1,"flex-shrink-0","me-3","mb-0"],[1,"ri-phone-fill","me-1"],[1,"text-center","mt-3","text-muted"]],template:function(i,n){if(1&i){const s=e.EpF();e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e._uU(6),e.ALo(7,"date"),e.qZA()()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h5"),e._uU(13,"Staff In-Out Status"),e.qZA()(),e.TgZ(14,"div",1)(15,"div",10),e.NdJ("click",function(){return n.onCardClickActiveCheckIn("CheckIn")}),e.TgZ(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"span",15),e._UZ(21,"i",16),e.qZA()(),e.TgZ(22,"div",17)(23,"p",18),e._uU(24," Checkin "),e.qZA(),e.TgZ(25,"h4",19),e.YNc(26,ie,1,2,"span",20)(27,se,2,0,"span",21),e.qZA()()()()()(),e.TgZ(28,"div",10),e.NdJ("click",function(){return n.onCardClickActiveCheckout("CheckOut")}),e.TgZ(29,"div",11)(30,"div",22)(31,"div",13)(32,"div",14)(33,"span",23),e._UZ(34,"i",24),e.qZA()(),e.TgZ(35,"div",17)(36,"p",18),e._uU(37," Checkout "),e.qZA(),e.TgZ(38,"h4",19),e.YNc(39,oe,1,2,"span",20)(40,re,2,0,"span",21),e.qZA()()()()()(),e.TgZ(41,"div",25),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(151);return e.KtG(n.GetV2_StaffAbsentListPost(g))}),e.TgZ(42,"div",11)(43,"div",26)(44,"div",13)(45,"div",14)(46,"span",23),e._UZ(47,"i",27),e.qZA()(),e.TgZ(48,"div",17)(49,"p",18),e._uU(50," Absent "),e.qZA(),e.TgZ(51,"h4",19),e.YNc(52,le,1,2,"span",20)(53,ce,2,0,"span",21),e.qZA()()()()()()()()()(),e.TgZ(54,"div",6)(55,"div",7)(56,"div",8)(57,"div",9)(58,"h5"),e._uU(59,"Check-In From"),e.qZA()(),e.TgZ(60,"div",1)(61,"div",10),e.NdJ("click",function(){return n.onCardClickActiveTaskType("Office")}),e.TgZ(62,"div",11)(63,"div",28)(64,"div",13)(65,"div",14)(66,"span",23),e._UZ(67,"i",29),e.qZA()(),e.TgZ(68,"div",17)(69,"p",18),e._uU(70," Office "),e.qZA(),e.TgZ(71,"h4",19),e.YNc(72,pe,1,2,"span",20)(73,de,2,0,"span",21),e.qZA()()()()()(),e.TgZ(74,"div",10),e.NdJ("click",function(){return n.onCardClickActiveTaskType("Home")}),e.TgZ(75,"div",11)(76,"div",30)(77,"div",13)(78,"div",14)(79,"span",23),e._UZ(80,"i",31),e.qZA()(),e.TgZ(81,"div",17)(82,"p",18),e._uU(83," Home "),e.qZA(),e.TgZ(84,"h4",19),e.YNc(85,ue,1,2,"span",32)(86,he,2,0,"span",33),e.qZA()()()()()(),e.TgZ(87,"div",10),e.NdJ("click",function(){return n.onCardClickActiveTaskType("On-Site")}),e.TgZ(88,"div",11)(89,"div",34)(90,"div",13)(91,"div",14)(92,"span",23),e._UZ(93,"i",35),e.qZA()(),e.TgZ(94,"div",17)(95,"p",18),e._uU(96," On-site "),e.qZA(),e.TgZ(97,"h4",19),e.YNc(98,me,1,2,"span",20)(99,ge,2,0,"span",21),e.qZA()()()()()()()()()()(),e.TgZ(100,"div",1)(101,"div",36)(102,"div",3)(103,"div",37)(104,"div",38)(105,"div",39)(106,"h5",40),e._uU(107,"Daily Attendance List"),e.qZA()(),e.TgZ(108,"div",41)(109,"div",42)(110,"button",43),e._UZ(111,"i",44),e._uU(112," Export "),e.qZA(),e.TgZ(113,"ul",45)(114,"li")(115,"a",46),e.NdJ("click",function(){return n.downloadReport("PDF")}),e._UZ(116,"i",47),e._uU(117," Pdf "),e.qZA()(),e.TgZ(118,"li")(119,"a",46),e.NdJ("click",function(){return n.downloadReport("EXCEL")}),e._UZ(120,"i",48),e._uU(121," Excel "),e.qZA()()()()()(),e.TgZ(122,"div",49)(123,"div",50)(124,"div",51)(125,"div",52)(126,"input",53),e.NdJ("ngModelChange",function(g){return n.selectedDateRangeValue=g})("input",function(){return n.onChangeSelectedDateValue()}),e.qZA(),e.YNc(127,_e,1,0,"i",54),e.qZA()(),e.TgZ(128,"div",51)(129,"ng-select",55),e.NdJ("change",function(g){return n.onTypeAccessGroup(g)})("ngModelChange",function(g){return n.selectedAccessGroupValue=g}),e.qZA()(),e.TgZ(130,"div",51)(131,"div",56)(132,"input",57,58),e.NdJ("ngModelChange",function(g){return n.searchName=g}),e.qZA(),e._UZ(134,"i",59),e.qZA()(),e.TgZ(135,"div",39)(136,"div",60)(137,"button",61),e.NdJ("click",function(){return n.resetSerachVariable()}),e._UZ(138,"i",62),e._uU(139," Clear "),e.qZA()()()()(),e.TgZ(140,"div",63)(141,"div")(142,"ul",64,65)(144,"li",66),e.YNc(145,Ne,10,6,"ng-template",67),e.qZA()(),e.TgZ(146,"div",68),e._UZ(147,"div",69),e.qZA()()()()()()(),e.YNc(148,Ve,9,4,"ng-template",null,70,e.W1O)(150,Pe,15,3,"ng-template",71,72,e.W1O)}if(2&i){const s=e.MAs(143);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(6),e.hij(" ",e.xi3(7,41,n.currentDate,"EEEE, dd-MMMM-yyyy")," "),e.xp6(11),e.Tol("CheckIn"==n.activeCard?"activeClasCheckIn":""),e.xp6(9),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.checkInEmployees),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.checkInEmployees),e.xp6(3),e.Tol("CheckOut"==n.activeCard?"activeClasCheckOut":""),e.xp6(9),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.checkOutEmployees),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.checkOutEmployees),e.xp6(1),e.Tol("absent"==n.activeCard?"activeClasabsent":""),e.xp6(11),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.absentEmployees),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.absentEmployees),e.xp6(10),e.Tol("Office"==n.activeCard?"activeClasoffice":""),e.xp6(9),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.workFromOffice),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.workFromOffice),e.xp6(3),e.Tol("Home"==n.activeCard?"activeClashome":""),e.xp6(9),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.workFromHome),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.workFromHome),e.xp6(3),e.Tol("On-Site"==n.activeCard?"activeClasOnsite":""),e.xp6(9),e.Q6J("ngIf",0!=n.staffDailyAttendanceCountList.workFromOnSite),e.xp6(1),e.Q6J("ngIf",0==n.staffDailyAttendanceCountList.workFromOnSite),e.xp6(11),e.Q6J("disabled",!(null!=n.selectedDateRangeValue&&n.selectedDateRangeValue.to)),e.xp6(16),e.Q6J("altInput",!0)("convertModelValue",!0)("dateFormat","d-m-Y")("ngModel",n.selectedDateRangeValue),e.xp6(1),e.Q6J("ngIf",null==n.selectedDateRangeValue?null:n.selectedDateRangeValue.to),e.xp6(2),e.Q6J("items",n.accessGroupList)("loading",n.loading.accessGroup)("clearable",!0)("ngModel",n.selectedAccessGroupValue),e.xp6(3),e.Q6J("ngModel",n.searchName),e.xp6(10),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[c.mk,c.sg,c.O5,y.Fj,y.JJ,y.On,w.w9,h.jt,h.iD,h.Vi,h.N9,h.GZ,h.ju,I.as,J.n,F.M,q.P,h._L,h.uN,h.Pz,h.nv,h.Is,h.Dy,R,c.uU],styles:[".clear-box[_ngcontent-%COMP%]{position:relative}.clear-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:14px;position:absolute;left:94%;top:0;height:100%;display:flex;align-items:center;color:#767474}  .clear-box .search-icon :hover{font-size:16px!important}.activeClas[_ngcontent-%COMP%]{border:3px solid;border-radius:4px}.activeClasCheckIn[_ngcontent-%COMP%]{border:3px solid rgba(218,134,52,.92);border-radius:4px}.activeClasCheckOut[_ngcontent-%COMP%]{border:3px solid rgb(15,126,157);border-radius:4px}.activeClasoffice[_ngcontent-%COMP%]{border:3px solid rgb(17,154,16);border-radius:4px}.activeClashome[_ngcontent-%COMP%]{border:3px solid rgb(23,43,184);border-radius:4px}.activeClasOnsite[_ngcontent-%COMP%]{border:3px solid rgb(12,102,154);border-radius:4px}.activeClasabsent[_ngcontent-%COMP%]{border:3px solid rgb(189,60,26);border-radius:4px}"]})}}return a})();var Q=d(1517),Je=d(9708),Fe=d(4435),qe=d(5143),Re=d(3828);const Qe=["inputer"];function We(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"i",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearFilter())}),e.qZA()}}function Ee(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",58)(2,"img",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.open(s.apiUrl+n.profileImageUrl))}),e.qZA(),e.TgZ(3,"div",60),e._uU(4),e.TgZ(5,"p",57),e._uU(6),e.qZA()()()()}if(2&a){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(2),e.hYB("src","",i.apiUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.hij(" ",t.fullName," "),e.xp6(2),e.hij(" ",t.designationName," ")}}function Ye(a,l){if(1&a&&(e.TgZ(0,"div")(1,"div",58)(2,"div",61)(3,"div",62),e._uU(4),e.qZA()(),e.TgZ(5,"div",60),e._uU(6),e.TgZ(7,"p",57),e._uU(8),e.qZA()()()()),2&a){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.fullName.charAt(0)," "),e.xp6(2),e.hij(" ",t.fullName," "),e.xp6(2),e.hij(" ",t.designationName," ")}}function He(a,l){if(1&a&&(e.TgZ(0,"span",63),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function ze(a,l){if(1&a&&(e.TgZ(0,"span",64),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function Be(a,l){if(1&a&&(e.TgZ(0,"span",65),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function Ke(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"- "),e.qZA())}function $e(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span",68)(1,"img",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.open(s.apiUrl+n.techPicUrlStart))}),e.qZA(),e._uU(2,"| "),e.qZA()}if(2&a){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("src",i.apiUrl+t.techPicUrlStart,e.LSH)}}function Xe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,$e,3,1,"span",66),e.TgZ(2,"i",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2),p=e.MAs(46);return e.KtG(s.openAduit(p,n.startGPSLocation,"Check-In",n))}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.techPicUrlStart),e.xp6(1),e.Q6J("title",t.startGPSLocation)}}function et(a,l){1&a&&(e.TgZ(0,"span"),e._uU(1,"- "),e.qZA())}function tt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span",68)(1,"img",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.open(s.apiUrl+n.techPicUrlEnd))}),e.qZA(),e._uU(2," | "),e.qZA()}if(2&a){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("src",i.apiUrl+t.techPicUrlEnd,e.LSH)}}function nt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"span"),e.YNc(1,tt,3,1,"span",66),e.TgZ(2,"i",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2),p=e.MAs(46);return e.KtG(s.openAduit(p,n.endGPSLocation,"Check-Out",n))}),e.qZA()()}if(2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.techPicUrlEnd),e.xp6(1),e.Q6J("title",t.endGPSLocation)}}function at(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",47),e.YNc(2,Ee,7,4,"div",48)(3,Ye,9,3,"div",48),e.qZA(),e.TgZ(4,"td",49),e.YNc(5,He,2,1,"span",50)(6,ze,2,1,"span",51)(7,Be,2,1,"span",52),e.qZA(),e.TgZ(8,"td",53)(9,"a",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p.viewHandleMap(s))}),e._uU(10),e.qZA(),e.TgZ(11,"p",55),e._uU(12),e.qZA()(),e.TgZ(13,"td",56),e._uU(14),e.qZA(),e.TgZ(15,"td",49),e._uU(16),e.TgZ(17,"p",57),e.YNc(18,Ke,2,0,"span",48)(19,Xe,3,2,"span",48),e.qZA()(),e.TgZ(20,"td",49),e._uU(21),e.TgZ(22,"p",57),e.YNc(23,et,2,0,"span",48)(24,nt,3,2,"span",48),e.qZA()()()}if(2&a){const t=l.$implicit;e.xp6(2),e.Q6J("ngIf",t.profileImageUrl),e.xp6(1),e.Q6J("ngIf",!t.profileImageUrl),e.xp6(2),e.Q6J("ngIf","Corrective"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"!==t.taskType&&"Corrective"!==t.taskType),e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("title",t.ticketTitle),e.xp6(1),e.hij(" ",t.ticketTitle,""),e.xp6(1),e.Q6J("ngClass",0==t.totalWorkingHours?"text-danger":"text-success"),e.xp6(1),e.hij(" ",t.totalWorkingHours," "),e.xp6(2),e.hij(" ",t.startDateTime," "),e.xp6(2),e.Q6J("ngIf",!t.startGPSLocation),e.xp6(1),e.Q6J("ngIf",t.startGPSLocation),e.xp6(2),e.hij(" ",t.endDateTime||"-"," "),e.xp6(2),e.Q6J("ngIf",!t.endGPSLocation),e.xp6(1),e.Q6J("ngIf",t.endGPSLocation)}}function it(a,l){1&a&&(e.TgZ(0,"div",39),e._uU(1," No Attendance Found "),e.qZA())}function st(a,l){1&a&&(e._UZ(0,"i",73),e._uU(1," Prev "))}function ot(a,l){1&a&&(e._uU(0," Next "),e._UZ(1,"i",74))}function rt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"ngb-pagination",70),e.NdJ("pageChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=n)})("pageChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.pageChange(n))}),e.YNc(1,st,2,0,"ng-template",71)(2,ot,2,0,"ng-template",72),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecords)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function lt(a,l){if(1&a&&(e.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr",38)(4,"th"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Work From"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ticket Details"),e.qZA(),e.TgZ(10,"th",39),e._uU(11,"Total Working"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Check In"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Check Out"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,at,25,16,"tr",40),e.qZA()(),e.YNc(18,it,2,0,"div",41),e.qZA(),e.TgZ(19,"div",42)(20,"div",43)(21,"div",44),e._uU(22),e.qZA()(),e.TgZ(23,"div",43)(24,"div",45),e.YNc(25,rt,3,5,"ngb-pagination",46),e.qZA()()()),2&a){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.userList),e.xp6(1),e.Q6J("ngIf",0===t.userList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecords>t.pageSize)}}function ct(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",75)(1,"div",76)(2,"button",77),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",78)(4,"div",79),e._UZ(5,"lord-icon",80),e.TgZ(6,"div",81)(7,"h4"),e._uU(8,"You are about to delete a User ?"),e.qZA(),e.TgZ(9,"p",82),e._uU(10," Deleting your user will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",83)(12,"button",84),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",85),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteData(n.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}function pt(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",87)(1,"h4",88),e._uU(2,"Map"),e.qZA(),e.TgZ(3,"button",89),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",90),e._UZ(5,"app-shown-map-location",91),e.TgZ(6,"div",92)(7,"button",93),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(8," Close "),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(5),e.Q6J("latitude",t.latitude)("longitude",t.longitude)("userData",t.userData)("typeChecking",t.typeChecking)}}const dt=[{path:"daily-attendance",component:Oe},{path:"task-attendance",component:(()=>{class a{constructor(t,i,n,s,p,g,b,k,D,U,L,N,V,Dt){this.userService=t,this.dropdownServices=i,this.modalService=n,this.router=s,this.modal=p,this.commonService=g,this.menuService=b,this.lightbox=k,this.datePipe=D,this.offcanvasService=U,this.preventiveService=L,this.auditService=N,this.ticketService=V,this.authService=Dt,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.userList=[],this.label="Task Attendance",this.breadCrumbItems=[{label:"Attendance"},{label:"Task Attendance",active:!0}],this.selectedTaskType=null,this.taskTypeList=["Audit","Corrective","Preventive"],this.isProjectVisible=!1,this.displayLength=10,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFullName:null,SearchAccessGroupId:null,SearchTaskType:null,SearchFromDateTime:null,SearchToDateTime:null},this.selectedDateRangeValue={from:null,to:null},this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.isProject=!1,this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.deleteId=null,this.accessGroupList=[],this.loading={role:!1,accessGroup:!1},this.selectedAccessGroupValue=null,this.longitude=101.693207,this.latitude=3.140853,this.markers=[{latitude:52.228973,longitude:20.728218}],this.typeChecking="Check-In",this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.apiUrl=f.N.apiUrl}ngOnInit(){this.isProject=this.authService.getisProject(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole&&(this.disabledWithAceessGroup=!0),this.getDropdownCompanyList()}getAccessGroup(){this.loading.accessGroup=!0,this.userService.getAccessGroupMasterAll().subscribe({next:t=>{this.accessGroupList=t.data,this.setobjectSerachForTaskAttendanceUserList()}})}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{if(this.arrayListDropDownCompany=t.list,this.getAccessGroup(),JSON.parse(localStorage.getItem("objectSerachForTaskAttendanceUserList"))){let i=JSON.parse(localStorage.getItem("objectSerachForTaskAttendanceUserList"));this.selectedDropDownCompanyIdValue=i.SearchCompanyId?i.SearchCompanyId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.getDropdownClientlist(),this.getobjectSerachForTaskAttendanceUserList()}else this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.getDropdownClientlist(),this.loadData();this.setobjectSerachForTaskAttendanceUserList()})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(i=>{this.arrayListDropDownClientList=i.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(i=>{this.arrayListDropDownProjectOrDeparmentList=i.list,0!=i.list.length&&"Client User"===this.currentUserRole&&(i.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}loadData(){this.userService.getV2_TaskAttendance_ByPagination(this.commonService.clean(this.payload)).subscribe(t=>{this.userList=t.list,this.setobjectSerachForTaskAttendanceUserList(),this.userList.length>0?(this.totalRecords=t.list[0].totalCount,this.from=t.list.reduce((i,n)=>n.rowNum<i?n.rowNum:i,t.list[0].rowNum),this.to=t.list.reduce((i,n)=>n.rowNum>i?n.rowNum:i,t.list[0].rowNum),this.pageSize=this.displayLength):(this.totalRecords=0,this.from=0,this.to=0,this.pageSize=this.displayLength)},t=>{})}pageChange(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}setobjectSerachForTaskAttendanceUserList(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.accessGroupList&&(t.accessGroupList=this.accessGroupList),this.selectedTaskType&&(t.SearchTaskType=this.selectedTaskType),this.selectedAccessGroupValue&&(t.SearchAccessGroupId=this.selectedAccessGroupValue),this.selectedDateRangeValue.to&&(t.selectedDateRangeValueTo=this.selectedDateRangeValue.to,t.selectedDateRangeValueFrom=this.selectedDateRangeValue.from,t.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),t.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy")),this.searchName&&(t.SearchFullName=this.searchName),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForTaskAttendanceUserList",JSON.stringify(t))}getobjectSerachForTaskAttendanceUserList(){let t=JSON.parse(localStorage.getItem("objectSerachForTaskAttendanceUserList"));this.selectedDateRangeValue={from:t.selectedDateRangeValueFrom,to:t.selectedDateRangeValueTo},this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.accessGroupList=t.accessGroupList?t.accessGroupList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.selectedAccessGroupValue=t.SearchAccessGroupId?t.SearchAccessGroupId:null,this.searchName=t.SearchFullName?t.SearchFullName:null,this.selectedTaskType=t.SearchTaskType?t.SearchTaskType:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchAccessGroupId=this.selectedAccessGroupValue,this.payload.SearchTaskType=this.selectedTaskType,this.payload.SearchFullName=this.searchName,this.selectedDateRangeValue.to&&(this.payload.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),this.payload.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy")),t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}onChangeSelectedDateValue(){this.selectedDateRangeValue.to?(this.payload.SearchFromDateTime=this.datePipe.transform(this.selectedDateRangeValue.from,"dd-MM-yyyy"),this.payload.SearchToDateTime=this.datePipe.transform(this.selectedDateRangeValue.to,"dd-MM-yyyy")):(this.payload.SearchFromDateTime=null,this.payload.SearchToDateTime=null),this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}openModalActiveDeactive(t,i){const n=this.modalService.open(Q.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="Do you want to "+i+" this  profile ",n.componentInstance.subTitle="You won't be able to revert this!",n.componentInstance.buttonName=i+" It",n.result.then(s=>{s&&"success"==s&&this.updateUserActiveInActive(t,i)})}updateUserActiveInActive(t,i){this.userService.updateUserActiveInActive({Id:t,ProfileStatus:i}).subscribe(s=>{this.loadData(),this.success(s)})}onEmployeeNameChangeHandler(t){this.payload.SearchFullName=this.searchName,this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}goToEdit(t){this.router.navigate(["/application-settings/asset-handler/asset-handler-edit"])}deleteHandler(){parseInt(this.deleteEmpId)}confirmDelete(t,i){this.deleteEmpId=i,this.modalService.open(t,{centered:!0})}clearFilter(){this.selectedDateRangeValue={from:null,to:null},this.onChangeSelectedDateValue()}resetSerachVariable(){this.searchName=null,this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedAccessGroupValue=null,this.selectedDateRangeValue={from:null,to:null},this.selectedTaskType=null,this.page=1,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:null,SearchProjectId:null,SearchFullName:null,SearchAccessGroupId:null,SearchTaskType:null,SearchFromDateTime:null,SearchToDateTime:null},localStorage.removeItem("objectSerachForTicket"),this.getDropdownClientlist(),"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}ngAfterViewInit(){(0,T.R)(this.input.nativeElement,"input").pipe((0,u.h)(Boolean),(0,j.b)(1e3),(0,r.x)(),(0,o.b)(t=>{this.onEmployeeNameChangeHandler(!0)})).subscribe()}navigateToForm(){this.userService.accessRight=!0,this.router.navigate(["/application-settings/user-management/user/add"])}navigateToView(t){x.i.selectedUserId=t,this.router.navigate(["/application-settings/user-management/user/view"])}deleteUser(t,i){this.deleteId=i,this.modalService.open(t,{centered:!0})}deleteData(t){this.userService.postDeleteUser({Id:t}).subscribe(i=>{this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()},i=>{})}navigateToEdit(t){x.i.selectedUserId=t,this.router.navigate(["/application-settings/user-management/user/edit"])}openModalCreateConf(t,i){const n=this.modalService.open(Q.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="Do you want to reset "+i+" password?",n.componentInstance.subTitle="You won't be able to revert this!",n.componentInstance.buttonName="Reset It",n.result.then(s=>{s&&"success"==s&&this.resetPassword(t)})}resetPassword(t){this.userService.resetPassword(t).subscribe(i=>{this.success(i)})}open(t){let n=[];n.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(n)}onSearchTaskType(t){this.payload.SearchTaskType=this.selectedTaskType,this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}onTypeAccessGroup(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAccessGroupId=this.selectedAccessGroupValue,this.loadData()}ccurentStatusActive(t){const i=new Date(t),n=new Date(i.toLocaleString("en-US")),s=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),g=(new Date(s)-n)/6e4;return Math.abs(g)<=10}openAduit(t,i,n,s){const p=i.split("|");this.latitude=Number(p[0]),this.longitude=Number(p[1]),this.userData=s,this.typeChecking=n,this.offcanvasService.open(t,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas4"})}viewHandleMap(t){"Corrective"==t.taskType?(this.ticketService.sendTicketId=t.uniquedId,this.ticketService.ticketPageAction="Basic Service Page",this.ticketService.lastStoreTicketRouterName="maintenace-management/attendance/task-attendance",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])):"Preventive"==t.taskType?(this.preventiveService.scheduleId=t.uniquedId,this.preventiveService.lastStorePreventiveRouterName="maintenace-management/attendance/task-attendance",this.router.navigate(["maintenace-management/preventive/schedule/current-schedule"])):"Audit"==t.taskType&&(this.auditService.auditId=t.uniquedId,this.router.navigate(["asset-management/audit-management/audit/viewaudit"]))}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(x.i),e.Y36(P.V),e.Y36(h.FF),e.Y36(m.F0),e.Y36(h.FF),e.Y36(Z.K),e.Y36(O.l),e.Y36(M.ey),e.Y36(c.uU),e.Y36(h._B),e.Y36(Je.W),e.Y36(Fe.C),e.Y36(qe.w),e.Y36(Re.u))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-task-attendance"]],viewQuery:function(i,n){if(1&i&&e.Gf(Qe,7),2&i){let s;e.iGM(s=e.CRH())&&(n.input=s.first)}},decls:47,vars:32,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-lg-auto"],[1,"card-title","mb-0"],[1,"col-lg"],["bindLabel","name","bindValue","accessGroupMasterId","id","accessName","placeholder","Select Access Group/Designation",1,"w-100","mr-2","my-1",3,"items","clearable","ngModel","change","ngModelChange"],[1,"clear-box"],["type","text","mwlFlatpickr","","placeholder","Select From Date to End Date","mode","range",1,"form-control","flatpickr-input",2,"padding-left","0px !important",3,"altInput","convertModelValue","dateFormat","ngModel","ngModelChange","input"],["class","ri-close-line search-icon",3,"click",4,"ngIf"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for user name",1,"form-control",3,"ngModel","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","for","departmentName",1,"w-100","mr-2",3,"readonly","items","disabled","clearable","ngModel","placeholder","change","ngModelChange"],["id","TaskType","placeholder","Select Task Type",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["deleteModel",""],["openMap",""],[1,"ri-close-line","search-icon",3,"click"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"customer_name","align-top"],[4,"ngIf"],[1,"align-top"],["class","badge bg-success me-2",4,"ngIf"],["class","badge bg-primary me-2",4,"ngIf"],["class","badge bg-info me-2",4,"ngIf"],[1,"title","align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"text-muted","fs-14",3,"title"],[1,"text-center","align-top",3,"ngClass"],[1,"mb-0","text-muted"],[1,"d-flex","align-items-center"],["alt","",1,"avatar-xs","rounded-circle","me-2","cursor",3,"src","click"],[1,"text-primary"],[1,"flex-shrink-0","avatar-xs","me-2"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","fs-13"],[1,"badge","bg-success","me-2"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-info","me-2"],["class","fs-18",4,"ngIf"],[1,"ri-map-pin-line","text-primary","align-bottom","fs-18","cursor",3,"title","click"],[1,"fs-18"],[1,"rounded-circle","avatar-xxs","align-bottom","me-1",3,"src","click"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","btn-primary",3,"click"],[1,"offcanvas-header"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","pt-0"],[3,"latitude","longitude","userData","typeChecking"],[1,"text-end"],["type","button",1,"btn","btn-outline-danger",3,"click"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Task Attendance List"),e.qZA()(),e.TgZ(9,"div",8)(10,"ng-select",9),e.NdJ("change",function(p){return n.onTypeAccessGroup(p)})("ngModelChange",function(p){return n.selectedAccessGroupValue=p}),e.qZA()(),e.TgZ(11,"div",8)(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(p){return n.selectedDateRangeValue=p})("input",function(){return n.onChangeSelectedDateValue()}),e.qZA(),e.YNc(14,We,1,0,"i",12),e.qZA()(),e.TgZ(15,"div",8)(16,"div",13)(17,"input",14,15),e.NdJ("ngModelChange",function(p){return n.searchName=p}),e.qZA(),e._UZ(19,"i",16),e.qZA()()()(),e.TgZ(20,"div",17)(21,"div",18)(22,"div",8)(23,"ng-select",19),e.NdJ("change",function(p){return n.onDropdownCompanyValueChange(p)})("ngModelChange",function(p){return n.selectedDropDownCompanyIdValue=p}),e.qZA()(),e.TgZ(24,"div",8)(25,"ng-select",20),e.NdJ("change",function(p){return n.onDropdownClientValueChange(p)})("ngModelChange",function(p){return n.selectedDropDownClientIdValue=p}),e.qZA()(),e.TgZ(26,"div",8)(27,"ng-select",21),e.NdJ("change",function(p){return n.onDropdownDepartmentValueChange(p)})("ngModelChange",function(p){return n.selectedDropDownProjectOrDeparmentIdValue=p}),e.qZA()(),e.TgZ(28,"div",8)(29,"ng-select",22),e.NdJ("change",function(p){return n.onSearchTaskType(p)})("ngModelChange",function(p){return n.selectedTaskType=p}),e.qZA()(),e.TgZ(30,"div",6)(31,"div",23)(32,"button",24),e.NdJ("click",function(){return n.resetSerachVariable()}),e._UZ(33,"i",25),e._uU(34," Clear "),e.qZA()()()()(),e.TgZ(35,"div",26)(36,"div")(37,"ul",27,28)(39,"li",29),e.YNc(40,lt,26,6,"ng-template",30),e.qZA()(),e.TgZ(41,"div",31),e._UZ(42,"div",32),e.qZA()()()()()(),e.YNc(43,ct,17,0,"ng-template",null,33,e.W1O)(45,pt,9,4,"ng-template",null,34,e.W1O)),2&i){const s=e.MAs(38);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(10),e.Q6J("items",n.accessGroupList)("clearable",!0)("ngModel",n.selectedAccessGroupValue),e.xp6(3),e.Q6J("altInput",!0)("convertModelValue",!0)("dateFormat","d-m-Y")("ngModel",n.selectedDateRangeValue),e.xp6(1),e.Q6J("ngIf",null==n.selectedDateRangeValue?null:n.selectedDateRangeValue.to),e.xp6(3),e.Q6J("ngModel",n.searchName),e.xp6(6),e.Q6J("items",n.arrayListDropDownCompany)("clearable",!1)("ngModel",n.selectedDropDownCompanyIdValue)("readonly",n.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",n.arrayListDropDownClientList)("disabled",!n.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",n.selectedDropDownClientIdValue)("readonly",n.disabledWithAceessGroup),e.xp6(2),e.Q6J("readonly",n.projectDepartmentFieldDisiabled)("items",n.arrayListDropDownProjectOrDeparmentList)("disabled",!n.selectedDropDownCompanyIdValue||!n.selectedDropDownClientIdValue)("clearable",!0)("ngModel",n.selectedDropDownProjectOrDeparmentIdValue)("placeholder",n.isProject?"Select Project":"Select Department"),e.xp6(2),e.Q6J("items",n.taskTypeList)("clearable",!0)("ngModel",n.selectedTaskType),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[c.mk,c.sg,c.O5,y.Fj,y.JJ,y.On,w.w9,h.N9,h.GZ,h.ju,I.as,J.n,h._L,h.uN,h.Pz,h.nv,h.Is,h.Dy,R],styles:[".clear-box[_ngcontent-%COMP%]{position:relative}.clear-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{font-size:14px;position:absolute;left:94%;top:0;height:100%;display:flex;align-items:center;color:#767474}  .clear-box .search-icon :hover{font-size:16px!important}"]})}}return a})()},{path:"",pathMatch:"full",redirectTo:"list-ticket"}];let ut=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({imports:[m.Bz.forChild(dt),m.Bz]})}}return a})();var ht=d(9101),mt=d(6802),gt=d(6903),_t=d(6208),ft=d(9919);let Tt=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({providers:[{provide:ft.W7,useClass:C.Y4},c.uU],imports:[c.ez,ut,y.u5,y.UX,w.A0,h.XC,h.M,gt.X,h.jF,h.ZS,I.JT.forRoot(),_t.m,F.t,q.m,ht.p.pick(mt.kEt),h.aE,w.A0,h.HK,h.Gs,h.Oz,C.Y4,M.QM,C.b6]})}}return a})()},9455:(G,v,d)=>{d.d(v,{V:()=>A});var c=d(9862),m=d(553),T=d(9212),u=d(2787),f=d(5035);let A=(()=>{class _{constructor(r,o,e){this._http=r,this._route=o,this.authService=e}GetCompanyListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetCompanyListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetClientListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetClientListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetDepartmentListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetCategoryListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetCategoryListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetSubCategoryListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetSubCategoryListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetVendorListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetVendorListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetLocationListDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetLocationListDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getCountryList(){return this._http.get(m.N.apiUrl+"api/Master/GetCountryList",{headers:(new c.WM).set("Content-Type","application/json")})}getCountryListDrobDown(){return this._http.get(m.N.apiUrl+"api/V2_Master/GetCountryListDrobDown",{headers:(new c.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(r){return this._http.post(m.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getV2_UserListDD(r){return this._http.post(m.N.apiUrl+"api/Maintenance/GetV2_UserListDD",r,{headers:(new c.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(o){return new(o||_)(T.LFG(c.eN),T.LFG(u.F0),T.LFG(f.$))}}static{this.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()}}]);
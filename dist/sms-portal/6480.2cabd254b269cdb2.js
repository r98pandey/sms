"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[6480],{399:(xe,re,h)=>{h.d(re,{f:()=>p});var i=h(9212);let p=(()=>{class Q{constructor(){}returnStatusClasses(d){return 1==d?"bg-blue-subtle text-blue":2==d?"bg-warning":3==d?"bg-secondary":4==d?"bg-primary":5==d?"bg-blue-subtle text-blue":6==d?"bg-secondary":7==d?"bg-primary":8==d?"bg-dark-subtle text-dark":9==d?"bg-secondary":10==d?"bg-grey":11==d?"bg-dark-subtle text-dark":12==d?"bg-warning":13==d?"bg-success":14==d?"bg-primary":15==d?"bg-blue-subtle text-blue":16==d?"bg-grey":17==d?"bg-secondary":18==d||19==d?"bg-grey":20==d||21==d||22==d||23==d||24==d||25==d||26==d||27==d||28==d?"bg-warning":29==d?"bg-primary":30==d?"bg-warning":31==d?"bg-info-subtle text-info":32==d||33==d?"bg-success":34==d||35==d||36==d||37==d||38==d||39==d||40==d?"bg-danger":41==d?"bg-dark-subtle text-dark":42==d?"bg-success":43==d?"bg-primary":44==d?"bg-blue-subtle text-blue":45==d?"bg-info":46==d?"bg-danger":47==d?"bg-grey":48==d?"bg-primary":49==d?"bg-danger":void 0}returnStatusWfClasses(d){return 1==d||2==d||3==d||4==d||5==d||6==d||7==d||8==d||9==d?"text-primary":10==d||11==d||12==d||13==d||14==d||15==d||16==d||17==d||18==d||19==d?"text-grey":20==d||21==d||22==d||23==d||24==d||25==d||26==d||27==d||28==d?"text-warning":29==d?"text-primary":30==d?"text-warning":31==d?"text-info":32==d||33==d?"text-success":34==d||35==d||36==d||37==d||38==d||39==d||40==d?"text-danger":41==d||42==d||43==d||44==d||45==d||46==d||47==d||48==d?"text-dark":49==d?"text-danger":void 0}static{this.\u0275fac=function(J){return new(J||Q)}}static{this.\u0275prov=i.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"})}}return Q})()},4398:(xe,re,h)=>{h.d(re,{$:()=>Ye});var i=h(9212),p=h(6223),Q=h(553),e=h(7291),d=h(3828),J=h(399),c=h(9750),R=h(6814),C=h(4807);function v(k,H){if(1&k&&(i.TgZ(0,"span",31)(1,"b"),i._uU(2),i.qZA()()),2&k){const u=i.oxw(2).$implicit;i.xp6(2),i.Oqu(null==u?null:u.assetTagId)}}function $(k,H){if(1&k&&(i.TgZ(0,"p",32)(1,"span",33),i._uU(2),i.qZA()()),2&k){const u=i.oxw(2).$implicit;i.xp6(2),i.Oqu(null==u?null:u.assetType)}}function F(k,H){if(1&k&&(i.TgZ(0,"p",32)(1,"span",34),i._uU(2),i.qZA()()),2&k){const u=i.oxw(2).$implicit;i.xp6(2),i.Oqu(null==u?null:u.assetType)}}function U(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"img",35),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2).$implicit,O=i.oxw(),Ce=i.MAs(15);return i.KtG(O.confirmForViewImage(Ce,null==A?null:A.sitePicUrlStart))}),i.qZA()}if(2&k){const u=i.oxw(2).$implicit,w=i.oxw();i.hYB("src","",w.baseUrl,"",null==u?null:u.sitePicUrlStart,"",i.LSH)}}function ce(k,H){1&k&&i._UZ(0,"img",36)}function pe(k,H){if(1&k&&(i.TgZ(0,"p",37)(1,"b"),i._uU(2,"Member Remark-"),i.qZA(),i._uU(3),i.qZA()),2&k){const u=i.oxw(2).$implicit;i.s9C("ngbTooltip",null==u?null:u.technitionRemark),i.xp6(3),i.hij("",null==u?null:u.technitionRemark," ")}}function be(k,H){1&k&&(i.TgZ(0,"p"),i._uU(1,"No Reamrk by Member"),i.qZA())}function V(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",38)(1,"button",39),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2).$implicit,O=i.oxw(),Ce=i.MAs(13);return i.KtG(O.updateAsset(Ce,A))}),i._uU(2," Update Status "),i.qZA()()}}function z(k,H){if(1&k&&(i.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"h6"),i._uU(4),i.qZA(),i.TgZ(5,"div"),i.YNc(6,v,3,1,"span",16),i.qZA()(),i.TgZ(7,"div")(8,"span",17),i._uU(9),i.qZA()()(),i.TgZ(10,"div",18)(11,"div",6)(12,"div",19)(13,"label",20),i._uU(14,"Name & Request Remark "),i.qZA(),i.TgZ(15,"p",21),i._uU(16),i.qZA(),i.TgZ(17,"p",22)(18,"b"),i._uU(19,"Requester Remark-"),i.qZA(),i._uU(20),i.qZA(),i.YNc(21,$,3,1,"p",23)(22,F,3,1,"p",23),i.qZA(),i.TgZ(23,"div",24),i.YNc(24,U,1,2,"img",25)(25,ce,1,0,"img",26),i.qZA(),i.TgZ(26,"div",27),i.YNc(27,pe,4,2,"p",28)(28,be,2,0,"p",29),i.qZA(),i.YNc(29,V,3,0,"div",30),i.qZA()()()),2&k){const u=i.oxw(),w=u.$implicit,A=u.index,O=i.oxw();i.xp6(1),i.Q6J("ngClass",O.returnClassname(w)),i.xp6(3),i.hij("Asset-",A+1,""),i.xp6(2),i.Q6J("ngIf",null!=(null==w?null:w.assetTagId)),i.xp6(2),i.Tol(O.returnClassStatus(null==w?null:w.ticketItemStatusId)),i.xp6(1),i.Oqu(null==w?null:w.ticketItemStatusName),i.xp6(7),i.Oqu(null==w?null:w.assetName),i.xp6(4),i.hij("",(null==w?null:w.requesterRemark)||"NA"," "),i.xp6(1),i.Q6J("ngIf","Parent Asset"===(null==w?null:w.assetType)),i.xp6(1),i.Q6J("ngIf","Child Asset"===(null==w?null:w.assetType)),i.xp6(2),i.Q6J("ngIf",null==w?null:w.sitePicUrlStart),i.xp6(1),i.Q6J("ngIf",!(null!=w&&w.sitePicUrlStart)),i.xp6(2),i.Q6J("ngIf",null==w?null:w.technitionRemark),i.xp6(1),i.Q6J("ngIf",!(null!=w&&w.technitionRemark)),i.xp6(1),i.Q6J("ngIf",46!==(null==w?null:w.ticketItemStatusId)&&31!==(null==w?null:w.ticketItemStatusId))}}function f(k,H){if(1&k&&(i.TgZ(0,"div",11),i.YNc(1,z,30,15,"div",12),i.qZA()),2&k){const u=i.oxw();i.xp6(1),i.Q6J("ngIf",u.ticketingAssetList.length>=0)}}function _(k,H){1&k&&(i.TgZ(0,"div",11)(1,"div",40)(2,"div",41)(3,"h6",42),i._uU(4,"NO ASSETS AVAILABLE"),i.qZA()()()())}function j(k,H){1&k&&(i.TgZ(0,"small",42),i._uU(1," Asset Status is Required "),i.qZA())}function K(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,j,2,0,"small",71),i.qZA()),2&k){const u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==u.status||null==u.status.errors?null:u.status.errors.required)}}function se(k,H){1&k&&(i.TgZ(0,"small",42),i._uU(1," Remark is Required "),i.qZA())}function Y(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,se,2,0,"small",71),i.qZA()),2&k){const u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==u.remark||null==u.remark.errors?null:u.remark.errors.required)}}function I(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",72)(1,"i",73),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2);return i.KtG(A.crossFirstImage(A.imageOneUrl))}),i.qZA()()}}function N(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",74)(1,"i",75),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2);return i.KtG(A.crossSecondImage(A.imageTwoUrl))}),i.qZA()()}}function D(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",76)(1,"i",75),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2);return i.KtG(A.crossThirdImage(A.imageThreeUrl))}),i.qZA()()}}function E(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",43)(1,"h6",44),i._uU(2,"Update Asset"),i.qZA(),i.TgZ(3,"button",45),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i.TgZ(4,"span",4),i._uU(5,"\xd7"),i.qZA()()(),i.TgZ(6,"div",46)(7,"form",47)(8,"div",6)(9,"div",27)(10,"div",48)(11,"label",49),i._uU(12,"Asset Status "),i.TgZ(13,"span",50),i._uU(14,"*"),i.qZA()(),i._UZ(15,"ng-select",51),i.YNc(16,K,2,1,"div",29),i.qZA()(),i.TgZ(17,"div",27)(18,"div",48)(19,"label",49),i._uU(20,"Remark "),i.TgZ(21,"span",50),i._uU(22,"*"),i.qZA()(),i._UZ(23,"textarea",52),i.TgZ(24,"label",53),i._uU(25),i.qZA(),i.YNc(26,Y,2,1,"div",29),i.qZA()(),i.TgZ(27,"div",54)(28,"div",55),i.YNc(29,I,2,0,"div",56),i.TgZ(30,"label",57),i._UZ(31,"img",58),i.TgZ(32,"div",59),i._uU(33,"Image-1"),i.qZA(),i._UZ(34,"div",60),i.qZA(),i._UZ(35,"br"),i.TgZ(36,"input",61),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.onSelectFirstFile(A))}),i.qZA()(),i.TgZ(37,"div",55),i.YNc(38,N,2,0,"div",62),i.TgZ(39,"label",63),i._UZ(40,"img",58),i.TgZ(41,"div",59),i._uU(42,"Image-"),i.qZA(),i._UZ(43,"div",60),i.qZA(),i._UZ(44,"br"),i.TgZ(45,"input",64),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.onSelectSecondFile(A))}),i.qZA()(),i.TgZ(46,"div",55),i.YNc(47,D,2,0,"div",65),i.TgZ(48,"label",66),i._UZ(49,"img",58),i.TgZ(50,"div",59),i._uU(51,"Image-"),i.qZA(),i._UZ(52,"div",60),i.qZA(),i._UZ(53,"br"),i.TgZ(54,"input",67),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.onSelectThirdFile(A))}),i.qZA()()()()()(),i.TgZ(55,"div",68)(56,"div")(57,"button",69),i.NdJ("click",function(){i.CHM(u);const A=i.oxw();return i.KtG(A.Submit())}),i._uU(58,"Update"),i.qZA(),i.TgZ(59,"button",70),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i._uU(60," Cancel "),i.qZA()()()}if(2&k){const u=i.oxw();i.xp6(7),i.Q6J("formGroup",u.formGroup),i.xp6(8),i.Q6J("items",u.assetList)("clearable",!1),i.xp6(1),i.Q6J("ngIf",(null==u.status?null:u.status.invalid)&&(null==u.status?null:u.status.touched)),i.xp6(7),i.Q6J("maxlength",u.maxCharsDecision),i.xp6(2),i.AsE(" Characters Remaining: ",null==u.remark||null==u.remark.value?null:u.remark.value.length,"/",u.maxCharsDecision,""),i.xp6(1),i.Q6J("ngIf",(null==u.remark?null:u.remark.invalid)&&(null==u.remark?null:u.remark.touched)),i.xp6(3),i.Q6J("ngIf",u.isFirstImageVisible),i.xp6(2),i.s9C("src",u.imageOneUrl,i.LSH),i.xp6(7),i.Q6J("ngIf",u.isSecondImageVisible),i.xp6(2),i.s9C("src",u.imageTwoUrl,i.LSH),i.xp6(7),i.Q6J("ngIf",u.isThirdImageVisible),i.xp6(2),i.s9C("src",u.imageThreeUrl,i.LSH),i.xp6(8),i.Q6J("disabled",u.formGroup.invalid)}}function B(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"button",77),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i.TgZ(1,"span",78),i._uU(2,"\xd7"),i.qZA()(),i._UZ(3,"img",79)}if(2&k){const u=i.oxw();i.xp6(3),i.s9C("src",u.viewImageValue,i.LSH)}}let le=(()=>{class k{constructor(u,w,A,O,Ce,Re){this.modal=u,this.auth=w,this.utilService=A,this.modalService=O,this.maintenanceService=Ce,this.formBuilder=Re,this.isProject=!1,this.maxCharsDecision=300,this.isFirstImageVisible=!1,this.isSecondImageVisible=!1,this.isThirdImageVisible=!1,this.ImageUrl=Q.N.apiUrl,this.baseUrl=Q.N.apiUrl,this.isProject=this.auth.getisProject()}ngOnInit(){this.imageOneUrl="../../../../../../assets/images/blankasset.png",this.imageTwoUrl="../../../../../../assets/images/blankasset.png",this.imageThreeUrl="../../../../../../assets/images/blankasset.png",this.buildForm(),this.GetTicketingAssetList(this.ticketId)}GetTicketingAssetList(u){this.maintenanceService.GetTicketingAssetList(u).subscribe(w=>{this.ticketingAssetList=w.list},w=>{})}buildForm(){this.formGroup=this.formBuilder.group({status:[null,[p.kI.required]],remark:["",[p.kI.required]],picOne:[""],picTwo:[""],picThree:[""]})}get status(){return this.formGroup.get("status")}get remark(){return this.formGroup.get("remark")}get picOne(){return this.formGroup.get("picOne")}get picTwo(){return this.formGroup.get("picTwo")}get picThree(){return this.formGroup.get("picThree")}passBack(u){this.modal.close(u)}returnClassname(u){return"status-workTaskStatuId-"+u.woTaskStatusId+"-"+u.woTaskStatusName}returnClassStatus(u){return this.utilService.returnStatusClasses(u)}updateAsset(u,w){this.getAssetStatus(),this.listData=w,this.modalService.open(u,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1}).result.then(A=>{this.formGroup.reset()},A=>{this.formGroup.reset()})}getAssetStatus(){this.maintenanceService.getAssetStatusList().subscribe(u=>{this.assetList=u},u=>{})}onSelectFirstFile(u){if(u.target.files&&u.target.files[0]){let A=new FileReader;A.readAsDataURL(u.target.files[0]),A.onload=O=>{this.imageOneUrl=O.target.result,this.isFirstImageVisible=!0}}}onSelectSecondFile(u){if(u.target.files&&u.target.files[0]){let A=new FileReader;A.readAsDataURL(u.target.files[0]),A.onload=O=>{this.imageTwoUrl=O.target.result,this.isSecondImageVisible=!0}}}onSelectThirdFile(u){if(u.target.files&&u.target.files[0]){let A=new FileReader;A.readAsDataURL(u.target.files[0]),A.onload=O=>{this.imageThreeUrl=O.target.result,this.isThirdImageVisible=!0}}}crossFirstImage(u){u&&(this.imageOneUrl="../../../../../../assets/images/blankasset.png",this.isFirstImageVisible=!1)}crossSecondImage(u){u&&(this.imageTwoUrl="../../../../../../assets/images/blankasset.png",this.isSecondImageVisible=!1)}crossThirdImage(u){u&&(this.imageTwoUrl="../../../../../../assets/images/blankasset.png",this.isThirdImageVisible=!1)}Submit(){if(this.formGroup.valid){let u=this.formGroup.value;const w=this.assetList.find(A=>A.assetStatusId===u.status);this.payload={TicketItemId:this.listData?.ticketItemId,TicketItemStatusId:w?.assetStatusId,TicketItemStatusName:w?.assetStatus,TechnitionRemark:u?.remark},"../../../../../../assets/images/blankasset.png"!=this.imageOneUrl&&(this.payload.TechIMGURL1Base64=this.imageOneUrl?this.imageOneUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),"../../../../../../assets/images/blankasset.png"!=this.imageTwoUrl&&(this.payload.TechIMGURL2Base64=this.imageTwoUrl?this.imageTwoUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),"../../../../../../assets/images/blankasset.png"!=this.imageThreeUrl&&(this.payload.TechIMGURL3Base64=this.imageThreeUrl?this.imageThreeUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),this.updateAssetDetail()}}updateAssetDetail(){this.maintenanceService.updateAsset(this.payload).subscribe(u=>{this.GetTicketingAssetList(this.ticketId),this.modalService.dismissAll(),this.formGroup.reset()},u=>{})}confirmForViewImage(u,w){this.viewImageValue=this.ImageUrl+w,this.modalService.open(u,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1}).result.then(A=>{},A=>{})}static{this.\u0275fac=function(w){return new(w||k)(i.Y36(e.Kz),i.Y36(d.u),i.Y36(J.f),i.Y36(e.FF),i.Y36(c.N),i.Y36(p.qu))}}static{this.\u0275cmp=i.Xpm({type:k,selectors:[["app-end-tast-created"]],inputs:{ticketId:"ticketId"},decls:16,vars:2,consts:[[1,"container-fluid","p-0","d-flex","flex-column","justify-content-between","newmodalclass"],[1,"d-flex","p-4","justify-content-between"],[1,"float-right","d-flex","justify-content-between"],["type","button","aria-label","Close button",1,"close","ml-4",3,"click"],["aria-hidden","true"],[1,"flex-grow-1","px-4",2,"background-color","white !important","overflow-y","auto"],[1,"row"],["class","col-md-12 grid-margin stretch-card",4,"ngFor","ngForOf"],["class","col-md-12 grid-margin stretch-card",4,"ngIf"],["updatePopup",""],["modalViewImageConfirm",""],[1,"col-md-12","grid-margin","stretch-card"],["class","card box-border",4,"ngIf"],[1,"card","box-border"],[1,"card-header","d-flex","justify-content-between","align-items-baseline","p-2",3,"ngClass"],[1,"d-flex","align-items-center"],["class","ml-2 status text-primary",4,"ngIf"],[1,"status","text-light"],[1,"card-body","padding-5"],[1,"col-md-9"],[1,"tx-11","font-weight-bold","mb-0","text-uppercase"],[1,"text-muted"],[1,"text-muted","msg"],["class","my-1",4,"ngIf"],[1,"col-md-3","d-flex","justify-content-end"],["class","image-card-size",3,"src","click",4,"ngIf"],["src","../../../../../../../assets/images/placeholder.jpg","class","image-card-size",4,"ngIf"],[1,"col-md-12"],["class","text-muted truncate-text",3,"ngbTooltip",4,"ngIf"],[4,"ngIf"],["class","col-md-12 mt-2",4,"ngIf"],[1,"ml-2","status","text-primary"],[1,"my-1"],[1,"badge","bg-blue","text-light","badge-pill"],[1,"badge","bg-info","text-light","badge-pill"],[1,"image-card-size",3,"src","click"],["src","../../../../../../../assets/images/placeholder.jpg",1,"image-card-size"],[1,"text-muted","truncate-text",3,"ngbTooltip"],[1,"col-md-12","mt-2"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"card","box-border","mt-2"],[1,"card-header"],[1,"text-danger"],[1,"modal-header","d-flex","align-items-baseline"],[1,"card-title","mb-0"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close","mt-1",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"control-label"],[2,"color","red"],["bindLabel","assetStatus","bindValue","assetStatusId","placeholder","Select Status","formControlName","status",1,"custom",3,"items","clearable"],["type","text","placeholder","Enter Remark Here...","maxlength","300","formControlName","remark","rows","7",1,"form-control",3,"maxlength"],[1,"nopadding","clrlbl"],[1,"col-md-12","d-flex","align-items-center"],[1,"image-section","align-center","mx-2",2,"text-align","-webkit-center"],["class","icon-cross",4,"ngIf"],["for","picOne",1,"hoverable"],[3,"src"],[1,"hover-text"],[1,"background"],["id","picOne","type","file","accept","image/*","formControlName","picOne",3,"change"],["class","icon-cross-two",4,"ngIf"],["for","picTwo",1,"hoverable"],["id","picTwo","type","file","accept","image/*","formControlName","picTwo",3,"change"],["class","icon-cross-three",4,"ngIf"],["for","picThree",1,"hoverable"],["id","picThree","type","file","accept","image/*","formControlName","picThree",3,"change"],[1,"modal-footer"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-outline-danger","ml-2",3,"click"],["class","text-danger",4,"ngIf"],[1,"icon-cross"],["aria-hidden","true",1,"fa","fa-times-circle","text-danger",3,"click"],[1,"icon-cross-two"],["aria-hidden","true",1,"fa","fa-times-circle",3,"click"],[1,"icon-cross-three"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"float-right","close",3,"click"],["aria-hidden","true",1,"float-right","mt-1","mr-2"],[1,"modal-body",3,"src"]],template:function(w,A){1&w&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4"),i._uU(3,"View Asset"),i.qZA(),i.TgZ(4,"div",2)(5,"button",3),i.NdJ("click",function(){return A.passBack(!1)}),i.TgZ(6,"span",4),i._uU(7,"\xd7"),i.qZA()()()(),i.TgZ(8,"div",5)(9,"div",6),i.YNc(10,f,2,1,"div",7)(11,_,5,0,"div",8),i.qZA()()(),i.YNc(12,E,61,15,"ng-template",null,9,i.W1O)(14,B,4,1,"ng-template",null,10,i.W1O)),2&w&&(i.xp6(10),i.Q6J("ngForOf",A.ticketingAssetList),i.xp6(1),i.Q6J("ngIf",0==(null==A.ticketingAssetList?null:A.ticketingAssetList.length)))},dependencies:[R.mk,R.sg,R.O5,p._Y,p.Fj,p.JJ,p.JL,p.nD,p.sg,p.u,e._L,C.w9],styles:["::-webkit-scrollbar{width:10px!important}::-webkit-scrollbar-track{background:#f1f1f1!important}::-webkit-scrollbar-thumb{background:#888!important}::-webkit-scrollbar-thumb:hover{background:#555!important}.newmodalclass{width:700px!important;height:100vh!important;background-color:#f7f8f8!important}@media only screen and (max-width: 480px),only screen and (max-device-width: 480px){.newmodalclass{width:380px!important;height:100vh!important;background-color:#f7f8f8!important}}.img{width:200px;height:200px;object-fit:fill}.brown{background-color:#964b00!important;color:#fff!important}.remark-img{width:100px;height:100px}.requester-image{width:80px;height:80px;border-radius:0}.technical-remark{width:80px;height:80px}.card-img{box-shadow:0 18px 30px #00000014}.aside-body{width:100%}.task-image{width:200px;height:200px;object-fit:fill}.trans-image{width:80px;height:80px;object-fit:fill}.overflow{height:100%!important;overflow-y:scroll}.table td img{width:70px;height:70px;border-radius:0%}.image-card-size{height:60px;width:60px;object-fit:cover;border-radius:30%}.bg-blue{background-color:#6571ff!important}.padding-5{padding:.5rem!important}.icon-cross{position:absolute;top:-10px;z-index:1000;left:110px}.icon-cross-two{position:absolute;top:-10px;z-index:1000;left:225px}.icon-cross-three{position:absolute;top:-10px;z-index:1000;left:340px}.fa-times-circle{color:#727cf5;font-size:20px;cursor:pointer}.image-section img{height:80px;width:80px;border-radius:0%;margin-top:15px}.image-section .hoverable{position:relative;display:block;cursor:pointer;height:100px;width:100px;border:1px dashed lightgrey;border-radius:0%;padding:10px}.image-section .hoverable .hover-text{position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.image-section .hoverable .background{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:0%;z-index:1}.image-section .hoverable:hover .hover-text,.image-section .hoverable:hover .background{display:block}.image-section input{display:none}\n"],encapsulation:2})}}return k})();var we=h(3519),Ze=h.n(we),Ie=h(3643),_e=h(8868),ve=h(2857),ue=h(276),ge=h(5143),me=h(7625),Se=h(9417);function oe(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2),O=i.MAs(11);return i.KtG(A.getcreadingTaskConfirmation(A.workorderId,O))}),i._UZ(1,"i",11),i._uU(2," Add Task "),i.qZA()}}function ke(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,oe,3,0,"button",9),i.qZA()),2&k){const u=i.oxw();i.xp6(1),i.Q6J("ngIf",u.expectedComplitionDateTime)}}function he(k,H){if(1&k&&(i.TgZ(0,"span",43),i._uU(1),i.qZA()),2&k){const u=i.oxw(2).$implicit;i.xp6(1),i.Oqu((null==u?null:u.supportType)||"-")}}function fe(k,H){if(1&k&&(i.TgZ(0,"span",44),i._uU(1),i.qZA()),2&k){const u=i.oxw(2).$implicit;i.xp6(1),i.Oqu((null==u?null:u.supportType)||"-")}}function M(k,H){if(1&k&&(i.TgZ(0,"span",45),i._uU(1),i.qZA()),2&k){const u=i.oxw(2).$implicit;i.xp6(1),i.Oqu((null==u?null:u.supportType)||"-")}}function de(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"i",47),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(4).$implicit,O=i.oxw(2),Ce=i.MAs(9);return i.KtG(O.getEndTaskConfirmation(A,Ce))}),i.qZA()}}function b(k,H){if(1&k&&(i.ynx(0),i.YNc(1,de,1,0,"i",46),i.BQk()),2&k){const u=i.oxw(3).$implicit;i.xp6(1),i.Q6J("ngIf",!u.endDateTime)}}function y(k,H){if(1&k&&(i.ynx(0),i.YNc(1,b,2,1,"ng-container",3),i.BQk()),2&k){const u=i.oxw(4);i.xp6(1),i.Q6J("ngIf",u.expectedComplitionDateTime)}}function m(k,H){if(1&k&&(i.TgZ(0,"div",38)(1,"span",39),i.YNc(2,he,2,1,"span",40)(3,fe,2,1,"span",41)(4,M,2,1,"span",42),i.qZA(),i.YNc(5,y,2,1,"ng-container",3),i.qZA()),2&k){const u=i.oxw().$implicit,w=i.oxw(2);i.xp6(2),i.Q6J("ngIf","On-Site"==(null==u?null:u.supportType)||"On Site"==(null==u?null:u.supportType)),i.xp6(1),i.Q6J("ngIf","Remote"==(null==u?null:u.supportType)),i.xp6(1),i.Q6J("ngIf","Phone Call"==(null==u?null:u.supportType)),i.xp6(1),i.Q6J("ngIf",w.dontShowTheEndTaskButtonForClient)}}function Z(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"img",48),i.NdJ("click",function(){i.CHM(u);const A=i.oxw().$implicit,O=i.oxw(2);return i.KtG(O.open(O.imageUrl+A.sitePicUrlStart))}),i.qZA()}if(2&k){const u=i.oxw().$implicit,w=i.oxw(2);i.hYB("src","",w.imageUrl,"",u.sitePicUrlStart,"",i.LSH)}}function q(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"img",49),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(3);return i.KtG(A.open("../../../../../../assets/images/placeholderimage.png"))}),i.qZA()}}function X(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"p",50),i.NdJ("click",function(){i.CHM(u);const A=i.oxw().$implicit,O=i.oxw(2),Ce=i.MAs(13);return i.KtG(O.openModaVideeo(A.siteVideoUrlStart,Ce))}),i._UZ(1,"i",51),i.TgZ(2,"span",52),i._uU(3," Play Video"),i.qZA()()}}function Te(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"img",48),i.NdJ("click",function(){i.CHM(u);const A=i.oxw().$implicit,O=i.oxw(2);return i.KtG(O.open(O.imageUrl+A.sitePicUrlEnd))}),i.qZA()}if(2&k){const u=i.oxw().$implicit,w=i.oxw(2);i.hYB("src","",w.imageUrl,"",u.sitePicUrlEnd,"",i.LSH)}}function qe(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"img",49),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(3);return i.KtG(A.open("../../../../../../assets/images/placeholderimage.png"))}),i.qZA()}}function Le(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"p",50),i.NdJ("click",function(){i.CHM(u);const A=i.oxw().$implicit,O=i.oxw(2),Ce=i.MAs(13);return i.KtG(O.openModaVideeo(A.siteVideoUrlEnd,Ce))}),i._UZ(1,"i",51),i.TgZ(2,"span",52),i._uU(3," Play Video"),i.qZA()()}}function Ue(k,H){1&k&&(i.TgZ(0,"h6",17),i._uU(1,"Remark"),i.qZA())}function Oe(k,H){if(1&k&&(i.TgZ(0,"p",53),i._uU(1),i.qZA()),2&k){const u=i.oxw().$implicit;i.s9C("ngbTooltip",u.remark),i.xp6(1),i.hij(" ",u.remark||"-"," ")}}function Me(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"h6",17),i._uU(4),i.qZA(),i.TgZ(5,"div")(6,"span",18),i._uU(7),i.qZA()(),i.YNc(8,m,6,4,"div",19),i.qZA(),i.TgZ(9,"div",20)(10,"div",21)(11,"div",22),i.YNc(12,Z,1,2,"img",23)(13,q,1,0,"img",24),i.qZA(),i.TgZ(14,"div",25)(15,"h5",26),i._uU(16,"Started By | Date & Time"),i.qZA(),i.TgZ(17,"p",27),i._UZ(18,"i",28),i._uU(19),i.qZA(),i.TgZ(20,"p",29),i._UZ(21,"i",30),i._uU(22),i.qZA(),i.YNc(23,X,4,0,"p",31),i.qZA()(),i._UZ(24,"hr",32),i.TgZ(25,"div",21)(26,"div",22),i.YNc(27,Te,1,2,"img",23)(28,qe,1,0,"img",24),i.qZA(),i.TgZ(29,"div",25)(30,"h5",26),i._uU(31,"Ended By | Date & Time"),i.qZA(),i.TgZ(32,"p",27),i._UZ(33,"i",28),i._uU(34),i.qZA(),i.TgZ(35,"p",29),i._UZ(36,"i",30),i._uU(37),i.qZA(),i.YNc(38,Le,4,0,"p",33),i.qZA()(),i._UZ(39,"hr",32),i.YNc(40,Ue,2,0,"h6",34)(41,Oe,2,2,"p",35),i.TgZ(42,"p",36)(43,"a",37),i.NdJ("click",function(){const O=i.CHM(u).$implicit,Ce=i.oxw(2);return i.KtG(Ce.getTechnitionAttendanceListByTaskForSeerviceOrder(null==O?null:O.woTaskId))}),i._uU(44," View Attendance"),i.qZA()()()()()}if(2&k){const u=H.$implicit,w=H.index,A=i.oxw(2);i.xp6(4),i.hij("Task-",A.ticketWOStartEndTask.length-w,""),i.xp6(2),i.Tol(A.commonFunctionService.returnStatusBadgeClasses(u.soStatusId)),i.xp6(1),i.Oqu(u.soStatusName||"-"),i.xp6(1),i.Q6J("ngIf",25!=u.soStatusId),i.xp6(4),i.Q6J("ngIf",u.sitePicUrlStart),i.xp6(1),i.Q6J("ngIf",!u.sitePicUrlStart),i.xp6(6),i.hij("",u.startDateTimeByName||"-"," "),i.xp6(3),i.hij("",u.startDateTime||"-"," "),i.xp6(1),i.Q6J("ngIf",u.siteVideoUrlStart),i.xp6(4),i.Q6J("ngIf",u.sitePicUrlEnd),i.xp6(1),i.Q6J("ngIf",!u.sitePicUrlEnd),i.xp6(6),i.hij("",u.endDateTimeByName||"-"," "),i.xp6(3),i.hij("",u.endDateTime||"-"," "),i.xp6(1),i.Q6J("ngIf",u.siteVideoUrlEnd),i.xp6(2),i.Q6J("ngIf",u.remark),i.xp6(1),i.Q6J("ngIf",u.remark)}}function Ve(k,H){if(1&k&&(i.TgZ(0,"div",12),i.YNc(1,Me,45,17,"div",13),i.qZA()),2&k){const u=i.oxw();i.xp6(1),i.Q6J("ngForOf",u.ticketWOStartEndTask)}}function Qe(k,H){1&k&&(i.TgZ(0,"div",12)(1,"div",54)(2,"p",55),i._uU(3,"No Task Created"),i.qZA()()())}function S(k,H){1&k&&(i.TgZ(0,"small",86),i._uU(1," Service Order Status is Required"),i.qZA())}function ie(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,S,2,0,"small",85),i.qZA()),2&k){const u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==u.statusValue.errors?null:u.statusValue.errors.required)}}function T(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"label",87)(1,"div",88)(2,"div",89)(3,"i",90),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2);return i.KtG(A.crossOneImage(A.imageOneUrl))}),i.qZA()()()()}}function L(k,H){1&k&&(i.TgZ(0,"label",91)(1,"div",88)(2,"div",89),i._UZ(3,"i",92),i.qZA()()())}function x(k,H){1&k&&(i.TgZ(0,"small",86),i._uU(1," Remark is Required"),i.qZA())}function ne(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,x,2,0,"small",85),i.qZA()),2&k){const u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==u.actionRemark.errors?null:u.actionRemark.errors.required)}}function ae(k,H){if(1&k&&(i.TgZ(0,"div",75)(1,"div",93)(2,"label",94),i._UZ(3,"input",95)(4,"i",96)(5,"div",97),i.qZA()()()),2&k){const u=i.oxw(2);i.xp6(5),i.Q6J("innerHTML",u.returnTaskListTermStatement,i.oJD)}}function Je(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",56)(1,"h6",2),i._uU(2,"Service Order Status"),i.qZA(),i.TgZ(3,"button",57),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i.TgZ(4,"span",58),i._uU(5,"\xd7"),i.qZA()()(),i.TgZ(6,"div",59)(7,"form",60)(8,"div",12)(9,"div",61),i._UZ(10,"br"),i.TgZ(11,"label",62),i._uU(12,"Service Order Status"),i.TgZ(13,"span",63),i._uU(14,"*"),i.qZA()(),i.TgZ(15,"ng-select",64),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.changeStatusHandle(A))}),i.qZA(),i.YNc(16,ie,2,1,"div",3),i.qZA(),i.TgZ(17,"div",65)(18,"div",66)(19,"div",67)(20,"div",68),i.YNc(21,T,4,0,"label",69)(22,L,4,0,"label",70),i.TgZ(23,"input",71),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.onSelectOneFile(A))}),i.qZA()(),i.TgZ(24,"div",72)(25,"div",73),i._UZ(26,"img",74),i.qZA()()()()(),i.TgZ(27,"div",75)(28,"label",76),i._uU(29,"Remark"),i.TgZ(30,"span",63),i._uU(31,"*"),i.qZA()(),i.TgZ(32,"div",77)(33,"textarea",78),i.NdJ("ngModelChange",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.actionRemarkValue=A)}),i.qZA(),i.TgZ(34,"div",79)(35,"label",80),i._uU(36),i.qZA(),i.YNc(37,ne,2,1,"div",3),i.qZA()()(),i.YNc(38,ae,6,1,"div",81),i.qZA()()(),i.TgZ(39,"div",82)(40,"button",83),i.NdJ("click",function(A){const Ce=i.CHM(u).$implicit;return i.KtG(Ce.close("Ok",A))}),i._uU(41," Confirm "),i.qZA(),i.TgZ(42,"button",84),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("cancel"))}),i._uU(43," Cancel "),i.qZA()()}if(2&k){const u=i.oxw();i.xp6(7),i.Q6J("formGroup",u.updateStatusFrom),i.xp6(8),i.ekj("is-invalid",u.statusValue.invalid&&u.statusValue.touched)("is-valid",u.statusValue.valid&&u.statusValue.touched),i.Q6J("items",u.masterStatusList)("clearable",!1),i.xp6(1),i.Q6J("ngIf",u.statusValue.invalid&&u.statusValue.touched),i.xp6(5),i.Q6J("ngIf",u.shownCrossbutton),i.xp6(1),i.Q6J("ngIf",!u.shownCrossbutton),i.xp6(4),i.s9C("src",u.imageOneUrl,i.LSH),i.xp6(7),i.ekj("is-invalid",u.actionRemark.invalid&&u.actionRemark.touched)("is-valid",u.actionRemark.valid&&u.actionRemark.touched),i.Q6J("ngModel",u.actionRemarkValue)("maxlength",u.maxChars),i.xp6(3),i.AsE(" Characters Remaining: ",null==u.actionRemarkValue?null:u.actionRemarkValue.length,"/",u.maxChars,""),i.xp6(1),i.Q6J("ngIf",u.actionRemark.invalid&&u.actionRemark.touched),i.xp6(1),i.Q6J("ngIf",u.statusValueName),i.xp6(2),i.Q6J("disabled",u.updateStatusFrom.invalid||!u.checkboxRemark.value)}}function je(k,H){1&k&&(i.TgZ(0,"small",86),i._uU(1," Support Type is Required"),i.qZA())}function Pe(k,H){if(1&k&&(i.TgZ(0,"div"),i.YNc(1,je,2,0,"small",85),i.qZA()),2&k){const u=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==u.supportType.errors?null:u.supportType.errors.required)}}function Fe(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"label",87)(1,"div",88)(2,"div",89)(3,"i",90),i.NdJ("click",function(){i.CHM(u);const A=i.oxw(2);return i.KtG(A.crossTwoImage(A.imageTwoUrl))}),i.qZA()()()()}}function Ee(k,H){1&k&&(i.TgZ(0,"label",91)(1,"div",88)(2,"div",89),i._UZ(3,"i",92),i.qZA()()())}function Be(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",56)(1,"h6",2),i._uU(2,"Task Start Confirmation"),i.qZA(),i.TgZ(3,"button",57),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i.TgZ(4,"span",58),i._uU(5,"\xd7"),i.qZA()()(),i.TgZ(6,"div",59)(7,"form",60)(8,"div",12)(9,"div",98)(10,"p",99)(11,"b"),i._uU(12,"Are you sure you want to start a new task for the selected service order?"),i.qZA()(),i.TgZ(13,"p",100),i._uU(14,' By clicking "Confirm," a new task will be created and assigned to you, and the service order status will be changed to In-Progress. '),i.qZA(),i.TgZ(15,"p",100),i._uU(16," This indicates that you are ready to begin working on the task. "),i.qZA(),i.TgZ(17,"p",100),i._uU(18,' If you are ready to proceed and start the new task, click "Confirm." If you need more time or have any concerns, click "Cancel" to return to the previous screen. '),i.qZA()(),i.TgZ(19,"div",101),i._UZ(20,"br"),i.TgZ(21,"label",102),i._uU(22,"Support Type"),i.TgZ(23,"span",63),i._uU(24,"*"),i.qZA()(),i._UZ(25,"ng-select",103),i.YNc(26,Pe,2,1,"div",3),i.qZA(),i.TgZ(27,"div",65)(28,"div",66)(29,"div",67)(30,"div",68),i.YNc(31,Fe,4,0,"label",69)(32,Ee,4,0,"label",70),i.TgZ(33,"input",104),i.NdJ("change",function(A){i.CHM(u);const O=i.oxw();return i.KtG(O.onSelectSecondFile(A))}),i.qZA()(),i.TgZ(34,"div",72)(35,"div",73),i._UZ(36,"img",74),i.qZA()()()()()()()(),i.TgZ(37,"div",82)(38,"button",83),i.NdJ("click",function(A){const Ce=i.CHM(u).$implicit;return i.KtG(Ce.close("Ok",A))}),i._uU(39," Confirm "),i.qZA(),i.TgZ(40,"button",105),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("cancel"))}),i._uU(41," Cancel "),i.qZA()()}if(2&k){const u=i.oxw();i.xp6(7),i.Q6J("formGroup",u.updateCreatedTaskFrom),i.xp6(18),i.ekj("is-invalid",u.supportType.invalid&&u.supportType.touched)("is-valid",u.supportType.valid&&u.supportType.touched),i.Q6J("items",u.supportTypeAarry)("clearable",!1),i.xp6(1),i.Q6J("ngIf",u.supportType.invalid&&u.supportType.touched),i.xp6(5),i.Q6J("ngIf",u.shownCrossbutton),i.xp6(1),i.Q6J("ngIf",!u.shownCrossbutton),i.xp6(4),i.s9C("src",u.imageTwoUrl,i.LSH),i.xp6(2),i.Q6J("disabled",u.updateCreatedTaskFrom.invalid)}}function Ge(k,H){if(1&k){const u=i.EpF();i.TgZ(0,"div",106)(1,"button",107),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.dismiss("Cross click"))}),i.qZA()(),i.TgZ(2,"div",108)(3,"div",109)(4,"video",110),i._UZ(5,"source",111),i.qZA()()(),i.TgZ(6,"div",82)(7,"button",112),i.NdJ("click",function(){const O=i.CHM(u).$implicit;return i.KtG(O.close("Close click"))}),i._uU(8," Close "),i.qZA()()}if(2&k){const u=i.oxw();i.xp6(5),i.s9C("src",u.linkVideo,i.LSH)}}let Ye=(()=>{class k{constructor(u,w,A,O,Ce,Re,He,We){this.modalService=u,this.commonFunctionService=w,this.serviceOrderService=A,this.offcanvasService=O,this.formBuilder=Ce,this.ticketService=Re,this.lightbox=He,this.authAssetService=We,this.ticketWOStartEndTask=[],this.ticketData=[],this.expectedComplitionDateTime=!0,this.afterSubmitServiceOrder=new i.vpe,this.dontShowTheEndTaskButtonForClient=!0,this.imageUrl=Q.N.apiUrl,this.imageOneUrl="",this.shownHideButtonAdd=!1,this.supportTypeAarry=["On-Site","Remote","Phone Call"],this.shownCrossbutton=!1,this.maxChars=300,this.actionRemarkValue="",this.masterStatusList=[],this.shownStartbutton=!0,this.showinglengthTask=0,this.linkVideo=""}ngOnChanges(u){this.imageOneUrl="../../../../../../assets/images/placeholderimage.png",this.getMasterStatusList("TaskPage"),"Client User"===this.authAssetService.getRole()||"Basic Service Page"!=this.ticketService.ticketPageAction&&"Basic Ticket Page"!=this.ticketService.ticketPageAction&&"Software Support Dashboard Page"!=this.ticketService.ticketPageAction||29!=this.ticketData[0]?.ticketStatusId&&30!=this.ticketData[0]?.ticketStatusId&&34!=this.ticketData[0]?.ticketStatusId?this.shownStartbutton=!1:this.checkEndTaskthere(this.ticketWOStartEndTask),"Client User"===this.authAssetService.getRole()&&(this.dontShowTheEndTaskButtonForClient=!1)}ngOnInit(){this.imageOneUrl="../../../../../../assets/images/placeholderimage.png","Client User"===this.authAssetService.getRole()||"Basic Service Page"!=this.ticketService.ticketPageAction&&"Basic Ticket Page"!=this.ticketService.ticketPageAction&&"Software Support Dashboard Page"!=this.ticketService.ticketPageAction||29!=this.ticketData[0]?.ticketStatusId&&30!=this.ticketData[0]?.ticketStatusId&&34!=this.ticketData[0]?.ticketStatusId?this.shownStartbutton=!1:this.checkEndTaskthere(this.ticketWOStartEndTask),"Client User"===this.authAssetService.getRole()&&(this.dontShowTheEndTaskButtonForClient=!1)}openModalViewAsseetndTech(u){if(u){const w=this.modalService.open(le,{centered:!0,size:"lg",keyboard:!1,backdrop:"static",windowClass:"modalclass"});w.componentInstance.ticketId=this.ticketWOStartEndTask,console.log("abc::",this.ticketWOStartEndTask),w.result.then(A=>{})}else this.waring("No Record Found Asset & Technition ")}success(u){Ze().fire({toast:!0,position:"top-end",icon:"success",title:u.message,showConfirmButton:!1,timer:3e3})}waring(u){Ze().fire({toast:!0,position:"top-end",icon:"warning",title:u,showConfirmButton:!1,timer:3e3})}returnClassname(u){return"status-workTaskStatuId-"+u.woTaskStatusId+"-"+u.woTaskStatusName}cardBroderFunction(u){return" card-border-"+this.commonFunctionService.returnAssetStatusBorderAndBadgeClasses(u)}openModalViewTech(u){if(u.length>0){const w=this.offcanvasService.open(Ie.f,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas "});w.componentInstance.ticketingTechnicianList=u,w.result.then(A=>{}).catch(A=>{})}else this.waring("No Record Found Technition ")}getTechnitionAttendanceListByTaskForSeerviceOrder(u){this.serviceOrderService.getTechnitionAttendanceListByTaskForSeerviceOrder({WOTaskId:u}).subscribe(A=>{A.obj&&this.openModalViewTech(A.obj)})}getEndTaskConfirmation(u,w){this.getFormBinding(u),this.UpdateStatusValue=u,this.modalService.open(w,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(A=>{this.updateServiceOrderStatusAndRemark()},A=>{this.updateStatusFrom.reset()})}getFormBinding(u){this.imageOneUrl="../../../../../../assets/images/placeholderimage.png";let w=null;w=2==u.soStatusId?null:u.soStatusId,this.statusValueName=u.soStatusName,this.returnStautsTermCondition(this.statusValueName),this.updateStatusFrom=this.formBuilder.group({actionRemark:[u.wO_Tec_Remark,p.kI.required],statusValue:[w,p.kI.required],checkboxRemark:["",p.kI.required],imageurlend:[]})}get actionRemark(){return this.updateStatusFrom.get("actionRemark")}get statusValue(){return this.updateStatusFrom.get("statusValue")}get checkboxRemark(){return this.updateStatusFrom.get("checkboxRemark")}updateServiceOrderStatusAndRemark(){let u={WOId:this.UpdateStatusValue.woId,TaskType:this.UpdateStatusValue.supportType,WOStatusId:this.statusValue.value,WOStatusName:this.statusValueName,Remark:this.actionRemark.value,SitePicUrlEndBase64:"../../../../../../assets/images/placeholderimage.png"!==this.imageOneUrl?this.imageOneUrl.replace(/^data:image\/[a-z]+;base64,/,""):null};this.serviceOrderService.endServiceOrder(u).subscribe(w=>{this.success(w),this.UpdateStatusValue=null,this.statusValueName=null,this.updateStatusFrom.reset(),this.actionRemarkValue="",this.afterSubmitServiceOrder.emit(w),this.shownCrossbutton=!1},w=>{this.actionRemarkValue="",this.openModaWaringConf(w),this.updateStatusFrom.reset()})}onSelectOneFile(u){if(u.target.files&&u.target.files[0]){let A=new FileReader;A.readAsDataURL(u.target.files[0]),A.onload=O=>{this.shownCrossbutton=!0,this.imageOneUrl=O.target.result}}}crossOneImage(u){u&&(this.shownCrossbutton=!1,this.imageOneUrl="../../../../../assets/images/placeholderimage.png")}returnStautsTermCondition(u){"On-Hold"==u?this.returnTaskListTermStatement='\n        <p><b>Are you sure you want to end this task? </b></p>\n        <p>By clicking "End Task," the current service order status will be changed to "On-Hold." </p>\n        <p>This indicates that the task is temporarily paused or on hold for various reasons, such as starting a new day\'s work or waiting for further instructions or resources.</p>\n        <p>If you are ready to put this task on hold and update the service order and ticket status to "On-Hold," \n        click "Confirm."</p>\n        <p>If you need to review any details or continue working on the task, click "Cancel" to return to the task view.</p>':"Completed"==u?this.returnTaskListTermStatement='\n\n        <p><b>Are you sure you want to end this task?</b></p>\n        <p> By clicking "End Task," the current service order status will be changed to "Completed." This indicates that the task has been successfully executed and all associated actions have been completed.</p>\n        <p>If you are confident that all tasks related to this service order have been successfully fulfilled, click "Confirm" to end the task and update the service order status to "Completed." If you need to review any details or continue working on the task, click "Cancel" to return to the task view.</p>':"Escalated"==u?this.returnTaskListTermStatement='\n\n        <p><b>Are you sure you want to end this task?</b><p></p> By clicking "End Task," the current service order status will be changed to "Escalated." This indicates that the task requires further attention and has been escalated to a higher level of support or management due to its complexity or urgency.</p>\n        <p>If you are certain that this task requires escalation, click "Confirm" to end the task and update the service order status to "Escalated." If you need to review any details or continue working on the task, click "Cancel" to return to the task view.</p>':"Canceled"==u?this.returnTaskListTermStatement='\n        <p><b>Are you sure you want to end this task?</b><p></p> By clicking "End Task," the current service order status will be changed to "Canceled." This indicates that the task has been intentionally stopped or abandoned before completion, typically due to changes in priorities or requirements.</p>\n        <p>If you are certain that canceling this task is necessary, click "Confirm" to end the task and update the service order status to "Canceled." If you need to review any details or continue working on the task, click "Cancel" to return to the task view.</p>':"In-Progress"==u&&(this.returnTaskListTermStatement='\n    <p><b>Are you sure you want to start this task? </b></p>\n    <p> By clicking "+," symbol A new task created, and service order and ticket status will be changed to "In-Progress." This action indicates that you are ready to begin working on the task.</p>\n    <p>If you are confident and ready to proceed, click "Confirm" to create the task and change the service order status to "In-Progress." </p>\n    <p>If you need more time or have any concerns, click "Cancel" to go back and review the task details.</p>')}changeStatusHandle(u){this.statusValueName=u.assetStatus,this.returnStautsTermCondition(this.statusValueName)}getMasterStatusList(u){this.serviceOrderService.getMaintenanceStatus(u).subscribe(w=>{this.masterStatusList=w})}getcreadingTaskFormBinding(){this.imageTwoUrl="../../../../../assets/images/placeholderimage.png",this.updateCreatedTaskFrom=this.formBuilder.group({supportType:[null,p.kI.required],imageurY:[]})}get supportType(){return this.updateCreatedTaskFrom.get("supportType")}get imageurY(){return this.updateCreatedTaskFrom.get("imageurY")}getcreadingTaskConfirmation(u,w){this.getcreadingTaskFormBinding(),this.modalService.open(w,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(A=>{this.getStartServiceOrder(u)},A=>{})}getStartServiceOrder(u){let w={WOId:Number(u),SupportType:this.supportType.value,SitePicUrlStartBase64:"../../../../../assets/images/placeholderimage.png"!=this.imageTwoUrl?this.imageTwoUrl.replace(/^data:image\/[a-z]+;base64,/,""):null};this.serviceOrderService.getStartServiceOrder(w).subscribe(A=>{this.success(A),this.shownCrossbutton=!1,this.updateCreatedTaskFrom.reset(),this.afterSubmitServiceOrder.emit(A)},A=>{("400"===A?.code||"400"===A.error.code)&&this.showError(A.error.message||A.message)})}onSelectSecondFile(u){if(u.target.files&&u.target.files[0]){let A=new FileReader;A.readAsDataURL(u.target.files[0]),A.onload=O=>{this.shownCrossbutton=!0,this.imageTwoUrl=O.target.result}}}crossTwoImage(u){u&&(this.shownCrossbutton=!1,this.imageTwoUrl="../../../../../assets/images/placeholderimage.png")}checkEndTaskthere(u){this.shownStartbutton=!0,this.showinglengthTask=u.length,u.forEach(w=>{null==w.endDateTime&&null==w.endDateTimeByName&&(this.shownStartbutton=!1)})}showError(u){Ze().fire({title:"",text:u,icon:"warning",showCancelButton:!1,confirmButtonText:"<span class='swal2-confirm '> Ok</span>"}).then(w=>{})}openModaWaringConf(u){const w=this.modalService.open(_e.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});w.componentInstance.title=u,w.componentInstance.subTitle="",w.result.then(A=>{})}open(u){let A=[];A.push({src:u,caption:"",thumb:"thumb"}),this.lightbox.open(A)}openModaVideeo(u,w){this.linkVideo=Q.N.apiUrl+u,this.modalService.open(w,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(O=>{})}static{this.\u0275fac=function(w){return new(w||k)(i.Y36(e.FF),i.Y36(ve.K),i.Y36(ue.R),i.Y36(e._B),i.Y36(p.qu),i.Y36(ge.w),i.Y36(me.ey),i.Y36(d.u))}}static{this.\u0275cmp=i.Xpm({type:k,selectors:[["app-task-end-service-order"]],inputs:{ticketWOStartEndTask:"ticketWOStartEndTask",mX_WorkOder:"mX_WorkOder",workorderId:"workorderId",ticketData:"ticketData",expectedComplitionDateTime:"expectedComplitionDateTime"},outputs:{afterSubmitServiceOrder:"afterSubmitServiceOrder"},features:[i.TTD],decls:14,vars:3,consts:[[1,"px-3","mx-n3","mb-2",2,"height","608px"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"card-title","mb-0"],[4,"ngIf"],["class","row",4,"ngIf"],["modalUpdateEndStatus",""],["modalUpdateStartStatus",""],["role","document"],["VideoPlayer",""],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"ri-add-fill","align-bottom","me-1"],[1,"row"],["class","col-md-4 stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","stretch-card"],[1,"card","border","border-dashed"],[1,"card-header","d-flex","justify-content-between","align-items-center","p-2"],[1,"mb-0"],[1,"fs-12"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"card-body"],[1,"d-flex","mb-0"],[1,"flex-shrink-0"],["class","avatar-md rounded",3,"src","click",4,"ngIf"],["src","../../../../../../assets/images/placeholderimage.png","class","avatar-md rounded",3,"click",4,"ngIf"],[1,"flex-grow-1","ms-2"],[1,"card-title","fs-13","mb-0"],[1,"text-muted","mb-0","fs-14","d-flex","justify-content-start"],[1,"ri-user-fill","me-2"],[1,"text-muted","fs-14","d-flex","justify-content-start","mb-0"],[1,"ri-calendar-2-fill","me-2"],["class","text-muted cursor fs-14  d-flex justify-content-start",3,"click",4,"ngIf"],[1,"mb-2","mt-2"],["class","text-muted cursor fs-14 d-flex justify-content-start",3,"click",4,"ngIf"],["class","mb-0",4,"ngIf"],["class","card-text text-muted",3,"ngbTooltip",4,"ngIf"],[1,"text-end","mb-0"],["href","javascript:void(0)",1,"link-info","link-offset-2","text-decoration-underline","link-underline-opacity-25","link-underline-opacity-100-hover",3,"click"],[1,"d-flex","justify-content-end","align-items-center"],[1,"me-2"],["class","badge bg-primary fs-12",4,"ngIf"],["class","badge bg-warning fs-12",4,"ngIf"],["class","badge bg-info fs-12",4,"ngIf"],[1,"badge","bg-primary","fs-12"],[1,"badge","bg-warning","fs-12"],[1,"badge","bg-info","fs-12"],["class","bx bx-task text-danger fs-17 cursor","ngbTooltip","End Task",3,"click",4,"ngIf"],["ngbTooltip","End Task",1,"bx","bx-task","text-danger","fs-17","cursor",3,"click"],[1,"avatar-md","rounded",3,"src","click"],["src","../../../../../../assets/images/placeholderimage.png",1,"avatar-md","rounded",3,"click"],[1,"text-muted","cursor","fs-14","d-flex","justify-content-start",3,"click"],[1,"ri-video-line","me-2"],[1,"text-primary","cursor","text-decoration-underline","fs-14"],[1,"card-text","text-muted",3,"ngbTooltip"],[1,"col-md-12"],[1,"text-center","text-muted"],[1,"modal-header","bg-info-subtle","pb-3"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close","mt-1",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"col-md-8"],["for","statusValue",1,"form-label"],[2,"color","red"],["bindLabel","assetStatus","bindValue","assetStatusId","placeholder","Select Service Order Status","formControlName","statusValue",1,"custom",3,"items","clearable","change"],[1,"col-md-4","text-center"],[1,"text-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","asset_id0","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["formControlName","imageurlend","value","","id","asset_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-md","img-size-fixed",3,"src"],[1,"form-group","col-md-12"],["for","actionRemark",1,"form-label"],[1,"input-group"],["rows","5","cols","6","placeholder","Select Remark","formControlName","actionRemark",1,"form-control","form-control-sm",3,"ngModel","maxlength","ngModelChange"],[1,"d-flex","col-12"],[1,"nopadding","clrlbl"],["class","form-group col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","btn-primary","mr-2","mb-2","mb-md-0",3,"disabled","click"],["type","button",1,"btn","btn","btn-outline-danger","mr-2","mb-2","mb-md-0",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","asset_id0","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox","formControlName","checkboxRemark",1,"form-check-input"],[1,"input-frame"],[3,"innerHTML"],[1,"col-md-12","mb-2"],[1,"text-center",2,"font-size","16px"],[1,"text-muted","text-justify",2,"font-size","12px"],[1,"form-group","col-md-8"],["for","supportType",1,"form-label"],["placeholder","Support Type","formControlName","supportType",1,"custom",3,"items","clearable"],["formControlName","imageurY","value","","id","asset_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],["type","button",1,"btn","btn","btn-outline-primary","mr-2","mb-2","mb-md-0",3,"click"],[1,"modal-header","p-3","bg-primary-subtle"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],["id","instructions"],["id","my_video_1","width","100%","height","267px","controls","","preload","none","data-setup",'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }',1,"video-js","vjs-default-skin"],["type","video/mp4",3,"src"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(w,A){1&w&&(i.TgZ(0,"ngx-simplebar",0)(1,"div",1)(2,"div")(3,"h6",2),i._uU(4,"TASK START-END"),i.qZA()(),i.YNc(5,ke,2,1,"div",3),i.qZA(),i.YNc(6,Ve,2,1,"div",4)(7,Qe,4,0,"div",4),i.qZA(),i.YNc(8,Je,44,22,"ng-template",null,5,i.W1O)(10,Be,42,12,"ng-template",null,6,i.W1O)(12,Ge,9,1,"ng-template",7,8,i.W1O)),2&w&&(i.xp6(5),i.Q6J("ngIf",A.shownStartbutton),i.xp6(1),i.Q6J("ngIf",0!=A.ticketWOStartEndTask.length),i.xp6(1),i.Q6J("ngIf",0==A.ticketWOStartEndTask.length))},dependencies:[R.sg,R.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.nD,p.sg,p.u,e._L,Se.M,C.w9]})}}return k})()},3643:(xe,re,h)=>{h.d(re,{f:()=>be});var i=h(553),p=h(9212),Q=h(7291),e=h(3828),d=h(7625),J=h(6814);function c(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",23),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.profileImageUrl)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.profileImageUrl,"",p.LSH)}}function R(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",24),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function C(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",23),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.techPicUrlStart)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.techPicUrlStart,"",p.LSH)}}function v(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",24),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function $(V,z){if(1&V&&(p.TgZ(0,"div")(1,"p",25),p._uU(2),p.qZA()()),2&V){const f=p.oxw().$implicit;p.xp6(2),p.Oqu(f.address_Start||"NA")}}function F(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",23),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.techPicUrlEnd)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.techPicUrlEnd,"",p.LSH)}}function U(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",24),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function ce(V,z){if(1&V&&(p.TgZ(0,"div",25)(1,"p"),p._uU(2),p.qZA()()),2&V){const f=p.oxw().$implicit;p.xp6(2),p.Oqu(f.address_End||"NA")}}function pe(V,z){if(1&V&&(p.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10),p.YNc(6,c,1,2,"img",11)(7,R,1,0,"img",12),p.TgZ(8,"div",13)(9,"h5",14),p._uU(10),p.qZA(),p.TgZ(11,"p",15),p._uU(12),p.qZA()()()(),p.TgZ(13,"div",9)(14,"div",10),p.YNc(15,C,1,2,"img",11)(16,v,1,0,"img",12),p.TgZ(17,"div",16)(18,"h5",14),p._UZ(19,"i",17),p._uU(20,"Check-In "),p.qZA(),p.TgZ(21,"div")(22,"span",18),p._uU(23),p.qZA()(),p.YNc(24,$,3,1,"div",19),p.qZA()()(),p.TgZ(25,"div",9)(26,"div",10),p.YNc(27,F,1,2,"img",11)(28,U,1,0,"img",12),p.TgZ(29,"div",16)(30,"h5",14),p._UZ(31,"i",20),p._uU(32,"Check-Out "),p.qZA(),p.TgZ(33,"div")(34,"span",21),p._uU(35),p.qZA()(),p.YNc(36,ce,3,1,"div",22),p.qZA()()()()()()()),2&V){const f=z.$implicit;p.xp6(6),p.Q6J("ngIf",null==f?null:f.profileImageUrl),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.profileImageUrl)),p.xp6(3),p.Oqu(f.techName),p.xp6(2),p.Oqu(f.designationName),p.xp6(3),p.Q6J("ngIf",null==f?null:f.techPicUrlStart),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.techPicUrlStart)),p.xp6(7),p.Oqu(f.startDateTime||"NA"),p.xp6(1),p.Q6J("ngIf",f.address_Start),p.xp6(3),p.Q6J("ngIf",null==f?null:f.techPicUrlEnd),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.techPicUrlEnd)),p.xp6(7),p.Oqu(f.endDateTime||"NA"),p.xp6(1),p.Q6J("ngIf",f.address_Start)}}let be=(()=>{class V{constructor(f,_,j){this.modal=f,this.auth=_,this.lightbox=j,this.isProject=!1,this.baseUrl=i.N.apiUrl,this.isProject=this.auth.getisProject()}ngOnInit(){}passBack(f){this.modal.dismiss(f)}returnClassname(f){return"status-workTaskStatuId-"+f.woTaskStatusId+"-"+f.woTaskStatusName}open(f){let j=[];j.push({src:f,caption:"",thumb:"thumb"}),this.lightbox.open(j)}static{this.\u0275fac=function(_){return new(_||V)(p.Y36(Q._B),p.Y36(e.u),p.Y36(d.ey))}}static{this.\u0275cmp=p.Xpm({type:V,selectors:[["app-technician"]],inputs:{ticketingTechnicianList:"ticketingTechnicianList"},decls:6,vars:1,consts:[[1,"offcanvas-header","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","row"],["class","col-md-6 col-lg-12 mb-2",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-12","mb-2"],[1,"card","mb-1","border","border-dashed"],[1,"card-body"],[1,"row"],[1,"col-md-4","mb-3"],[1,"d-flex","position-relative"],["class","flex-shrink-0 me-1 avatar-sm rounded","alt","...",3,"src","click",4,"ngIf"],["src","../../../../../../assets/images/placeholderimage.png","class","flex-shrink-0 me-1 avatar-sm rounded","alt","...",3,"click",4,"ngIf"],[1,"ms-lg-3","my-3","my-lg-0"],[1,"fs-16","mb-0"],[1,"text-muted","mb-0"],[1,"ms-lg-3","my-lg-0"],[1,"ri-time-line","text-primary","me-1","align-bottom"],[1,"badge","bg-primary-subtle","text-primary"],[4,"ngIf"],[1,"ri-time-line","text-success","me-1","align-bottom"],[1,"badge","bg-success-subtle","text-success"],["class","fs-12",4,"ngIf"],["alt","...",1,"flex-shrink-0","me-1","avatar-sm","rounded",3,"src","click"],["src","../../../../../../assets/images/placeholderimage.png","alt","...",1,"flex-shrink-0","me-1","avatar-sm","rounded",3,"click"],[1,"fs-12"]],template:function(_,j){1&_&&(p.TgZ(0,"div",0)(1,"h5",1),p._uU(2,"Member Task Attendance List"),p.qZA(),p.TgZ(3,"button",2),p.NdJ("click",function(){return j.modal.dismiss("Cross click")}),p.qZA()(),p.TgZ(4,"div",3),p.YNc(5,pe,37,12,"div",4),p.qZA()),2&_&&(p.xp6(5),p.Q6J("ngForOf",j.ticketingTechnicianList))},dependencies:[J.sg,J.O5],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1!important}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888!important}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555!important}.newmodalclass[_ngcontent-%COMP%]{width:700px!important;height:100vh!important;background-color:#f7f8f8!important}@media only screen and (max-width: 480px),only screen and (max-device-width: 480px){.newmodalclass[_ngcontent-%COMP%]{width:380px!important;height:100vh!important;background-color:#f7f8f8!important}}.image-card-size[_ngcontent-%COMP%]{height:60px;width:60px;object-fit:cover;border-radius:30%;cursor:pointer}.col-end-start[_ngcontent-%COMP%]{display:flex;align-items:center}.col-end-start-img[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center}"]})}}return V})()},6480:(xe,re,h)=>{h.r(re),h.d(re,{DashboardModule:()=>Dh});var i=h(6814),p=h(2787),Q=h(5861),e=h(9212),d=h(3519),J=h.n(d),c=h(553),R=h(9025),C=h(471),v=h(3828),$=h(9862);let F=(()=>{class n{constructor(t,o){this._http=t,this._route=o}getV2_MyTaskRulesActiveCount(){return this._http.post(c.N.apiUrl+"api/MaintentDash/GetV2_MyTaskRulesActiveCount",{headers:(new $.WM).set("Content-Type","application/json")})}static{this.\u0275fac=function(o){return new(o||n)(e.LFG($.eN),e.LFG(p.F0))}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var U=h(2857),ce=h(9919),pe=h(1368),be=h(9708),V=h(4435),z=h(5143),f=h(6223),_=h(7291),j=h(6903),K=h(6762),se=h(8617),Y=h(789),I=h(6592),N=h(9101);function D(n,r){if(1&n&&e._UZ(0,"span",16),2&n){const t=e.oxw();e.Q6J("countUp",t.value)("options",t.option)}}function E(n,r){1&n&&(e.TgZ(0,"span",17),e._uU(1,"0"),e.qZA())}function B(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19)(2,"span",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPageList(l.title,s.statusId))}),e._uU(3),e.qZA(),e._uU(4),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Gre("badge ",t.bgColor," text-white cursor"),e.xp6(1),e.Oqu(t.Value),e.xp6(1),e.hij(" ",t.label," ")}}function le(n,r){if(1&n&&e._UZ(0,"div",21),2&n){const t=r.$implicit;e.Gre("progress-bar ",t.bgColor," rounded-0"),e.Udp("width",t.width)}}const we=(n,r,t,o)=>({"bg-primary-subtle":n,"bg-warning-subtle":r,"bg-danger-subtle":t,"bg-info-subtle":o}),Ze=(n,r,t,o)=>({"text-primary":n,"text-warning":r,"text-danger":t,"text-info":o});let Ie=(()=>{class n{constructor(t){this.router=t,this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0}}ngOnInit(){}goToPageList(t,o){if(console.log(t),"TICKETS"==t){localStorage.removeItem("objectSerachForTicket");let a={};o&&(a.SearchTicketStatusId=o),localStorage.setItem("objectSerachForTicket",JSON.stringify(a)),this.router.navigate(["/maintenace-management/corrective/ticket/list-ticket"])}else if("SERVICE ORDERS"==t){localStorage.removeItem("objectSerachForServiceOrder");let a={};o&&(a.SearchWOStatusId=o),localStorage.setItem("objectSerachForServiceOrder",JSON.stringify(a)),this.router.navigate(["/maintenace-management/corrective/service-order/list-service-order"])}else if("INCIDENTS"==t){localStorage.removeItem("objectSerachForTicket");let a={};o&&(a.SearchTicketStatusId=o),a.SearchIsGlobal="Global",a.SearchOperationType="Incident Report",localStorage.setItem("objectSerachForTicket",JSON.stringify(a)),this.router.navigate(["/maintenace-management/corrective/ticket/list-ticket"])}}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-projects-stat"]],inputs:{title:"title",value:"value",icon:"icon",persantage:"persantage",profit:"profit",month:"month",progressBar:"progressBar",subItem:"subItem"},decls:17,vars:18,consts:[[1,"card","card-animate"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","text-primary","rounded-2","fs-2",3,"ngClass"],[1,"feather-icon-align",3,"name","ngClass"],[1,"flex-grow-1","overflow-hidden","ms-3"],[1,"text-uppercase","fw-medium","text-muted","text-truncate","mb-0"],[1,"d-flex","align-items-center","mb-3"],[1,"fs-4","flex-grow-1","mb-0"],["class","counter-value",3,"countUp","options",4,"ngIf"],["class","counter-value",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-start","mt-1"],["class","row text-muted mb-0",4,"ngFor","ngForOf"],[1,"progress","animated-progess","rounded-bottom","rounded-0",2,"height","6px"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100",3,"class","width",4,"ngFor","ngForOf"],[1,"counter-value",3,"countUp","options"],[1,"counter-value"],[1,"row","text-muted","mb-0"],[1,"text-muted","col-sm-auto","pe-3"],[3,"click"],["role","progressbar","aria-valuenow","30","aria-valuemin","0","aria-valuemax","100"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"i-feather",5),e.qZA()(),e.TgZ(6,"div",6)(7,"p",7),e._uU(8),e.qZA(),e.TgZ(9,"div",8)(10,"h4",9),e.YNc(11,D,1,2,"span",10)(12,E,2,0,"span",11),e.qZA()()()(),e.TgZ(13,"div",12),e.YNc(14,B,5,5,"div",13),e.qZA()(),e.TgZ(15,"div",14),e.YNc(16,le,1,5,"div",15),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("ngClass",e.l5B(8,we,"briefcase"===a.icon,"award"===a.icon,"alert-circle"===a.icon,"dollar-sign"===a.icon)),e.xp6(1),e.s9C("name",a.icon),e.Q6J("ngClass",e.l5B(13,Ze,"briefcase"===a.icon,"award"===a.icon,"alert-circle"===a.icon,"dollar-sign"===a.icon)),e.xp6(3),e.hij(" ",a.title," "),e.xp6(3),e.Q6J("ngIf",0!=a.value),e.xp6(1),e.Q6J("ngIf",0==a.value),e.xp6(2),e.Q6J("ngForOf",a.subItem),e.xp6(2),e.Q6J("ngForOf",a.progressBar))},dependencies:[i.mk,i.sg,i.O5,I.P,N.u]})}}return n})();var _e=h(2438),ve=h(2181),ue=h(3620),ge=h(3997),me=h(9397),Se=h(2552),oe=h(9455),ke=h(1343),he=h(7235),fe=h(4807);const M=["inputer"],de=["assetTagId"];function b(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(38);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function y(n,r){if(1&n&&e._UZ(0,"i",57),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function m(n,r){if(1&n&&e._UZ(0,"i",58),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function Z(n,r){if(1&n&&e._UZ(0,"i",59),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"On-site installation of the asset has been completed":"Asset have been collected")}}function q(n,r){if(1&n&&e._UZ(0,"i",60),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"Currently, the asset is not installed on site":"Asset have not been collected")}}function X(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",44)(2,"a",45),e._uU(3),e.qZA()(),e.TgZ(4,"td",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("assetName_"+s.id))}),e.YNc(5,b,2,0,"ng-container",47),e._uU(6),e.TgZ(7,"p",48),e.YNc(8,y,1,1,"i",49)(9,m,1,1,"i",50),e._UZ(10,"i",51),e.YNc(11,Z,1,1,"i",52)(12,q,1,1,"i",53),e._UZ(13,"i",54),e.qZA()(),e.TgZ(14,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("companyName_"+s.id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("clientName_"+s.id))}),e._uU(17),e.qZA(),e.TgZ(18,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("departmentName_"+s.id))}),e._uU(19),e.qZA(),e.TgZ(20,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("locationName_"+s.id))}),e._uU(21),e.qZA(),e.TgZ(22,"td",44)(23,"span"),e._uU(24),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(1),e.Q6J("title",t.assetName)("id","assetName_"+t.id),e.xp6(1),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngIf","Individual"==t.assignType),e.xp6(1),e.Q6J("ngIf","Project"==t.assignType),e.xp6(1),e.Tol(0==t.qrCodePrintCount?"text-danger":"text-success"),e.s9C("ngbTooltip",t.qrCodePrintCount),e.xp6(1),e.Q6J("ngIf",1==t.assigned),e.xp6(1),e.Q6J("ngIf",0==t.assigned),e.xp6(1),e.Tol(t.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.s9C("ngbTooltip",t.isLock?"Locked":"UnLocked"),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.id),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.assetName)("id","clientName_"+t.id),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.id),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(1),e.Q6J("title",t.locationName)("id","locationName_"+t.id),e.xp6(1),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus)}}function Te(n,r){1&n&&(e.TgZ(0,"div",61),e._uU(1," No Asset Found "),e.qZA())}function qe(n,r){1&n&&(e._UZ(0,"i",65),e._uU(1," Prev "))}function Le(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",66))}function Ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",62),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,qe,2,0,"ng-template",63)(2,Le,2,0,"ng-template",64),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Oe(n,r){if(1&n&&(e.TgZ(0,"div",34)(1,"table",35)(2,"thead")(3,"tr",36)(4,"th"),e._uU(5,"Asset No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Location"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,X,25,30,"tr",37),e.qZA()(),e.YNc(20,Te,2,0,"div",38),e.qZA(),e.TgZ(21,"div",39)(22,"div",40)(23,"div",41),e._uU(24),e.qZA()(),e.TgZ(25,"div",40)(26,"div",42),e.YNc(27,Ue,3,5,"ngb-pagination",43),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(6),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"h4",68),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",69),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",70),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",71),e._UZ(7,"img",72),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function Ve(n,r){1&n&&(e.TgZ(0,"h6",88),e._uU(1," Please select company from List page "),e.qZA())}function Qe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"h5",74),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",75),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",76),e.YNc(5,Ve,2,0,"h6",77),e.TgZ(6,"div",0)(7,"div",78)(8,"label",79),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",80),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",78)(12,"label",81),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",82),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",78)(16,"label",83),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",84),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()()()(),e.TgZ(19,"div",85)(20,"button",86),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(21," Clear "),e.qZA(),e.TgZ(22,"button",87),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(23," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedDropDownCompanyIdValue),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue)}}function S(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",89)(1,"div",67)(2,"button",90),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",76)(4,"div",91),e._UZ(5,"lord-icon",92),e.TgZ(6,"div",93)(7,"h4"),e._uU(8,"You are about to delete a Asset ?"),e.qZA(),e.TgZ(9,"p",94),e._uU(10," Deleting your asset will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",95)(12,"button",96),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",97),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",98),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let ie=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.helpDeskService=P,this.isProject=!1,this.selectedCompanyId=0,this.label="Asset Management",this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,approverType:null,masterWorkflowId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.checkedAssetList=[],this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}onBack(){this.router.navigate(["/maintenace-management/dashboard/asset-dashboard"])}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownAssetStatusList("AssetList"),this.loadData()}ngOnChanges(t){this.selectedDropDownCompanyIdValue=this.selectedCompanyId,this.selectedCompanyId&&this.onDropdownCompanyValueChange("")}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.assetService.GetV2_AssetListCritical_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.checkedAssetList.length>0&&(this.assetList=this.assetList.filter(o=>((this.checkedAssetList?.filter(s=>s.id==o.id)).length>0&&(o.checked=!0),1))),this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t,o){this.assetService.sendAssetId=t,this.assetService.storeAssetObject={...o},this.router.navigate(["/maintenace-management/dashboard/asset-view-dashboard"])}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}uniqTheObject(t,o){return[...new Map(t.map(a=>[o(a),a])).values()]}onCheckboxChange(t){return this.assetList.length&&(this.assetList.forEach(o=>o.checked=t.target.checked),1==t.target.checked?this.assetList.forEach((o,a)=>{this.checkedAssetList.push(o)}):this.checkedAssetList=this.checkedAssetList.filter(o=>!(this.assetList.filter(s=>s.id==o.id).length>0)),this.checkedAssetList=this.uniqTheObject(this.checkedAssetList,o=>o.id)),!1}checkUncheckAll(){return 0!=this.assetList.length&&this.assetList.every(t=>t.checked)}getAssetlistChecked(t,o){1==t?this.checkedAssetList.push(o):this.checkedAssetList.forEach((a,s)=>{a.id==o.id&&this.checkedAssetList.splice(s,1)})}removeCheckedAssetList(t){this.assetList.forEach((o,a)=>{o.id==t.id&&(this.assetList[a].checked=!1)}),this.checkedAssetList.forEach((o,a)=>{o.id==t.id&&this.checkedAssetList.splice(a,1)})}requestHandler(t,o,a){let s;"Approver"==a?s="Approved":"Reviewer"==a?s="Reviewed":"Reject"==a&&(s="Rejected"),1==this.storeMasterWorkflowId&&this.assetService.postUpdateReviewerApproverProcess({WfAssetCreationId:t.wfAssetCreationId,WfAssetCreationDetailId:t.wfAssetCreationDetailId,ApproverType:this.storeWorkflowObject.approverType,ActionStatus:s,AssetId:t.id,Remark:o}).subscribe(g=>{this.success(g),this.checkedAssetList=[],this.loadData()})}requestHandlerMulti(t,o){let a;"Approver"==o?a="Approved":"Reviewer"==o?a="Reviewed":"Reject"==o&&(a="Rejected");let s=[];1==this.storeMasterWorkflowId&&(this.checkedAssetList.forEach(g=>{s.push({WfAssetCreationId:g.wfAssetCreationId,WfAssetCreationDetailId:g.wfAssetCreationDetailId,ApproverType:this.storeWorkflowObject.approverType,ActionStatus:a,AssetId:g.id,Remark:t})}),this.assetService.postUpdateReviewerMultiApproverProcess(s).subscribe(g=>{this.success(g),this.checkedAssetList=[],this.loadData()}))}openModalSucccessWithRemark(t,o){const a=this.modalService.open(Se.A,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});a.componentInstance.title=" Do you want to "+o+" this asset",a.componentInstance.subTitle="( "+t.assetName+" ) ",a.componentInstance.subTitle1="You won't be able to revert this!",a.componentInstance.buttonName=o+" It",a.result.then(s=>{s&&"success"==s.value&&this.requestHandler(t,s.remark,o)})}openModalSucccessWithRemarkMulti(t){const o=this.modalService.open(Se.A,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title="Would you like to proceed with this action?",o.componentInstance.subTitle=" You won't be able to revert this!",o.componentInstance.subTitle1="",o.componentInstance.buttonName=t+" It",o.result.then(a=>{a&&"success"==a.value&&this.requestHandlerMulti(a.remark,t)})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.action,text:t.message,showConfirmButton:!1,timer:1e3,showCloseButton:!0})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-critical"]],viewQuery:function(o,a){if(1&o&&(e.Gf(M,7),e.Gf(de,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},inputs:{selectedCompanyId:"selectedCompanyId"},features:[e.TTD],decls:43,vars:17,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","assetStatus","placeholder","Select Asset Status","for","assetStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn","btn-primary",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary"],[1,"title",3,"title","id","click"],[4,"ngIf"],[1,"d-flex","mb-0"],["class","ri-user-2-fill text-success me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-building-2-fill text-primary me-1",3,"ngbTooltip",4,"ngIf"],[1,"ri-printer-line","me-1",3,"ngbTooltip"],["class","ri-thumb-up-line text-primary me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-thumb-up-line text-danger me-1",3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[1,"title","align-top",3,"title","id","click"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"ri-user-2-fill","text-success","me-1",3,"ngbTooltip"],[1,"ri-building-2-fill","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-danger","me-1",3,"ngbTooltip"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"modal-content"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7," Fundamental Asset List"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"input",9,10),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(12,"i",11),e.qZA()()()(),e.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"ng-select",15),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(17,"div",14)(18,"ng-select",16),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(19,"div",14)(20,"ng-select",17),e.NdJ("change",function(g){return a.onDropdownAssetStatusValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownAssetStatusIdValue=g}),e.qZA()(),e.TgZ(21,"div",18)(22,"div",19)(23,"button",20),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(40);return e.KtG(a.openFilter(g))}),e._UZ(24,"i",21),e._uU(25," Filters "),e.qZA(),e.TgZ(26,"button",22),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(27,"i",23),e._uU(28," Clear "),e.qZA()()()()(),e.TgZ(29,"div",24)(30,"div")(31,"ul",25,26)(33,"li",27),e.YNc(34,Oe,28,7,"ng-template",28),e.qZA()(),e.TgZ(35,"div",29),e._UZ(36,"div",30),e.qZA()()()()()(),e.YNc(37,Me,8,1,"ng-template",null,31,e.W1O)(39,Qe,24,13,"ng-template",null,32,e.W1O)(41,S,17,0,"ng-template",null,33,e.W1O)}if(2&o){const s=e.MAs(32);e.xp6(10),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",a.selectedDropDownAssetStatusIdValue),e.xp6(3),e.Tol(a.selectedDropDownLocationIdValue||a.selectedDropDownSubCategoryIdValue||a.selectedDropDownCategoryIdValue||a.selectedDropDownCategoryIdValue?"btn-success":"btn-primary"),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9],styles:["@media only screen and (max-width: 600px){.w-50[_ngcontent-%COMP%]{width:100%!important}.modal-content[_ngcontent-%COMP%], .modal-dialog-centered[_ngcontent-%COMP%]{width:70%!important}}"]})}}return n})();function T(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Internal Discussion Data "),e.qZA()(),e.BQk())}function L(n,r){1&n&&e._UZ(0,"i",29)}function x(n,r){1&n&&e._UZ(0,"i",30)}function ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"div",17),e._UZ(3,"img",18),e.TgZ(4,"div")(5,"h5",19),e._uU(6),e.qZA(),e.TgZ(7,"p",20),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"h5",21)(12,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s))}),e._uU(13),e.qZA()(),e.TgZ(14,"div",23)(15,"p",24),e.YNc(16,L,1,0,"i",25)(17,x,1,0,"i",26),e._uU(18),e.qZA()()()(),e.TgZ(19,"td",7)(20,"div")(21,"h5",27)(22,"span"),e._uU(23),e.qZA()(),e.TgZ(24,"div",28)(25,"p",24),e._uU(26),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.Q6J("title",t.msgByName),e.xp6(1),e.hij(" ",t.accessGroup," "),e.xp6(1),e.Q6J("title",t.accessGroup),e.xp6(1),e.hij("",t.msgByName," "),e.xp6(3),e.Q6J("title",t.messageContain),e.xp6(2),e.Oqu(t.ticketNo),e.xp6(3),e.Q6J("ngIf","true"==t.isRead),e.xp6(1),e.Q6J("ngIf","false"==t.isRead),e.xp6(1),e.hij(" ",t.messageContain?o.removetheWordTicketTitle(t.messageContain):""," "),e.xp6(4),e.Tol(o.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(3),e.hij(" ",t.createDateTime," ")}}function ae(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ne,27,15,"tr",15),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function Je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",31),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}let je=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.router=t,this.ticketService=o,this.authService=a,this.formBuilder=s,this.commonFunctionService=l,this.helpDeskService=g,this.menuService=G,this.signalRService=W,this.changeDetectorRef=ee,this.zone=te,this.isProject=!1,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchTicketStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null,SearchRequesterName:null,SearchRequesterEmail:null,SearchCreatedDate:null,SearchOperationType:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.totalCountTicketOnly={countTotalTicket:0,countNewTicket:0,countInProgressTicket:0,countResolvedTicket:0,countClosedTicket:0,countOnHoldTicket:0},this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.loadData(),this.initialiseSignalRFunction()}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.ticketService.getV2_TicketDiscussionDetail_Paging_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.changeDetectorRef.detectChanges(),this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.helpDeskService.createV2_TicketDiscussionAudit({DiscussionId:t.discussionId}).subscribe(a=>{this.ticketService.sendTicketId=t.ticketId,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="Message Internal Chat Helpdesk Ticket Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])})}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.selectedTicketTagId=null,this.selectedRequesterName=null,this.selectedRequesterEmail=null,this.selectedIssueDescription=null,this.selectedCreatedDate=null,this.selectedOperationType=null,this.typeTicketNameValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchTicketStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null,SearchRequesterName:null,SearchRequesterEmail:null,SearchCreatedDate:null,SearchOperationType:null},this.page=1,this.loadData()}expandTitle(t){document.getElementById(t)}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.action,text:t.message,showConfirmButton:!1,timer:1e3,showCloseButton:!0})}removetheWord(t){return t.length>=14?t.slice(0,14)+"...":t}removetheWordTicketTitle(t){return t.length>=115?t.slice(0,115)+"...":t}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngOnChanges(t){this.initialiseSignalRFunction(),this.loadData()}initialiseSignalRFunction(){this.hubConnection=this.signalRService.getSignLrConnection(),this.hubConnection.on("V2_TicketingProcess",t=>{"Internal Post Message"===t.action&&this.zone.run(()=>{this.loadData()})})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0),e.Y36(z.w),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(C.S),e.Y36(he.l),e.Y36(pe.M),e.Y36(e.sBO),e.Y36(e.R0b))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-help-part-chart-dashboard"]],features:[e.TTD],decls:24,vars:6,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[1,"text-end"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","3",1,"text-center"],[4,"ngFor","ngForOf"],[1,"width-30"],[1,"d-flex"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0",3,"title"],[1,"fs-12","mb-0","text-muted",3,"title"],[1,"fs-13","mb-0","padding-bottom-5",3,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary","mb-0","me-2",3,"click"],[1,"d-flex","justify-content-between"],[1,"fs-12","mb-0","text-muted","align-bottom"],["class","bx bx-check-double text-success align-bottom fs-16",4,"ngIf"],["class","ri-check-line align-bottom ",4,"ngIf"],[1,"fs-13","mb-0","padding-bottom-5"],[1,"d-flex","justify-content-end"],[1,"bx","bx-check-double","text-success","align-bottom","fs-16"],[1,"ri-check-line","align-bottom"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead")(7,"tr",6)(8,"th"),e._uU(9,"Post"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Message"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Ticket Status"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,T,4,0,"ng-container",8)(16,ae,2,1,"ng-container",8),e.qZA()()(),e.TgZ(17,"div",9)(18,"div",10)(19,"div",11),e._uU(20),e.qZA()(),e.TgZ(21,"div",10)(22,"div",12),e.YNc(23,Je,1,5,"ngb-pagination",13),e.qZA()()()()()()()),2&o&&(e.xp6(15),e.Q6J("ngIf",0==a.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=a.ticketList.length),e.xp6(4),e.lnq(" Showing ",a.from," to ",a.to," of ",a.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",a.totalRecordsFromApi>a.pageSize))},dependencies:[i.sg,i.O5,_.N9],styles:[".width-30[_ngcontent-%COMP%]{width:25%!important}.padding-bottom-5[_ngcontent-%COMP%]{padding-bottom:3px}"]})}}return n})();function Pe(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Internal Discussion Data "),e.qZA()(),e.BQk())}function Fe(n,r){1&n&&e._UZ(0,"i",29)}function Ee(n,r){1&n&&e._UZ(0,"i",30)}function Be(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"div",17),e._UZ(3,"img",18),e.TgZ(4,"div")(5,"h5",19),e._uU(6),e.qZA(),e.TgZ(7,"p",20),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"h5",21)(12,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s))}),e._uU(13),e.qZA()(),e.TgZ(14,"div",23)(15,"p",24),e.YNc(16,Fe,1,0,"i",25)(17,Ee,1,0,"i",26),e._uU(18),e.qZA()()()(),e.TgZ(19,"td",7)(20,"div")(21,"h5",27)(22,"span"),e._uU(23),e.qZA()(),e.TgZ(24,"div",28)(25,"p",24),e._uU(26),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.Q6J("title",t.msgByName),e.xp6(1),e.hij(" ",t.accessGroup," "),e.xp6(1),e.Q6J("title",t.accessGroup),e.xp6(1),e.hij("",t.msgByName," "),e.xp6(3),e.Q6J("title",t.messageContain),e.xp6(2),e.Oqu(t.ticketNo),e.xp6(3),e.Q6J("ngIf","true"==t.isRead),e.xp6(1),e.Q6J("ngIf","false"==t.isRead),e.xp6(1),e.hij(" ",t.messageContain?o.removetheWordTicketTitle(t.messageContain):""," "),e.xp6(4),e.Tol(o.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(3),e.hij(" ",t.createDateTime," ")}}function Ge(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Be,27,15,"tr",15),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function Ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",31),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}let k=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.router=t,this.ticketService=o,this.authService=a,this.formBuilder=s,this.commonFunctionService=l,this.helpDeskService=g,this.menuService=G,this.signalRService=W,this.changeDetectorRef=ee,this.zone=te,this.isProject=!1,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchTicketStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null,SearchRequesterName:null,SearchRequesterEmail:null,SearchCreatedDate:null,SearchOperationType:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.totalCountTicketOnly={countTotalTicket:0,countNewTicket:0,countInProgressTicket:0,countResolvedTicket:0,countClosedTicket:0,countOnHoldTicket:0},this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnChanges(t){this.initialiseSignalRFunction(),this.loadData()}ngOnInit(){this.initialiseSignalRFunction(),this.loadData()}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.ticketService.getV2_TicketDiscussionGlobalDetail_Paging_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.changeDetectorRef.detectChanges(),this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.helpDeskService.createV2_TicketDiscussionGlobalAudit({DiscussionId:t.discussionId}).subscribe(a=>{this.ticketService.sendTicketId=t.ticketId,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="Message Global Chat Helpdesk Ticket Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])})}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.selectedTicketTagId=null,this.selectedRequesterName=null,this.selectedRequesterEmail=null,this.selectedIssueDescription=null,this.selectedCreatedDate=null,this.selectedOperationType=null,this.typeTicketNameValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchTicketStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null,SearchRequesterName:null,SearchRequesterEmail:null,SearchCreatedDate:null,SearchOperationType:null},this.page=1,this.loadData()}expandTitle(t){document.getElementById(t)}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.action,text:t.message,showConfirmButton:!1,timer:1e3,showCloseButton:!0})}removetheWord(t){return t.length>=14?t.slice(0,14)+"...":t}removetheWordTicketTitle(t){return t.length>=115?t.slice(0,115)+"...":t}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}initialiseSignalRFunction(){this.hubConnection=this.signalRService.getSignLrConnection(),this.hubConnection.on("V2_TicketingProcess",t=>{"Global Post Message"===t.action&&this.zone.run(()=>{this.loadData()})})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0),e.Y36(z.w),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(C.S),e.Y36(he.l),e.Y36(pe.M),e.Y36(e.sBO),e.Y36(e.R0b))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-help-desk-internal-disscussion"]],features:[e.TTD],decls:24,vars:6,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[1,"text-end","width-30"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","3",1,"text-center"],[4,"ngFor","ngForOf"],[1,"width-30"],[1,"d-flex"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0",3,"title"],[1,"fs-12","mb-0","text-muted",3,"title"],[1,"fs-13","mb-0","padding-bottom-5",3,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary","mb-0","me-2",3,"click"],[1,"d-flex","justify-content-between"],[1,"fs-12","mb-0","text-muted","align-bottom"],["class","bx bx-check-double text-success align-bottom fs-16",4,"ngIf"],["class","ri-check-line align-bottom ",4,"ngIf"],[1,"fs-13","mb-0","padding-bottom-5"],[1,"d-flex","justify-content-end"],[1,"bx","bx-check-double","text-success","align-bottom","fs-16"],[1,"ri-check-line","align-bottom"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"table",5)(6,"thead")(7,"tr",6)(8,"th"),e._uU(9,"Post"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Message"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Ticket Status"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,Pe,4,0,"ng-container",8)(16,Ge,2,1,"ng-container",8),e.qZA()()(),e.TgZ(17,"div",9)(18,"div",10)(19,"div",11),e._uU(20),e.qZA()(),e.TgZ(21,"div",10)(22,"div",12),e.YNc(23,Ye,1,5,"ngb-pagination",13),e.qZA()()()()()()()),2&o&&(e.xp6(15),e.Q6J("ngIf",0==a.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=a.ticketList.length),e.xp6(4),e.lnq(" Showing ",a.from," to ",a.to," of ",a.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",a.totalRecordsFromApi>a.pageSize))},dependencies:[i.sg,i.O5,_.N9],styles:[".width-30[_ngcontent-%COMP%]{width:25%!important}.padding-bottom-5[_ngcontent-%COMP%]{padding-bottom:3px}"]})}}return n})();function H(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function u(n,r){1&n&&e._UZ(0,"i",23)}function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,u,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA()(),e.TgZ(9,"td",20),e._uU(10),e.TgZ(11,"p",19),e._uU(12),e.qZA(),e.TgZ(13,"p",19),e._uU(14),e.qZA()(),e.TgZ(15,"td",21)(16,"div")(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"p",19),e._uU(20),e.qZA(),e.TgZ(21,"p",22),e._uU(22),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," "),e.xp6(1),e.Q6J("title",t.remark)("id","remark"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.remark," ")}}function A(n,r){if(1&n&&(e.ynx(0),e.YNc(1,w,23,26,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueNewTicket)}}function O(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,H,4,0,"ng-container",13)(12,A,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueNewTicket.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueNewTicket.length)}}let Ce=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due New Ticket Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-new-ticket"]],inputs:{listOverDueNewTicket:"listOverDueNewTicket"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"title",3,"title","id"],[1,"width-35"],[1,"fotTitle","text-danger",3,"title","id"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,O,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Re(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function He(n,r){1&n&&e._UZ(0,"i",27)}function We(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,He,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA(),e.TgZ(9,"p",20)(10,"span"),e._uU(11),e.qZA()()(),e.TgZ(12,"td",21),e._uU(13),e.TgZ(14,"p",19),e._uU(15),e.qZA(),e.TgZ(16,"p",19),e._uU(17),e.qZA()(),e.TgZ(18,"td",22)(19,"div",23)(20,"div",24),e._UZ(21,"img",25),e.TgZ(22,"div")(23,"h5",26),e._uU(24),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.qZA()()(),e.TgZ(27,"div")(28,"span"),e._uU(29),e.qZA(),e.TgZ(30,"p",19),e._uU(31),e.qZA(),e.TgZ(32,"p",19),e._uU(33),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(4),e.hYB("src","",a.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.Q6J("title",t.fullName),e.xp6(1),e.hij(" ",a.removetheWordName(t.fullName)," "),e.xp6(1),e.Q6J("title",t.approverType)("id","approverType"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.approverType," "),e.xp6(2),e.Tol(a.returnWorkFlowStatusBadgeClasses(t.wfDetailStatusId)),e.xp6(1),e.Oqu(t.assetWorkFlowStatus),e.xp6(1),e.Q6J("title",t.startDateTime)("id","startDateTime"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.startDateTime," "),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," ")}}function dt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,We,34,36,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueBillingEligible)}}function pt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Re,4,0,"ng-container",13)(12,dt,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueBillingEligible.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueBillingEligible.length)}}let _t=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.imageUrl=c.N.apiUrl,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due Billing Eligible Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}removetheWordName(t){return t.length>=30?t.slice(0,30)+"...":t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-billing-eligible"]],inputs:{listOverDueBillingEligible:"listOverDueBillingEligible"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"fs-14","mb-0"],[1,"title",3,"title","id"],[1,"width-35"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-start"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0",3,"title"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,pt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function ut(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function gt(n,r){1&n&&e._UZ(0,"i",27)}function mt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,gt,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA(),e.TgZ(9,"p",20)(10,"span"),e._uU(11),e.qZA()()(),e.TgZ(12,"td",21),e._uU(13),e.TgZ(14,"p",19),e._uU(15),e.qZA(),e.TgZ(16,"p",19),e._uU(17),e.qZA()(),e.TgZ(18,"td",22)(19,"div",23)(20,"div",24),e._UZ(21,"img",25),e.TgZ(22,"div")(23,"h5",26),e._uU(24),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.qZA()()(),e.TgZ(27,"div")(28,"span"),e._uU(29),e.qZA(),e.TgZ(30,"p",19),e._uU(31),e.qZA(),e.TgZ(32,"p",19),e._uU(33),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(4),e.hYB("src","",a.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.Q6J("title",t.fullName),e.xp6(1),e.hij(" ",a.removetheWordName(t.fullName)," "),e.xp6(1),e.Q6J("title",t.approverType)("id","approverType"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.approverType," "),e.xp6(2),e.Tol(a.returnWorkFlowStatusBadgeClasses(t.wfDetailStatusId)),e.xp6(1),e.Oqu(t.assetWorkFlowStatus),e.xp6(1),e.Q6J("title",t.startDateTime)("id","startDateTime"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.startDateTime," "),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," ")}}function ht(n,r){if(1&n&&(e.ynx(0),e.YNc(1,mt,34,36,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueInternalQuotation)}}function bt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,ut,4,0,"ng-container",13)(12,ht,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueInternalQuotation.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueInternalQuotation.length)}}let ft=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.imageUrl=c.N.apiUrl,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due Internal Quotation Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}removetheWordName(t){return t.length>=30?t.slice(0,30)+"...":t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-internal-quotation"]],inputs:{listOverDueInternalQuotation:"listOverDueInternalQuotation"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"fs-14","mb-0"],[1,"title",3,"title","id"],[1,"width-35"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-start"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0",3,"title"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,bt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Tt(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function vt(n,r){1&n&&e._UZ(0,"i",27)}function Ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,vt,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA(),e.TgZ(9,"p",20)(10,"span"),e._uU(11),e.qZA()()(),e.TgZ(12,"td",21),e._uU(13),e.TgZ(14,"p",19),e._uU(15),e.qZA(),e.TgZ(16,"p",19),e._uU(17),e.qZA()(),e.TgZ(18,"td",22)(19,"div",23)(20,"div",24),e._UZ(21,"img",25),e.TgZ(22,"div")(23,"h5",26),e._uU(24),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.qZA()()(),e.TgZ(27,"div")(28,"span"),e._uU(29),e.qZA(),e.TgZ(30,"p",19),e._uU(31),e.qZA(),e.TgZ(32,"p",19),e._uU(33),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(4),e.hYB("src","",a.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(2),e.Q6J("title",t.fullName),e.xp6(1),e.hij(" ",a.removetheWordName(t.fullName)," "),e.xp6(1),e.Q6J("title",t.approverType)("id","approverType"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.approverType," "),e.xp6(2),e.Tol(a.returnWorkFlowStatusBadgeClasses(t.wfDetailStatusId)),e.xp6(1),e.Oqu(t.assetWorkFlowStatus),e.xp6(1),e.Q6J("title",t.startDateTime)("id","startDateTime"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.startDateTime," "),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," ")}}function xt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ct,34,36,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueClientQuotApproval)}}function kt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing"),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Tt,4,0,"ng-container",13)(12,xt,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueClientQuotApproval.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueClientQuotApproval.length)}}let wt=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.imageUrl=c.N.apiUrl,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due Client Quotation Approval",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}removetheWordName(t){return t.length>=30?t.slice(0,30)+"...":t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-client-quot-approval"]],inputs:{listOverDueClientQuotApproval:"listOverDueClientQuotApproval"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"fs-14","mb-0"],[1,"title",3,"title","id"],[1,"width-35"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-start"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0",3,"title"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,kt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Dt(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function At(n,r){1&n&&e._UZ(0,"i",24)}function St(n,r){if(1&n&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&n){const t=e.oxw(),o=t.$implicit,a=t.index;e.Q6J("title","Expected Completion Date :"+o.expectedComplitionDateTime)("id","expectedComplitionDateTime"+o.ticketId+"_"+a),e.xp6(1),e.hij(" ",o.expectedComplitionDateTime," ")}}function Zt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,At,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA()(),e.TgZ(9,"td",20),e._uU(10),e.TgZ(11,"p",19),e._uU(12),e.qZA(),e.TgZ(13,"p",19),e._uU(14),e.qZA()(),e.TgZ(15,"td",21)(16,"div")(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"p",19),e._uU(20),e.qZA(),e.YNc(21,St,2,3,"p",22),e.TgZ(22,"p",23),e._uU(23),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.AsE("",t.ticketNo," \xa0 |\xa0 ",t.woNo,""),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.woName)("id"," ticket.woName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.woName," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(t.woStatusId)),e.xp6(1),e.Oqu(t.woStatusName),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," "),e.xp6(1),e.Q6J("ngIf",t.expectedComplitionDateTime),e.xp6(1),e.Q6J("title",t.remark)("id","remark"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.remark," ")}}function It(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Zt,24,28,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueServiceOrder)}}function yt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"Service Order "),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Dt,4,0,"ng-container",13)(12,It,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueServiceOrder.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueServiceOrder.length)}}let qt=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due New Service Order Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-service-order"]],inputs:{listOverDueServiceOrder:"listOverDueServiceOrder"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"title",3,"title","id"],[1,"width-35"],["class","fotTitle",3,"title","id",4,"ngIf"],[1,"fotTitle","text-danger",3,"title","id"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,yt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Nt(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Lt(n,r){1&n&&e._UZ(0,"i",23)}function Ut(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,Lt,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA()(),e.TgZ(9,"td",20),e._uU(10),e.TgZ(11,"p",19),e._uU(12),e.qZA(),e.TgZ(13,"p",19),e._uU(14),e.qZA()(),e.TgZ(15,"td",21)(16,"div")(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"p",19),e._uU(20),e.qZA(),e.TgZ(21,"p",22),e._uU(22),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," "),e.xp6(1),e.Q6J("title",t.remark)("id","remark"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.remark," ")}}function Ot(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ut,23,26,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueTicketQuotRequired)}}function Mt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Nt,4,0,"ng-container",13)(12,Ot,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueTicketQuotRequired.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueTicketQuotRequired.length)}}let Vt=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due New Ticket Quotation Required Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-ticket-quot-required"]],inputs:{listOverDueTicketQuotRequired:"listOverDueTicketQuotRequired"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"title",3,"title","id"],[1,"width-35"],[1,"fotTitle","text-danger",3,"title","id"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,Mt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Qt(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Jt(n,r){1&n&&e._UZ(0,"i",23)}function Rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,Jt,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA()(),e.TgZ(9,"td",20),e._uU(10),e.TgZ(11,"p",19),e._uU(12),e.qZA(),e.TgZ(13,"p",19),e._uU(14),e.qZA()(),e.TgZ(15,"td",21)(16,"div")(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"p",19),e._uU(20),e.qZA(),e.TgZ(21,"p",22),e._uU(22),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," "),e.xp6(1),e.Q6J("title",t.remark)("id","remark"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.remark," ")}}function jt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Rt,23,26,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueTicketExternalAcknowledge)}}function Pt(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Qt,4,0,"ng-container",13)(12,jt,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueTicketExternalAcknowledge.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueTicketExternalAcknowledge.length)}}let Ft=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due New Ticket Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-ticket-external-acknowledge"]],inputs:{listOverDueTicketExternalAcknowledge:"listOverDueTicketExternalAcknowledge"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"title",3,"title","id"],[1,"width-35"],[1,"fotTitle","text-danger",3,"title","id"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,Pt,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();function Et(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",14),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Bt(n,r){1&n&&e._UZ(0,"i",23)}function Gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",16)(2,"a",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,Bt,1,0,"i",18),e.TgZ(5,"p",19),e._uU(6),e.qZA(),e.TgZ(7,"p",19),e._uU(8),e.qZA()(),e.TgZ(9,"td",20),e._uU(10),e.TgZ(11,"p",19),e._uU(12),e.qZA(),e.TgZ(13,"p",19),e._uU(14),e.qZA()(),e.TgZ(15,"td",21)(16,"div")(17,"span"),e._uU(18),e.qZA(),e.TgZ(19,"p",19),e._uU(20),e.qZA(),e.TgZ(21,"p",22),e._uU(22),e.qZA()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id"," ticket.ticketTitle"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.createdDate)("id"," ticket.createdDate"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id"," ticket.clientName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id"," ticket.projectName"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("title","Aging Value:"+t.overdueValue)("id","overdueValue"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.overdueValue," "),e.xp6(1),e.Q6J("title",t.remark)("id","remark"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.remark," ")}}function Yt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Gt,23,26,"tr",15),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listOverDueTicketInternalAcknowledge)}}function Ht(n,r){if(1&n&&(e.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr",12)(4,"th"),e._uU(5,"TICKET"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Project Detail"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Ageing "),e.qZA()()(),e.TgZ(10,"tbody"),e.YNc(11,Et,4,0,"ng-container",13)(12,Yt,2,1,"ng-container",13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngIf",0==t.listOverDueTicketInternalAcknowledge.length),e.xp6(1),e.Q6J("ngIf",0!=t.listOverDueTicketInternalAcknowledge.length)}}let Wt=(()=>{class n{constructor(t,o,a,s,l){this.ticketService=t,this.helpDeskService=o,this.router=a,this.commonFunctionService=s,this.authService=l,this.isProject=!1,this.isProject=this.authService.getisProject()}ngOnChanges(t){}viewHandler(t){this.ticketService.sendTicketId=t,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="List Over Due New Ticket Page",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(z.w),e.Y36(C.S),e.Y36(p.F0),e.Y36(U.K),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-over-due-ticket-internal-acknowledge"]],inputs:{listOverDueTicketInternalAcknowledge:"listOverDueTicketInternalAcknowledge"},features:[e.TTD],decls:11,vars:3,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"fotTitle",3,"title","id"],[1,"title",3,"title","id"],[1,"width-35"],[1,"fotTitle","text-danger",3,"title","id"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"ul",4,5)(7,"li",6),e.YNc(8,Ht,13,2,"ng-template",7),e.qZA()(),e.TgZ(9,"div",8),e._UZ(10,"div",9),e.qZA()()()()()()),2&o){const s=e.MAs(6);e.xp6(5),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Dy],styles:[".fotTitle[_ngcontent-%COMP%]{font-size:13px!important;cursor:auto;max-width:400px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}.width-35[_ngcontent-%COMP%]{width:34%}"]})}}return n})();const Kt=["streetviewMap"],zt=["streetviewPano"],$t=["myMap"];function Xt(n,r){if(1&n&&(e.TgZ(0,"div",16),e._UZ(1,"app-projects-stat",17),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("title",t.title)("value",t.value)("icon",t.icon)("month",t.month)("progressBar",t.progressBar)("subItem",t.subItem)}}function ei(n,r){1&n&&e._UZ(0,"i",18)}function ti(n,r){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.internalPostMessageValueStore)}}function ii(n,r){1&n&&e._UZ(0,"app-help-part-chart-dashboard")}function ni(n,r){if(1&n&&(e.TgZ(0,"span",26),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.globalPostMessageValueStore)}}function ai(n,r){1&n&&e._UZ(0,"app-help-desk-internal-disscussion")}function oi(n,r){if(1&n&&(e.TgZ(0,"div",19)(1,"ul",20,21)(3,"li",9)(4,"a",22),e._uU(5," Internal "),e.YNc(6,ti,2,1,"span",23),e.qZA(),e.YNc(7,ii,1,0,"ng-template",12),e.qZA(),e.TgZ(8,"li",9)(9,"a",22),e._uU(10," External "),e.YNc(11,ni,2,1,"span",23),e.qZA(),e.YNc(12,ai,1,0,"ng-template",12),e.qZA()(),e.TgZ(13,"div",24)(14,"div",25),e._UZ(15,"div",14),e.qZA()()()),2&n){const t=e.MAs(2),o=e.oxw();e.xp6(1),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngIf","0"!=o.internalPostMessageValueStore),e.xp6(2),e.Q6J("ngbNavItem",2),e.xp6(3),e.Q6J("ngIf","0"!=o.globalPostMessageValueStore),e.xp6(4),e.Q6J("ngbNavOutlet",t)}}function si(n,r){1&n&&e._UZ(0,"i",57)}function ri(n,r){1&n&&e._UZ(0,"i",58)}function li(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"Kindly generate a service order and assign the task to support team or member for resolution."),e.qZA())}function ci(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," Haven't been any new support tickets. "),e.qZA())}function di(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,si,1,0,"i",46)(8,ri,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countNewTicket,48,"New Ticket"))}),e.TgZ(10,"h5",49),e._uU(11," New Ticket Received "),e.qZA(),e.YNc(12,li,2,0,"a",50)(13,ci,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countNewTicket?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(1),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countNewTicket?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countNewTicket," ")}}function pi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,di,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countNewTicket)}}function _i(n,r){1&n&&e._UZ(0,"i",57)}function ui(n,r){1&n&&e._UZ(0,"i",58)}function gi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"Account/Project Manager has approved the tickets as billable."),e.qZA())}function mi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," No billable tickets to be generate quotation "),e.qZA())}function hi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,_i,1,0,"i",46)(8,ui,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation,53,"Awaiting Quotation"))}),e.TgZ(10,"h5",49),e._uU(11," Awaiting Quotation "),e.qZA(),e.YNc(12,gi,2,0,"a",50)(13,mi,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(1),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation," ")}}function bi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,hi,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation)}}function fi(n,r){1&n&&e._UZ(0,"i",57)}function Ti(n,r){1&n&&e._UZ(0,"i",58)}function vi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Request For New Service Order ."),e.qZA())}function Ci(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," Tickets have been approved and are Awaiting Service Order Generation. "),e.qZA())}function xi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,fi,1,0,"i",46)(8,Ti,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending,52,"Waiting For Generate New Service Order"))}),e.TgZ(10,"h5",49),e._uU(11," Waiting For Generate New Service Order "),e.qZA(),e.YNc(12,vi,2,0,"a",50)(13,Ci,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending," ")}}function ki(n,r){if(1&n&&(e.ynx(0),e.YNc(1,xi,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending)}}function wi(n,r){1&n&&e._UZ(0,"i",57)}function Di(n,r){1&n&&e._UZ(0,"i",58)}function Ai(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Si(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The service order has not yet had the expected start task date and time. "),e.qZA())}function Zi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,wi,1,0,"i",46)(8,Di,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskServiceOrderList(a.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime,2,"Assign Member & Site Visit Date Time"))}),e.TgZ(10,"h5",49),e._uU(11," Assign Member & Site Visit Date Time "),e.qZA(),e.YNc(12,Ai,2,0,"a",50)(13,Si,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime," ")}}function Ii(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Zi,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime)}}function yi(n,r){1&n&&e._UZ(0,"i",57)}function qi(n,r){1&n&&e._UZ(0,"i",58)}function Ni(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Li(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The billable tickets service order has been successfully completed.Send it to the finance department for further processing and invoice creation. "),e.qZA())}function Ui(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,yi,1,0,"i",46)(8,qi,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskWaitingForInvoice(a.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled,"Waiting for Generate Invoice"))}),e.TgZ(10,"h5",49),e._uU(11," Waiting for Generate Invoice "),e.qZA(),e.YNc(12,Ni,2,0,"a",50)(13,Li,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled," ")}}function Oi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ui,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled)}}function Mi(n,r){1&n&&e._UZ(0,"i",57)}function Vi(n,r){1&n&&e._UZ(0,"i",58)}function Qi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Ji(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the member or project manager. "),e.qZA())}function Ri(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Mi,1,0,"i",46)(8,Vi,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskSignatureList(31,a.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature,"Incident Tech Sign"))}),e.TgZ(10,"h5",49),e._uU(11," Incident Tech Signature "),e.qZA(),e.YNc(12,Qi,2,0,"a",50)(13,Ji,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature," ")}}function ji(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ri,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature)}}function Pi(n,r){1&n&&e._UZ(0,"i",57)}function Fi(n,r){1&n&&e._UZ(0,"i",58)}function Ei(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Bi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function Gi(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Pi,1,0,"i",46)(8,Fi,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskSignatureList(31,a.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature,"Incident Client Sign"))}),e.TgZ(10,"h5",49),e._uU(11," Incident Client Signature "),e.qZA(),e.YNc(12,Ei,2,0,"a",50)(13,Bi,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature," ")}}function Yi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Gi,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature)}}function Hi(n,r){1&n&&e._UZ(0,"i",57)}function Wi(n,r){1&n&&e._UZ(0,"i",58)}function Ki(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function zi(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The service order for this ticket is now complete, and the ticket is in a resolved status. Please verify the details and proceed with closing it. "),e.qZA())}function $i(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Hi,1,0,"i",46)(8,Wi,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose,31,"Waiting Client to Close Ticket"))}),e.TgZ(10,"h5",49),e._uU(11," Waiting Client to Close Ticket "),e.qZA(),e.YNc(12,Ki,2,0,"a",50)(13,zi,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose," ")}}function Xi(n,r){if(1&n&&(e.ynx(0),e.YNc(1,$i,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose)}}function en(n,r){1&n&&e._UZ(0,"i",57)}function tn(n,r){1&n&&e._UZ(0,"i",58)}function nn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function an(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The service order for this ticket is now complete, and the ticket is in a resolved status. Please verify the details and proceed with closing it. "),e.qZA())}function on(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,en,1,0,"i",46)(8,tn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal,31,"Waiting Internal Ticket to Close"))}),e.TgZ(10,"h5",49),e._uU(11," Waiting Internal Ticket to Close "),e.qZA(),e.YNc(12,nn,2,0,"a",50)(13,an,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal," ")}}function sn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,on,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal)}}function rn(n,r){1&n&&e._UZ(0,"i",57)}function ln(n,r){1&n&&e._UZ(0,"i",58)}function cn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function dn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The service order task has been completed by our team and is awaiting acknowledgment to Resolve and escalate to closing process. "),e.qZA())}function pn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,rn,1,0,"i",46)(8,ln,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest,61,"Ticket Acknowledgement for completed service order"))}),e.TgZ(10,"h5",49),e._uU(11," Ticket Acknowledgement for completed service order "),e.qZA(),e.YNc(12,cn,2,0,"a",50)(13,dn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest," ")}}function _n(n,r){if(1&n&&(e.ynx(0),e.YNc(1,pn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest)}}function un(n,r){1&n&&e._UZ(0,"i",57)}function gn(n,r){1&n&&e._UZ(0,"i",58)}function mn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function hn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," Quotation Approval task is rejected by a reviewer or approver "),e.qZA())}function bn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,un,1,0,"i",46)(8,gn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected,57,"Total Ticket Quotation Rejected"))}),e.TgZ(10,"h5",49),e._uU(11," Total Ticket Quotation Rejected "),e.qZA(),e.YNc(12,mn,2,0,"a",50)(13,hn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected," ")}}function fn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,bn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected)}}function Tn(n,r){1&n&&e._UZ(0,"i",57)}function vn(n,r){1&n&&e._UZ(0,"i",58)}function Cn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function xn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The tech team has completed the schedule. Now, you are to acknowledge this schedule, escalate it to the client for verification, and subsequently close the schedule. "),e.qZA())}function kn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Tn,1,0,"i",46)(8,vn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskScheduleListForAdmin(61,a.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser,"Schedule Completion Acknowlegement Admin"))}),e.TgZ(10,"h5",49),e._uU(11," Schedule Completion Acknowlegement Admin "),e.qZA(),e.YNc(12,Cn,2,0,"a",50)(13,xn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser," ")}}function wn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,kn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser)}}function Dn(n,r){1&n&&e._UZ(0,"i",57)}function An(n,r){1&n&&e._UZ(0,"i",58)}function Sn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Zn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function In(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Dn,1,0,"i",46)(8,An,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskScheduleListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient,"Schedule Completion Acknowlegement Client"))}),e.TgZ(10,"h5",49),e._uU(11," Schedule Completion Acknowlegement Client "),e.qZA(),e.YNc(12,Sn,2,0,"a",50)(13,Zn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient," ")}}function yn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,In,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient)}}function qn(n,r){1&n&&e._UZ(0,"i",57)}function Nn(n,r){1&n&&e._UZ(0,"i",58)}function Ln(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Un(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function On(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,qn,1,0,"i",46)(8,Nn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskAuditListForAdmin(61,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin,"Audit Completion Acknowledgement  Admin"))}),e.TgZ(10,"h5",49),e._uU(11," Audit Completion Acknowledgement Admin "),e.qZA(),e.YNc(12,Ln,2,0,"a",50)(13,Un,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin," ")}}function Mn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,On,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin)}}function Vn(n,r){1&n&&e._UZ(0,"i",57)}function Qn(n,r){1&n&&e._UZ(0,"i",58)}function Jn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Rn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function jn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Vn,1,0,"i",46)(8,Qn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskAuditListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient,"Audit Completion Acknowledgement  Client"))}),e.TgZ(10,"h5",49),e._uU(11," Audit Completion Acknowledgement Client "),e.qZA(),e.YNc(12,Jn,2,0,"a",50)(13,Rn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient," ")}}function Pn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,jn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient)}}function Fn(n,r){1&n&&e._UZ(0,"i",57)}function En(n,r){1&n&&e._UZ(0,"i",58)}function Bn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Gn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function Yn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Fn,1,0,"i",46)(8,En,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskAuditListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient,"Audit Completion Acknowledgement  Client"))}),e.TgZ(10,"h5",49),e._uU(11," Audit Completion Acknowledgement Client "),e.qZA(),e.YNc(12,Bn,2,0,"a",50)(13,Gn,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient," ")}}function Hn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Yn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient)}}function Wn(n,r){1&n&&e._UZ(0,"i",57)}function Kn(n,r){1&n&&e._UZ(0,"i",58)}function zn(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function $n(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the ticket Verification For Acknowledge "),e.qZA())}function Xn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",40),e.TgZ(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h5",45),e.YNc(7,Wn,1,0,"i",46)(8,Kn,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess,72,"Ticket Verification For Acknowledge Process"))}),e.TgZ(10,"h5",49),e._uU(11," Ticket Verification For Acknowledge Process "),e.qZA(),e.YNc(12,zn,2,0,"a",50)(13,$n,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess," ")}}function ea(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Xn,21,7,"ng-container",31),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess)}}function ta(n,r){if(1&n&&(e.TgZ(0,"div",38)(1,"h5",39),e._uU(2,"My Task"),e.qZA(),e.YNc(3,pi,2,1,"ng-container",31)(4,bi,2,1,"ng-container",31)(5,ki,2,1,"ng-container",31)(6,Ii,2,1,"ng-container",31)(7,Oi,2,1,"ng-container",31)(8,ji,2,1,"ng-container",31)(9,Yi,2,1,"ng-container",31)(10,Xi,2,1,"ng-container",31)(11,sn,2,1,"ng-container",31)(12,_n,2,1,"ng-container",31)(13,fn,2,1,"ng-container",31)(14,wn,2,1,"ng-container",31)(15,yn,2,1,"ng-container",31)(16,Mn,2,1,"ng-container",31)(17,Pn,2,1,"ng-container",31)(18,Hn,2,1,"ng-container",31)(19,ea,2,1,"ng-container",31),e.qZA()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.newTicket),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.awaitQuotation),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.generateNewSO),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.expectedStartTaskDateTime),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.quotationToProceedFinance),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.techSignatureRequired),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.clientSignatureRequired),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pendingForCloseTicketProcess),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pendingForCloseTicketProcessInternal),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.ticketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.quotationRejected),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pmScheduleCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pmScheduleCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.ticketVerificationForAcknowledgeProcess)}}function ia(n,r){1&n&&(e.TgZ(0,"li",9)(1,"a",22),e._UZ(2,"i",37),e._uU(3,"My Task "),e.qZA(),e.YNc(4,ta,20,17,"ng-template",12),e.qZA()),2&n&&e.Q6J("ngbNavItem",1)}function na(n,r){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.totalCountMaintenanceWorkflowTodoList.length)}}function aa(n,r){1&n&&e._UZ(0,"i",57)}function oa(n,r){1&n&&e._UZ(0,"i",58)}function sa(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",41)(2,"div",42)(3,"div",43)(4,"div",44)(5,"h5",45),e.YNc(6,aa,1,0,"i",46)(7,oa,1,0,"i",47),e.qZA()()()(),e.TgZ(8,"div",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.navigateMyWorkflowPageList(s))}),e.TgZ(9,"h5",49),e._uU(10),e.qZA(),e.TgZ(11,"a",59),e._uU(12),e.qZA()(),e.TgZ(13,"div",51)(14,"div",52)(15,"div",53)(16,"a",54)(17,"div",55)(18,"span",56),e._uU(19),e.qZA()()()()()()(),e._UZ(20,"hr",40),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("ngClass",0==t.apprvalReviewItemCount?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.apprvalReviewItemCount),e.xp6(1),e.Q6J("ngIf",0!=t.apprvalReviewItemCount),e.xp6(3),e.hij(" ",t.workflowName," "),e.xp6(2),e.hij(" Waiting For ",t.approverType," "),e.xp6(6),e.Q6J("ngClass",t.apprvalReviewItemCount?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.apprvalReviewItemCount," ")}}function ra(n,r){if(1&n&&(e.TgZ(0,"div",38)(1,"h5",39),e._uU(2,"WorkFlow"),e.qZA(),e._UZ(3,"hr",40),e.YNc(4,sa,21,7,"ng-container",36),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.totalCountMaintenanceWorkflowTodoList)}}function la(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"li",9)(2,"a",22),e._UZ(3,"i",60),e._uU(4,"WorkFlow "),e.YNc(5,na,2,1,"span",61),e.qZA(),e.YNc(6,ra,5,1,"ng-template",12),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountMaintenanceWorkflowTodoList.length)}}function ca(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",66)(2,"div",67)(3,"span",68),e._uU(4),e.ALo(5,"date"),e.qZA()(),e.TgZ(6,"div",69)(7,"h6",70),e._uU(8),e.qZA(),e.TgZ(9,"p",71),e._uU(10),e.qZA(),e.TgZ(11,"p",71),e._uU(12),e.qZA(),e.TgZ(13,"p",71),e._uU(14),e.qZA()(),e.TgZ(15,"div",72)(16,"span"),e._uU(17),e.qZA(),e.TgZ(18,"p",71),e._uU(19),e.ALo(20,"date"),e.qZA()()(),e.BQk()),2&n){const t=r.$implicit,o=e.oxw(4);e.xp6(4),e.hij(" ",e.xi3(5,9,t.scheduleDate,"dd")," "),e.xp6(4),e.hij(" ",t.configPreventivePDescription," "),e.xp6(2),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.clientName," "),e.xp6(2),e.hij(" ",t.projectName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.scheduleStatusId)),e.xp6(1),e.Oqu(t.scheduleStatusName),e.xp6(2),e.hij(" ",e.xi3(20,12,t.scheduleDate,"h:mm a")," ")}}function da(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ca,21,15,"ng-container",36),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.scheduleList_ByDateList)}}function pa(n,r){1&n&&(e.ynx(0),e.TgZ(1,"p",73),e._uU(2,"No Schedule found"),e.qZA(),e.BQk())}function _a(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"h6"),e._uU(1,"Service Order Calendar"),e.qZA(),e.TgZ(2,"div",63)(3,"input",64),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.currentDate=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getV2_MX_PM_ScheduleList_ByDate(a.currentDate))}),e.qZA()(),e.TgZ(4,"h6",65),e._uU(5," EXPECTED START TASK: "),e.qZA(),e.YNc(6,da,2,1,"ng-container",31)(7,pa,3,0,"ng-container",31)}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("altInput",!0)("convertModelValue",!0)("inline",!0)("ngModel",t.currentDate),e.xp6(3),e.Q6J("ngIf",0!=t.scheduleList_ByDateList.length),e.xp6(1),e.Q6J("ngIf",0==t.scheduleList_ByDateList.length)}}function ua(n,r){if(1&n&&(e.TgZ(0,"div")(1,"h6",73),e._uU(2),e.qZA(),e.TgZ(3,"div",74)(4,"p",71)(5,"span",75),e._uU(6),e.qZA(),e._uU(7," Billable "),e.qZA(),e.TgZ(8,"p",71)(9,"span",76),e._uU(10),e.qZA(),e._uU(11," Non Billable "),e.qZA(),e.TgZ(12,"p",71)(13,"span",75),e._uU(14),e.qZA(),e._uU(15," Waiting "),e.qZA()(),e._UZ(16,"hr",77),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.projectName),e.xp6(4),e.Oqu(t.isBillingRequired_1_Count),e.xp6(4),e.Oqu(t.isBillingRequired_0_Count),e.xp6(4),e.Oqu(t.isBillingRequired_Null_Count)}}function ga(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",27)(2,"div",19)(3,"ul",28,29),e.YNc(5,ia,5,1,"li",30)(6,la,7,2,"ng-container",31),e.TgZ(7,"li",9)(8,"a",22),e._UZ(9,"i",32),e._uU(10," Schedule "),e.qZA(),e.YNc(11,_a,8,6,"ng-template",12),e.qZA()(),e.TgZ(12,"div",24)(13,"div",25),e._UZ(14,"div",14),e.qZA()()()(),e.TgZ(15,"div",33)(16,"div",19)(17,"div",34)(18,"h5",35),e._uU(19," Projects By Ticket (Billing) "),e.qZA()(),e.TgZ(20,"div",24),e.YNc(21,ua,17,4,"div",36),e.qZA()()()()),2&n){const t=e.MAs(4),o=e.oxw();e.xp6(3),e.Q6J("activeId",o.checktheRuleOfTrueValue?1:3),e.xp6(2),e.Q6J("ngIf",o.checktheRuleOfTrueValue),e.xp6(1),e.Q6J("ngIf",0!=o.totalCountMaintenanceWorkflowTodoList.length),e.xp6(1),e.Q6J("ngbNavItem",3),e.xp6(7),e.Q6J("ngbNavOutlet",t),e.xp6(7),e.Q6J("ngForOf",o.projectList)}}function ma(n,r){if(1&n&&(e.TgZ(0,"span",106),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function ha(n,r){if(1&n&&(e.TgZ(0,"span",107),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function ba(n,r){if(1&n&&(e.TgZ(0,"span",108),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function fa(n,r){if(1&n&&(e.TgZ(0,"span",109),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function Ta(n,r){if(1&n&&(e.TgZ(0,"span",110),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function va(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",92),e._UZ(2,"img",93),e.TgZ(3,"div")(4,"h5",94),e._uU(5),e.qZA(),e.TgZ(6,"p",95),e._uU(7),e.qZA(),e.TgZ(8,"p",96),e.YNc(9,ma,2,1,"span",97)(10,ha,2,1,"span",98)(11,ba,2,1,"span",99)(12,fa,2,1,"span",100)(13,Ta,2,1,"span",101),e.qZA()()(),e.TgZ(14,"div",102)(15,"span",103),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",103),e._uU(19),e.qZA(),e._UZ(20,"br"),e.qZA(),e.TgZ(21,"div",104)(22,"i",105),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.viewMaps(s))}),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw(4);e.xp6(2),e.Q6J("src",o.imgUrl+t.profileImageUrl,e.LSH),e.xp6(3),e.hij(" ",t.techName," "),e.xp6(2),e.hij(" ",t.designationName," "),e.xp6(2),e.Q6J("ngIf","Corrective"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"!==t.taskType&&"Corrective"!==t.taskType),e.xp6(1),e.Q6J("ngIf","Check-In"===t.transactionType),e.xp6(1),e.Q6J("ngIf","Check-Out"===t.transactionType),e.xp6(3),e.hij(" Start - ",t.startDateTime," "),e.xp6(3),e.hij(" End - ",t.endDateTime||"NA"," ")}}function Ca(n,r){if(1&n&&(e.ynx(0),e.YNc(1,va,23,10,"div",90),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.technitionsAttendanceTransactionList)}}function xa(n,r){1&n&&(e.ynx(0),e.TgZ(1,"div",111)(2,"div"),e._UZ(3,"lord-icon",112),e.qZA(),e.TgZ(4,"div",113)(5,"h5"),e._uU(6,"Sorry! No Attendance Transaction"),e.qZA()()(),e.BQk())}function ka(n,r){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,Ca,2,1,"ng-container",31)(2,xa,7,0,"ng-container",31),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=t.technitionsAttendanceTransactionList.length),e.xp6(1),e.Q6J("ngIf",0==t.technitionsAttendanceTransactionList.length)}}function wa(n,r){if(1&n&&(e.TgZ(0,"span",106),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function Da(n,r){if(1&n&&(e.TgZ(0,"span",107),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function Aa(n,r){if(1&n&&(e.TgZ(0,"span",108),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function Sa(n,r){if(1&n&&(e.TgZ(0,"span",109),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function Za(n,r){if(1&n&&(e.TgZ(0,"span",110),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function Ia(n,r){if(1&n&&(e.TgZ(0,"span",117),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function ya(n,r){if(1&n&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function qa(n,r){if(1&n&&(e.TgZ(0,"span",119),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function Na(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",91)(1,"div",92),e._UZ(2,"img",93),e.TgZ(3,"div")(4,"h5",94),e._uU(5),e.qZA(),e.TgZ(6,"p",95),e._uU(7),e.qZA(),e.TgZ(8,"p",96),e.YNc(9,wa,2,1,"span",97)(10,Da,2,1,"span",98)(11,Aa,2,1,"span",99)(12,Sa,2,1,"span",100)(13,Za,2,1,"span",101)(14,Ia,2,1,"span",114)(15,ya,2,1,"span",115)(16,qa,2,1,"span",116),e.qZA()()(),e.TgZ(17,"div",102)(18,"span",103),e._uU(19),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"span",103),e._uU(22),e.qZA(),e._UZ(23,"br"),e.qZA(),e.TgZ(24,"div",104)(25,"i",105),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.viewMaps(s))}),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw(4);e.xp6(2),e.Q6J("src",o.imgUrl+t.profileImageUrl,e.LSH),e.xp6(3),e.hij(" ",t.techName," "),e.xp6(2),e.hij(" ",t.designationName," "),e.xp6(2),e.Q6J("ngIf","Corrective"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"!==t.taskType&&"Corrective"!==t.taskType),e.xp6(1),e.Q6J("ngIf","Check-In"===t.transactionType),e.xp6(1),e.Q6J("ngIf","Check-Out"===t.transactionType),e.xp6(1),e.Q6J("ngIf","On-Site"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t?null:t.supportType)),e.xp6(3),e.hij(" Start - ",t.startDateTime," "),e.xp6(3),e.hij(" End - ",t.endDateTime||"NA"," ")}}function La(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Na,26,13,"div",90),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.technitionsAttendanceTransactionListDaily)}}function Ua(n,r){1&n&&(e.ynx(0),e.TgZ(1,"div",111)(2,"div"),e._UZ(3,"lord-icon",112),e.qZA(),e.TgZ(4,"div",113)(5,"h5"),e._uU(6,"Sorry! No Attendance Transaction"),e.qZA()()(),e.BQk())}function Oa(n,r){if(1&n&&(e.TgZ(0,"div",86),e.YNc(1,La,2,1,"ng-container",31)(2,Ua,7,0,"ng-container",31),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=t.technitionsAttendanceTransactionListDaily.length),e.xp6(1),e.Q6J("ngIf",0==t.technitionsAttendanceTransactionListDaily.length)}}function Ma(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ( ",null==t.storeMapData?null:t.storeMapData.techName,")")}}function Va(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1," | "),e._UZ(2,"img",120),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE(" Check-In ( ",null==t.storeMapData?null:t.storeMapData.startLongitude," : ",null==t.storeMapData?null:t.storeMapData.startLatitude,")")}}function Qa(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1," | "),e._UZ(2,"img",121),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE(" Check-Out ( ",null==t.storeMapData?null:t.storeMapData.endLongitude," : ",null==t.storeMapData?null:t.storeMapData.endLatitude,")")}}function Ja(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-marker",122,123),e.NdJ("mapClick",function(){e.CHM(t);const a=e.MAs(1),s=e.oxw(2);return e.KtG(s.openInfoWindow_newInfo(a,"checkIn"))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("position",t.markers[0])("icon",t.getMarkerIcon())("label","Check-In")}}function Ra(n,r){if(1&n&&(e.TgZ(0,"span",117),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function ja(n,r){if(1&n&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Pa(n,r){if(1&n&&(e.TgZ(0,"span",119),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Fa(n,r){if(1&n&&(e.TgZ(0,"li",133)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Checkin Address :- ",null==t.storeMapData?null:t.storeMapData.address_Start,"")}}function Ea(n,r){if(1&n&&(e.TgZ(0,"li",133)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Checkout Address :- ",null==t.storeMapData?null:t.storeMapData.address_End,"")}}function Ba(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",138)(1,"button",139),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.viewHandleMap(a.storeMapData))}),e._uU(2," View Task "),e.qZA()()}}function Ga(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-info-window",124),e.NdJ("closeclick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.closeInfoWindow())}),e.TgZ(1,"div",125)(2,"div",126)(3,"ul",127)(4,"li")(5,"div",128)(6,"div",72),e._UZ(7,"img",129),e.qZA(),e.TgZ(8,"div",69)(9,"h6",130),e._uU(10),e.qZA(),e.TgZ(11,"p",131),e._uU(12),e.qZA(),e.TgZ(13,"p",131),e._uU(14),e.qZA(),e.TgZ(15,"p",131),e._uU(16),e.qZA(),e.TgZ(17,"p",131),e._uU(18),e.qZA(),e.TgZ(19,"p",71),e.YNc(20,Ra,2,1,"span",114)(21,ja,2,1,"span",115)(22,Pa,2,1,"span",116),e.qZA()()()(),e.TgZ(23,"li",45),e._UZ(24,"i",132),e._uU(25),e.qZA(),e.TgZ(26,"li",133),e._UZ(27,"i",134),e._uU(28),e.qZA(),e.TgZ(29,"li",133),e._UZ(30,"i",135),e._uU(31),e.qZA(),e.YNc(32,Fa,3,1,"li",136)(33,Ea,3,1,"li",136),e.qZA()(),e.YNc(34,Ba,3,0,"div",137),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.infoWindowOptions)("position",t.markers[0])("isOpen",!0),e.xp6(7),e.Q6J("src",t.imgUrl+(null==t.storeMapData?null:t.storeMapData.profileImageUrl),e.LSH),e.xp6(3),e.hij(" ",null==t.storeMapData?null:t.storeMapData.techName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.designationName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.companyName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.clientName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.projectName," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.email," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.phoneNumber," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.startDateTime," "),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_Start),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_End),e.xp6(1),e.Q6J("ngIf","Corrective"==t.storeMapData.taskType||"Preventive"==t.storeMapData.taskType||"Audit"==t.storeMapData.taskType)}}function Ya(n,r){if(1&n&&(e.TgZ(0,"span",117),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Ha(n,r){if(1&n&&(e.TgZ(0,"span",118),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Wa(n,r){if(1&n&&(e.TgZ(0,"span",119),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Ka(n,r){if(1&n&&(e.TgZ(0,"li",133)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.hij("Checkin Address :- ",null==t.storeMapData?null:t.storeMapData.address_Start,"")}}function za(n,r){if(1&n&&(e.TgZ(0,"li",133)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.hij("Checkout Address :- ",null==t.storeMapData?null:t.storeMapData.address_End,"")}}function $a(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",138)(1,"button",146),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.viewHandleMap(a.storeMapData))}),e._uU(2," View Task "),e.qZA()()}}function Xa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-info-window",142,143),e.NdJ("closeclick",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeInfoWindow())}),e.TgZ(2,"div",125)(3,"div",126)(4,"ul",127)(5,"li")(6,"div",128)(7,"div",72),e._UZ(8,"img",129),e.qZA(),e.TgZ(9,"div",69)(10,"h6",144),e._uU(11),e.qZA(),e.TgZ(12,"p",145),e._uU(13),e.qZA(),e.TgZ(14,"p",145),e._uU(15),e.qZA(),e.TgZ(16,"p",145),e._uU(17),e.qZA(),e.TgZ(18,"p",145),e._uU(19),e.qZA()()()(),e.TgZ(20,"li",45),e._UZ(21,"i",132),e._uU(22),e.qZA(),e.TgZ(23,"li",133),e._UZ(24,"i",134),e._uU(25),e.qZA(),e.TgZ(26,"li",133),e._UZ(27,"i",135),e._uU(28),e.qZA(),e.TgZ(29,"li",133),e._UZ(30,"i",135),e._uU(31),e.qZA(),e.TgZ(32,"li",133),e.YNc(33,Ya,2,1,"span",114)(34,Ha,2,1,"span",115)(35,Wa,2,1,"span",116),e.qZA(),e.YNc(36,Ka,3,1,"li",136)(37,za,3,1,"li",136),e.qZA()(),e.YNc(38,$a,3,0,"div",137),e.qZA()()}if(2&n){const t=e.oxw(3);e.Q6J("disableAutoPan",!0)("isOpen","checkOut"===t.infoWindowOpen),e.xp6(8),e.Q6J("src",t.imgUrl+(null==t.storeMapData?null:t.storeMapData.profileImageUrl),e.LSH),e.xp6(3),e.hij(" ",null==t.storeMapData?null:t.storeMapData.techName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.designationName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.companyName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.clientName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.projectName," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.email," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.phoneNumber," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.startDateTime," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.endDateTime," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_Start),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_End),e.xp6(1),e.Q6J("ngIf",t.storeMapData.taskType)}}function eo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-marker",122,140),e.NdJ("mapClick",function(){e.CHM(t);const a=e.MAs(1),s=e.oxw(2);return e.KtG(s.openInfoWindow_newInfo(a,"checkOut"))}),e.YNc(2,Xa,39,18,"map-info-window",141),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("position",t.markers[1])("icon",t.getMarkerIcon(1))("label","Check-Out"),e.xp6(2),e.Q6J("ngIf",(null==t.storeMapData?null:t.storeMapData.endLatitude)&&"checkOut"===t.infoWindowOpen)}}function to(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",78)(2,"div",79)(3,"ul",80,21),e.NdJ("activeIdChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDutyActiveId=a)}),e.TgZ(5,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(3))}),e.TgZ(6,"a",22),e._uU(7," Task Duty "),e.qZA(),e.YNc(8,ka,3,2,"ng-template",12),e.qZA(),e.TgZ(9,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(1))}),e.TgZ(10,"a",22),e._uU(11," Staff Attendance "),e.qZA(),e.YNc(12,Oa,3,2,"ng-template",12),e.qZA()(),e.TgZ(13,"div",82)(14,"div",25),e._UZ(15,"div",14),e.qZA()()()(),e.TgZ(16,"div",83)(17,"div",79)(18,"div",84)(19,"h4",85),e._uU(20," Map "),e.YNc(21,Ma,2,1,"span",31)(22,Va,4,2,"span",31)(23,Qa,4,2,"span",31),e.qZA()(),e.TgZ(24,"div",86)(25,"google-map",87),e.YNc(26,Ja,2,3,"map-marker",88)(27,Ga,35,18,"map-info-window",89)(28,eo,3,4,"map-marker",88),e.qZA()()()()()}if(2&n){const t=e.MAs(4),o=e.oxw();e.xp6(3),e.Q6J("activeId",o.onDutyActiveId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(6),e.Q6J("ngbNavOutlet",t),e.xp6(6),e.Q6J("ngIf",null==o.storeMapData?null:o.storeMapData.techName),e.xp6(1),e.Q6J("ngIf",null==o.storeMapData?null:o.storeMapData.startLongitude),e.xp6(1),e.Q6J("ngIf",null==o.storeMapData?null:o.storeMapData.endLongitude),e.xp6(2),e.Q6J("latitude",o.latitude)("longitude",o.longitude)("options",o.mapOptions),e.xp6(1),e.Q6J("ngIf",null==o.storeMapData?null:o.storeMapData.startLatitude),e.xp6(1),e.Q6J("ngIf",(null==o.storeMapData?null:o.storeMapData.techName)&&"checkIn"===o.infoWindowOpen),e.xp6(1),e.Q6J("ngIf",null==o.storeMapData?null:o.storeMapData.endLatitude)}}function io(n,r){1&n&&e._UZ(0,"i",18)}function no(n,r){if(1&n&&e._UZ(0,"app-list-over-due-new-ticket",148),2&n){const t=e.oxw(2);e.Q6J("listOverDueNewTicket",t.listOverDueNewTicket)}}function ao(n,r){if(1&n&&e._UZ(0,"app-list-over-due-billing-eligible",149),2&n){const t=e.oxw(2);e.Q6J("listOverDueBillingEligible",t.listOverDueBillingEligible)}}function oo(n,r){if(1&n&&e._UZ(0,"app-list-over-due-service-order",150),2&n){const t=e.oxw(2);e.Q6J("listOverDueServiceOrder",t.listOverDueServiceOrder)}}function so(n,r){if(1&n&&e._UZ(0,"app-list-over-due-ticket-internal-acknowledge",151),2&n){const t=e.oxw(2);e.Q6J("listOverDueTicketInternalAcknowledge",t.listOverDueTicketInternalAcknowledge)}}function ro(n,r){if(1&n&&e._UZ(0,"app-list-over-due-ticket-external-acknowledge",152),2&n){const t=e.oxw(2);e.Q6J("listOverDueTicketExternalAcknowledge",t.listOverDueTicketExternalAcknowledge)}}function lo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"ul",80,21),e.NdJ("activeIdChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onTicketAgingId=a)}),e.TgZ(3,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(4))}),e.TgZ(4,"a",22),e._uU(5," New Ticket "),e.TgZ(6,"span",147),e._uU(7),e.qZA()(),e.YNc(8,no,1,1,"ng-template",12),e.qZA(),e.TgZ(9,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(4))}),e.TgZ(10,"a",22),e._uU(11," Billing Eligible "),e.TgZ(12,"span",147),e._uU(13),e.qZA()(),e.YNc(14,ao,1,1,"ng-template",12),e.qZA(),e.TgZ(15,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(4))}),e.TgZ(16,"a",22),e._uU(17," Service Order "),e.TgZ(18,"span",147),e._uU(19),e.qZA()(),e.YNc(20,oo,1,1,"ng-template",12),e.qZA(),e.TgZ(21,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(4))}),e.TgZ(22,"a",22),e._uU(23," Internal Acknowledge "),e.TgZ(24,"span",147),e._uU(25),e.qZA()(),e.YNc(26,so,1,1,"ng-template",12),e.qZA(),e.TgZ(27,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(4))}),e.TgZ(28,"a",22),e._uU(29," Close Acknowledge "),e.TgZ(30,"span",147),e._uU(31),e.qZA()(),e.YNc(32,ro,1,1,"ng-template",12),e.qZA()(),e.TgZ(33,"div",24)(34,"div",25),e._UZ(35,"div",14),e.qZA()()()}if(2&n){const t=e.MAs(2),o=e.oxw();e.xp6(1),e.Q6J("activeId",o.onTicketAgingId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Tol(0!=o.listOverDueNewTicket.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueNewTicket.length),e.xp6(2),e.Q6J("ngbNavItem",2),e.xp6(3),e.Tol(0!=o.listOverDueBillingEligible.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueBillingEligible.length),e.xp6(2),e.Q6J("ngbNavItem",3),e.xp6(3),e.Tol(0!=o.listOverDueServiceOrder.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueServiceOrder.length),e.xp6(2),e.Q6J("ngbNavItem",4),e.xp6(3),e.Tol(0!=o.listOverDueTicketInternalAcknowledge.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueTicketInternalAcknowledge.length),e.xp6(2),e.Q6J("ngbNavItem",5),e.xp6(3),e.Tol(0!=o.listOverDueTicketExternalAcknowledge.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueTicketExternalAcknowledge.length),e.xp6(4),e.Q6J("ngbNavOutlet",t)}}function co(n,r){1&n&&e._UZ(0,"i",18)}function po(n,r){if(1&n&&e._UZ(0,"app-list-over-due-ticket-quot-required",153),2&n){const t=e.oxw(2);e.Q6J("listOverDueTicketQuotRequired",t.listOverDueTicketQuotRequired)}}function _o(n,r){if(1&n&&e._UZ(0,"app-list-over-due-internal-quotation",154),2&n){const t=e.oxw(2);e.Q6J("listOverDueInternalQuotation",t.listOverDueInternalQuotation)}}function uo(n,r){if(1&n&&e._UZ(0,"app-list-over-due-client-quot-approval",155),2&n){const t=e.oxw(2);e.Q6J("listOverDueClientQuotApproval",t.listOverDueClientQuotApproval)}}function go(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"ul",80,21),e.NdJ("activeIdChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onBillingActiveId=a)}),e.TgZ(3,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(5))}),e.TgZ(4,"a",22),e._uU(5," Quotation Required "),e.TgZ(6,"span",147),e._uU(7),e.qZA()(),e.YNc(8,po,1,1,"ng-template",12),e.qZA(),e.TgZ(9,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(5))}),e.TgZ(10,"a",22),e._uU(11," Internal Quotation verification "),e.TgZ(12,"span",147),e._uU(13),e.qZA()(),e.YNc(14,_o,1,1,"ng-template",12),e.qZA(),e.TgZ(15,"li",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkdection(5))}),e.TgZ(16,"a",22),e._uU(17," Client Quotation Approval "),e.TgZ(18,"span",147),e._uU(19),e.qZA()(),e.YNc(20,uo,1,1,"ng-template",12),e.qZA()(),e.TgZ(21,"div",24)(22,"div",25),e._UZ(23,"div",14),e.qZA()()()}if(2&n){const t=e.MAs(2),o=e.oxw();e.xp6(1),e.Q6J("activeId",o.onBillingActiveId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Tol(0!=o.listOverDueTicketQuotRequired.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueTicketQuotRequired.length),e.xp6(2),e.Q6J("ngbNavItem",2),e.xp6(3),e.Tol(0!=o.listOverDueInternalQuotation.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueInternalQuotation.length),e.xp6(2),e.Q6J("ngbNavItem",3),e.xp6(3),e.Tol(0!=o.listOverDueClientQuotApproval.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(o.listOverDueClientQuotApproval.length),e.xp6(4),e.Q6J("ngbNavOutlet",t)}}function mo(n,r){1&n&&e._UZ(0,"app-asset-critical")}function ho(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"apx-chart",168),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("series",t.supportTypeBarGraph.series)("chart",t.supportTypeBarGraph.chart)("colors",t.supportTypeBarGraph.colors)("dataLabels",t.supportTypeBarGraph.dataLabels)("plotOptions",t.supportTypeBarGraph.plotOptions)("yaxis",t.supportTypeBarGraph.yaxis)("legend",t.supportTypeBarGraph.legend)("fill",t.supportTypeBarGraph.fill)("stroke",t.supportTypeBarGraph.stroke)("tooltip",t.supportTypeBarGraph.tooltip)("xaxis",t.supportTypeBarGraph.xaxis)}}function bo(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"apx-chart",169),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("series",t.billablePieChart.series)("labels",t.billablePieChart.labels)("chart",t.billablePieChart.chart)("plotOptions",t.billablePieChart.plotOptions)("dataLabels",t.billablePieChart.dataLabels)("legend",t.billablePieChart.legend)("stroke",t.billablePieChart.stroke)("colors",t.billablePieChart.colors)}}function fo(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",156)(2,"div",19)(3,"div",34)(4,"h5",35),e._uU(5,"Support Type"),e.qZA()(),e.TgZ(6,"div",24),e.YNc(7,ho,2,11,"div",31),e.qZA()()(),e.TgZ(8,"div",156)(9,"div",19)(10,"div",34)(11,"h5",35),e._uU(12,"Billable Tickets"),e.qZA()(),e.TgZ(13,"div",157),e.YNc(14,bo,2,8,"div",31),e.TgZ(15,"div",158)(16,"div",159)(17,"div")(18,"p",71),e._uU(19),e.qZA()()(),e.TgZ(20,"div",160)(21,"p",161),e._UZ(22,"i",162),e._uU(23,"Billable "),e.qZA(),e.TgZ(24,"div")(25,"span",163),e._uU(26),e.qZA()()(),e.TgZ(27,"div",164)(28,"p",161),e._UZ(29,"i",165),e._uU(30,"Non-Billable "),e.qZA(),e.TgZ(31,"div")(32,"span",163),e._uU(33),e.qZA()()()()()()()(),e.TgZ(34,"div",3)(35,"div",156)(36,"div",19)(37,"div",34)(38,"h4",35),e._uU(39,"Weekly Report Graph"),e.qZA()(),e.TgZ(40,"div",24),e._UZ(41,"apx-chart",166),e.qZA()()(),e.TgZ(42,"div",156)(43,"div",19)(44,"div",34)(45,"h4",35),e._uU(46,"Line, Column & Area Charts"),e.qZA()(),e.TgZ(47,"div",24),e._UZ(48,"apx-chart",167),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.supportTypeBarGraph&&t.supportTypeBarGraph.series),e.xp6(7),e.Q6J("ngIf",t.billablePieChart),e.xp6(5),e.hij(" Total - ",t.billable.countTotalIsBillingRequired_0+t.billable.countTotalIsBillingRequired_1," "),e.xp6(7),e.Oqu(t.billable.countTotalIsBillingRequired_1),e.xp6(7),e.Oqu(t.billable.countTotalIsBillingRequired_0),e.xp6(8),e.Q6J("series",t.multipleYAxisChart.series)("chart",t.multipleYAxisChart.chart)("xaxis",t.multipleYAxisChart.xaxis)("markers",t.multipleYAxisChart.markers)("stroke",t.multipleYAxisChart.stroke)("yaxis",t.multipleYAxisChart.yaxis)("dataLabels",t.multipleYAxisChart.dataLabels)("title",t.multipleYAxisChart.title)("fill",t.multipleYAxisChart.fill)("tooltip",t.multipleYAxisChart.tooltip)("legend",t.multipleYAxisChart.legend)("colors",t.multipleYAxisChart.colors),e.xp6(7),e.Q6J("series",t.lineColumnAreaChart.series)("chart",t.lineColumnAreaChart.chart)("yaxis",t.lineColumnAreaChart.yaxis)("xaxis",t.lineColumnAreaChart.xaxis)("labels",t.lineColumnAreaChart.labels)("stroke",t.lineColumnAreaChart.stroke)("plotOptions",t.lineColumnAreaChart.plotOptions)("markers",t.lineColumnAreaChart.markers)("fill",t.lineColumnAreaChart.fill)("tooltip",t.lineColumnAreaChart.tooltip)("colors",t.lineColumnAreaChart.colors)}}let $e=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P,Ae,ye,Ah){this.helpDeskService=t,this.router=o,this.authAssetService=a,this.clientDashbaordService=s,this.datepipe=l,this.commonFunctionService=g,this.changeDetectorRef=G,this.platformId=W,this.mapsAPILoader=ee,this.signalRService=te,this.zone=P,this.preventiveService=Ae,this.auditService=ye,this.ticketService=Ah,this.todoList={},this.dashboadStatusCount={myRequest:0,myRequestPending:0,myRequestApprove:0,myRequestReject:0,myRequestOtherStatus:0},this.scheduleList_ByDateList=[],this.checktheRuleOfClientDashbard={userId:null,newTicket:!0,awaitQuotation:!0,generateNewSO:!0,expectedStartTaskDateTime:!0,techSignatureRequired:!0,clientSignatureRequired:!0,statusDescription:!0,quotationToProceedFinance:!0,pendingForCloseTicketProcess:!0,pendingForCloseTicketProcessInternal:!0,quotationRejected:!0,ticketAcknowledgmentRequest:!0,pmScheduleCompletionAcknowlegementAdmin:!0,pmScheduleCompletionAcknowlegementClient:!0,auditCompletionAcknowlegementAdmin:!0,auditCompletionAcknowlegementClient:!0,ticketVerificationForAcknowledgeProcess:!0},this.technitionsAttendanceTransactionList=[],this.technitionsAttendanceTransactionListDaily=[],this.imgUrl=c.N.apiUrl,this.longitude=101.693207,this.latitude=3.140853,this.markers=[],this.mapOptions={center:{lat:3.140853,lng:101.693207},zoom:5},this.zoom=8,this.checktheRuleOfTrueValue=!0,this.listOverDueNewTicket=[],this.listOverDueBillingEligible=[],this.listOverDueInternalQuotation=[],this.listOverDueClientQuotApproval=[],this.listOverDueServiceOrder=[],this.listOverDueTicketQuotRequired=[],this.listOverDueTicketExternalAcknowledge=[],this.listOverDueTicketInternalAcknowledge=[],this.infoWindowOpen="checkIn",this.activeIdTop=1,this.onDutyActiveId=1,this.onBillingActiveId=1,this.onTicketAgingId=1,this.totalCountTicketServiceOrderIncident={countTotalTicket:0,countTotalSO:0,countTotalIncident:0,countNewTicket:0,countPendingTicket:0,countInProgressTicket:0,countResolvedTicket:0,countClosedTicket:0,countOnHoldTicket:0,countPendingSO:0,countInProgressSO:0,countCompletedSO:0,countOnHoldSO:0,countNewIncident:0,countPendingIncident:0,countInProgressIncident:0,countCompletedIncident:0,countOnHoldIncident:0,countResolvedIncident:0,countTotalServiceOrderPending:0,countTotalServiceOrderWithoutExpectedDateTime:0,countTotalServiceOrderWithoutAssignTechnition:0},this.totalCountMaintenanceWorkflowTodoList=[],this.supportTypeData={countTotalIsBillingRequired_1:1,countTotalIsBillingRequired_0:1},this.billable={countTotalSupportTypeOnSite:1,countTotalSupportTypeRemote:1},this.projectList=[],this.checkActive=1,this.lineCoordinates=[],this.infoWindowOptions={pixelOffset:{width:0,height:-30}},this.totalTicket7DayGraphList=[],this.totalTicketMonthlyGraph=[],this.internalPostMessageValueStore="0",this.globalPostMessageValueStore="0",this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role;let ct=JSON.parse(localStorage.getItem("currentUser")).accessGroupName;"Super Admin"!=this.currentUserRole&&("Client User"===this.currentUserRole?this.router.navigate("Application User"==ct?["/maintenace-management/corrective/ticket/list-ticket"]:["/maintenace-management/dashboard/client-dashboard"]):"Software Support"===this.currentUserRole&&"Software Engineer"==ct&&this.router.navigate(["/software-support/software-dashboard"]))}ngOnInit(){this.breadCrumbItems=[{label:"Dashboards"},{label:this.authAssetService.getRole()+" Dashboard",active:!0}],this.initialiseSignalRFunction(),this.initialTabOpenBackFromThePage(),this._OverviewChart('["--vz-primary", "--vz-warning","--vz-danger","--vz-success"]'),this._status7('["--vz-success", "--vz-primary", "--vz-warning", "--vz-danger"]'),this.getV2_TotalCountTicketServiceOrderIncident(),this.getV2_MaintenanceWorkflowTodoList(),this.getV2_TechnitionsAttendanceTransaction(),this.getV2_TechnitionsAttendanceTransactionDaily(),this.getBillableNonBillable(),this.getV2_TotalTicket7DayGraph(),this.getV2_TotalTicketMonthlyGraph(),this.getSupportType(),this.getProjectList(),"Super Admin"!==this.authAssetService.getRole()&&this.getV2_MyTaskRulesActiveCount(),this.currentDate=new Date,this.getV2_MX_PM_ScheduleList_ByDate(new Date),this.getV2_OverDue()}initialTabOpenBackFromThePage(){this.activeIdTop=this.helpDeskService.initalToTabs,this.onDutyActiveId=this.helpDeskService.innerTaskTab,this.onTicketAgingId=this.helpDeskService.ticketAgingTab,this.onBillingActiveId=this.helpDeskService.billingTab,console.log("   this.onTicketAgingId",this.onTicketAgingId)}ngAfterViewInit(){}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}getV2_MX_PM_ScheduleList_ByDate(t){let o={SearchDate:this.datepipe.transform(t,"dd-MM-yyyy")};this.helpDeskService.getV2_MX_PM_ScheduleList_ByDate(o).subscribe(a=>{this.scheduleList_ByDateList=a.list})}getV2_MyTaskRulesActiveCount(){this.clientDashbaordService.getV2_MyTaskRulesActiveCount().subscribe(t=>{this.checktheRuleOfClientDashbard=t.data,this.checktheRuleOfTrueValue=Object.values(this.checktheRuleOfClientDashbard).some(o=>!0===o)})}getV2_OverDue(){this.helpDeskService.getV2_OverDue().subscribe(t=>{this.listOverDueNewTicket=t.listOverDueNewTicket?t.listOverDueNewTicket:[],this.listOverDueBillingEligible=t.listOverDueBillingEligible?t.listOverDueBillingEligible:[],this.listOverDueInternalQuotation=t.listOverDueInternalQuotation?t.listOverDueInternalQuotation:[],this.listOverDueClientQuotApproval=t.listOverDueClientQuotApproval?t.listOverDueClientQuotApproval:[],this.listOverDueServiceOrder=t.listOverDueServiceOrder?t.listOverDueServiceOrder:[],this.listOverDueTicketQuotRequired=t.listOverDueTicketQuotRequired?t.listOverDueTicketQuotRequired:[],this.listOverDueTicketInternalAcknowledge=t.listOverDueTicketInternalAcknowledge?t.listOverDueTicketInternalAcknowledge:[],this.listOverDueTicketExternalAcknowledge=t.listOverDueTicketExternalAcknowledge?t.listOverDueTicketExternalAcknowledge:[]})}getChartColorsArray(t){return(t=JSON.parse(t)).map(function(o){var a=o.replace(" ","");if(-1===a.indexOf(",")){var s=getComputedStyle(document.documentElement).getPropertyValue(a);return s?s=s.replace(" ",""):a}var l=o.split(",");if(2==l.length){var g=getComputedStyle(document.documentElement).getPropertyValue(l[0]);return"rgba("+g+","+l[1]+")"}return a})}setprojectvalue(t){"all"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Active Projects",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},,{name:"Zero SLA Violations",type:"bar",data:[88,2,7,67,21,11,88,9,9,81,12,35]}]),"1M"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[24,75,16,98,19,41,52,34,28,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[99.25,28.58,98.74,12.87,107.54,94.03,11.24,48.57,22.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[28,22,17,27,21,11,5,9,17,29,12,15]},{name:"Zero SLA Violations",type:"bar",data:[18,12,47,7,41,11,8,9,37,29,12,65]}]),"6M"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,75,66,78,29,41,32,44,58,52,43,77]},{name:"On-Site SLA violations",type:"area",data:[109.25,48.58,38.74,57.87,77.54,84.03,31.24,18.57,92.57,42.36,48.51,56.57]},{name:"Complition SLA violations",type:"bar",data:[12,22,17,27,1,51,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,82,5,7,2,11,78,9,77,79,12,35]}]),"1Y"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,15,7,70,21,31,81,9,8,29,12,75]}])}_OverviewChart(t){t=this.getChartColorsArray(t),this.OverviewChart={series:[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,12,57,7,21,11,8,9,17,29,82,55]}],chart:{height:374,width:"99%",type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",dashArray:[0,3,0],width:[0,1,0]},fill:{opacity:[1,.1,1]},markers:{size:[0,4,0],strokeWidth:2,hover:{size:4}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisTicks:{show:!1},axisBorder:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:-2,bottom:15,left:10}},legend:{show:!0,horizontalAlign:"center",offsetX:0,offsetY:-5,markers:{width:9,height:9,radius:6},itemMargin:{horizontal:10,vertical:0}},plotOptions:{bar:{columnWidth:"30%",barHeight:"70%"}},colors:t,tooltip:{shared:!0,y:[{formatter:function(o){return typeof o<"u"?o.toFixed(0):o}},{formatter:function(o){return typeof o<"u"?"$"+o.toFixed(2)+"k":o}},{formatter:function(o){return typeof o<"u"?o.toFixed(0):o}}]}}}setstatusvalue(t){"all"==t&&(this.status7.series=[125,42,58,89]),"7"==t&&(this.status7.series=[25,52,158,99]),"30"==t&&(this.status7.series=[35,22,98,99]),"90"==t&&(this.status7.series=[105,32,68,79])}_status7(t){t=this.getChartColorsArray(t),this.status7={series:[125,42,58,89],labels:["Completed","In Progress","Yet to Start","Cancelled"],chart:{type:"donut",height:230},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"90%",labels:{show:!1}}}},dataLabels:{enabled:!1},legend:{show:!1},stroke:{lineCap:"round",width:0},colors:t}}getV2_TotalCountTicketServiceOrderIncident(){this.helpDeskService.getV2_TotalCountTicketServiceOrderIncident().subscribe(t=>{this.totalCountTicketServiceOrderIncident=t.data,this.sendDataInProjectStat=[{title:"TICKETS",value:this.totalCountTicketServiceOrderIncident.countTotalTicket,icon:"briefcase",month:"Tickets this month",progressBar:[{id:1,bgColor:"bg-warning",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countNewTicket),data:"New"},{id:2,bgColor:"bg-info",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countResolvedTicket),data:"Resolved"},{id:4,bgColor:"bg-success",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countClosedTicket),data:"Closed"}],subItem:[{id:1,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-warning",iconClass:"warning",label:"New",statusId:48,Value:this.totalCountTicketServiceOrderIncident.countNewTicket},{id:2,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-info",iconClass:"info",label:"Resolved",statusId:31,Value:this.totalCountTicketServiceOrderIncident.countResolvedTicket},{id:4,icon:"mdi mdi-numeric-1-circle",bgColor:"bg-success",iconClass:"success",label:"Closed",statusId:32,Value:this.totalCountTicketServiceOrderIncident.countClosedTicket}]},{title:"SERVICE ORDERS",value:this.totalCountTicketServiceOrderIncident.countTotalSO,icon:"award",month:"Service Orders this month",progressBar:[{id:1,bgColor:"bg-warning",width:this.returnProgressBarValue(this.returnTotalCountValueOfSO(),this.totalCountTicketServiceOrderIncident.countPendingSO),data:"Pending"},{id:2,bgColor:"bg-info",width:this.returnProgressBarValue(this.returnTotalCountValueOfSO(),this.totalCountTicketServiceOrderIncident.countInProgressSO),data:"In-Progress"},{id:3,bgColor:"bg-success",width:this.returnProgressBarValue(this.returnTotalCountValueOfSO(),this.totalCountTicketServiceOrderIncident.countCompletedSO),data:"Completed"}],subItem:[{id:2,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-warning",iconClass:"warning",label:"Pending",statusId:2,Value:this.totalCountTicketServiceOrderIncident.countPendingSO},{id:3,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-info",iconClass:"info",label:"In-Progress",statusId:30,Value:this.totalCountTicketServiceOrderIncident.countInProgressSO},{id:4,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-success",iconClass:"success",label:"Completed",statusId:25,Value:this.totalCountTicketServiceOrderIncident.countCompletedSO}]},{title:"INCIDENTS",value:this.totalCountTicketServiceOrderIncident.countTotalIncident,icon:"alert-circle",month:"Incidents this month",progressBar:[{id:1,bgColor:"bg-warning",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countPendingIncident),data:"Pending"},{id:3,bgColor:"bg-info",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countResolvedIncident),data:"Resolved"},{id:4,bgColor:"bg-success",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countCompletedIncident),data:"Completed"}],subItem:[{id:1,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-warning",iconClass:"warning",label:"Pending",statusId:2,Value:this.totalCountTicketServiceOrderIncident.countPendingIncident},{id:2,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-info",iconClass:"info",label:"Resolved",statusId:31,Value:this.totalCountTicketServiceOrderIncident.countResolvedIncident},{id:3,icon:"mdi mdi-numeric-1-circle",bgColor:"bg-success",iconClass:"success",label:"Completed",statusId:25,Value:this.totalCountTicketServiceOrderIncident.countCompletedIncident}]}]})}returnTotalCountValueOfTicket(){return this.totalCountTicketServiceOrderIncident.countNewTicket+this.totalCountTicketServiceOrderIncident.countClosedTicket+this.totalCountTicketServiceOrderIncident.countResolvedTicket}returnTotalCountValueOfQuotation(){return this.totalCountTicketServiceOrderIncident.countQuoteInReview+this.totalCountTicketServiceOrderIncident.countQuotePending+this.totalCountTicketServiceOrderIncident.countQuoteApproved}returnTotalCountValueOfSO(){return this.totalCountTicketServiceOrderIncident.countPendingSO+this.totalCountTicketServiceOrderIncident.countInProgressSO+this.totalCountTicketServiceOrderIncident.countCompletedSO}returnTotalCountValueOfIncident(){return this.totalCountTicketServiceOrderIncident.countPendingIncident+this.totalCountTicketServiceOrderIncident.countCompletedIncident+this.totalCountTicketServiceOrderIncident.countResolvedIncident}returnProgressBarValue(t,o){return(o/t*100).toFixed(0)+"%"}myTaskTicketList(t,o,a){0!=t&&(this.helpDeskService.ticketStatusId=o,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/new-ticket-list"]))}myTaskServiceOrderList(t,o,a){0!=t&&(this.helpDeskService.serviceStatusId=o,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/dashboard-servicet-order-list"]))}myTaskAuditListForClient(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Client",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}myTaskAuditListForAdmin(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Admin",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}getV2_MaintenanceWorkflowTodoList(){this.helpDeskService.getV2_MaintenanceWorkflowTodoList().subscribe(t=>{this.totalCountMaintenanceWorkflowTodoList=t.list})}navigateMyWorkflowPageList(t){t&&(this.helpDeskService.pageAction="Workflow Page",this.helpDeskService.workflowObject={...t},9==t.masterWorkflowId?this.router.navigate(["/maintenace-management/dashboard/workflow-ticket-list"]):10==t.masterWorkflowId||11==t.masterWorkflowId?this.router.navigate(["/maintenace-management/dashboard/quotation-ticket-list"]):this.warning("No Workflow Id"))}myTaskQuestionList(t,o){0!=t&&(this.helpDeskService.pageAction=o,this.router.navigate(["/maintenace-management/dashboard/quotation-ticket-list"]))}myTaskWaitingForInvoice(t,o){0!=t&&(this.helpDeskService.pageAction=o,this.router.navigate(["/maintenace-management/dashboard/waiting-for-generate-invoice-list"]))}myTaskSignatureList(t,o,a){0!=o&&(this.helpDeskService.ticketStatusId=t,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/tech-sigature-ticket-list"]))}myTaskScheduleListForAdmin(t,o,a){0!=o&&(this.helpDeskService.scheduleStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.scheduleTypeAdminAndClient="Admin",this.router.navigate(["/maintenace-management/dashboard/schedule-list-adminandclient"]))}myTaskScheduleListForClient(t,o,a){0!=o&&(this.helpDeskService.scheduleStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.scheduleTypeAdminAndClient="Client",this.router.navigate(["/maintenace-management/dashboard/schedule-list-adminandclient"]))}warning(t){J().fire({toast:!0,position:"top-end",icon:"warning",title:t,showConfirmButton:!1,timer:3e3})}getBillableNonBillable(){this.helpDeskService.getBillableNonBillableCounts().subscribe({next:t=>{this.billable=t.data,this.generateBillablePieChart('["--vz-warning", "--vz-info"]',[this.billable.countTotalIsBillingRequired_1,this.billable.countTotalIsBillingRequired_0],["Billable","Non-Billable"])}})}getSupportType(){this.helpDeskService.getSupportTypeCounts().subscribe({next:t=>{this.supportTypeData=t.data,this.generateSupportTypeGraph('["--vz-primary", "--vz-success", "--vz-warning", "--vz-danger", "--vz-info"]',[{name:"Remote",data:[this.supportTypeData.countTotalSupportTypeRemote]},{name:"On-Site",data:[this.supportTypeData.countTotalSupportTypeOnSite]}])}})}getProjectList(){this.helpDeskService.getProjectList().subscribe({next:t=>{this.projectList=t.list}})}getV2_TechnitionsAttendanceTransaction(){this.helpDeskService.getV2_TechnitionsAttendanceTransaction().subscribe({next:t=>{this.technitionsAttendanceTransactionList=t.obj}})}getV2_TechnitionsAttendanceTransactionDaily(){this.helpDeskService.getV2_TechnitionsAttendanceTransactionDaily().subscribe({next:t=>{this.technitionsAttendanceTransactionListDaily=t.obj}})}generateBillablePieChart(t,o,a){t=this.getChartColorsArray(t),this.billablePieChart={series:o,labels:a,chart:{type:"donut",height:350},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"70%",labels:{show:!0}}}},dataLabels:{enabled:!1},legend:{show:!0},stroke:{lineCap:"round",width:0},colors:t}}generateSupportTypeGraph(t,o){t=this.getChartColorsArray(t),this.supportTypeBarGraph={series:o,chart:{type:"bar",height:500,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",offsetX:0}},stroke:{show:!0,width:5,colors:["transparent"]},xaxis:{categories:[""],axisTicks:{show:!0,borderType:"solid",color:"#78909C",height:16,offsetX:0,offsetY:0},title:{text:"Support Type",offsetX:0,offsetY:-20,style:{color:"#78909C",fontSize:"12px",fontWeight:400}}},yaxis:{labels:{formatter:function(a){return a}},tickAmount:4,min:0},fill:{opacity:1},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontWeight:500,offsetX:0,itemMargin:{horizontal:8,vertical:0},markers:{width:10,height:10}},colors:t}}checkdection(t){this.changeDetectorRef.detectChanges(),this.storeMapData={},this.longitude=101.693207,this.latitude=3.140853,this.zoom=7,this.infoWindowOpen=null,this.checkActive=t,(4==t||5==t)&&this.getV2_OverDue(),sessionStorage.setItem("initalToTabs",""+this.activeIdTop),sessionStorage.setItem("innerTaskTab",""+this.onDutyActiveId),sessionStorage.setItem("ticketAgingTab",""+this.onTicketAgingId),sessionStorage.setItem("billingTab",""+this.onBillingActiveId),console.log("   this.onTicketAgingId",this.onTicketAgingId)}viewMaps(t){this.markers=[],this.infoWindowOpen="checkIn",this.storeMapData=t,this.changeDetectorRef.detectChanges(),this.latitude=this.storeMapData?.startLatitude?Number(this.storeMapData?.startLatitude):this.latitude,this.longitude=this.storeMapData?.startLongitude?Number(this.storeMapData?.startLongitude):this.longitude,this.zoom=12,this.mapOptions={center:{lat:this.storeMapData?.startLatitude?Number(this.storeMapData?.startLatitude):this.latitude,lng:this.storeMapData?.startLongitude?Number(this.storeMapData?.startLongitude):this.longitude},zoom:17},this.markers.push({lat:Number(this.storeMapData?.startLatitude),lng:Number(this.storeMapData?.startLongitude)}),this.storeMapData?.endLatitude&&this.markers.push({lat:Number(this.storeMapData?.endLatitude),lng:Number(this.storeMapData?.endLongitude)})}getMarkerIcon(t=0){const a={width:50,height:50,equals:s=>s.width===a.width&&s.height===a.height};return{url:0==t?"assets/images/green-dot.png":"assets/images/yellow-dot.png",scaledSize:a}}openInfoWindow(t){console.log(t,"gg")}closeInfoWindow(){this.infoWindowOpen=null}_multipleYAxisChart(t,o){t=this.getChartColorsArray(t),this.multipleYAxisChart={series:[{name:"Not Confirm",type:"column",data:o.map(a=>a.countNotConfirm)},{name:"Billable",type:"column",data:o.map(a=>a.countBillable)},{name:"Non Billable",type:"line",data:o.map(a=>a.countNonBillable)}],chart:{height:500,type:"line",stacked:!1,toolbar:{show:!0}},dataLabels:{enabled:!1},stroke:{width:[1,1,4]},xaxis:{categories:o.map(a=>a.createdTicketDate),labels:{style:{fontSize:10,colors:"#405189"}}},yaxis:[{axisTicks:{show:!0},axisBorder:{show:!0,color:"#405189"},labels:{style:{colors:"#405189"}},title:{text:"Not Confirm",style:{color:"#405189",fontWeight:600}},tooltip:{enabled:!0}},{seriesName:"Billable",opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#405189"},labels:{style:{colors:"#405189"}},title:{text:"Billable",style:{color:"#405189",fontWeight:600}}},{seriesName:"Non Billable",opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#63ad6f"},labels:{style:{colors:"#63ad6f"}},title:{text:"Non Billable",style:{color:"#63ad6f",fontWeight:600}}}],tooltip:{fixed:{enabled:!0,position:"topLeft",offsetY:30,offsetX:60}},legend:{horizontalAlign:"center",offsetX:40},colors:t}}_lineColumnAreaChart(t,o){t=this.getChartColorsArray(t),this.lineColumnAreaChart={series:[{name:"Not Confirm",type:"column",data:o.map(a=>a.countNotConfirm)},{name:"Billable",type:"area",data:o.map(a=>a.countBillable)},{name:"Non Billable",type:"line",data:o.map(a=>a.countNonBillable)}],chart:{height:500,type:"line",stacked:!1,toolbar:{show:!0}},stroke:{width:[0,2,5],curve:"smooth"},plotOptions:{bar:{columnWidth:"50%"}},fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},labels:o.map(a=>a.createdTicketMonth),markers:{size:0},xaxis:{type:"date"},yaxis:{title:{text:"Points"},min:0},tooltip:{shared:!0,intersect:!1},colors:t}}getV2_TotalTicket7DayGraph(){this.helpDeskService.getV2_TotalTicket7DayGraph().subscribe({next:t=>{this.totalTicket7DayGraphList=t.list,this._multipleYAxisChart('["--vz-primary", "--vz-info", "--vz-success"]',this.totalTicket7DayGraphList)}})}getV2_TotalTicketMonthlyGraph(){this.helpDeskService.getV2_TotalTicketMonthlyGraph().subscribe({next:t=>{this.totalTicketMonthlyGraph=t.list,this._lineColumnAreaChart('["--vz-primary", "--vz-success", "--vz-danger"]',this.totalTicketMonthlyGraph)}})}initialiseSignalRFunction(){sessionStorage.setItem("InternalPostMessageValue","0"),sessionStorage.setItem("GlobalPostMessageValue","0"),sessionStorage.getItem("InternalPostMessageValue")&&(this.internalPostMessageValueStore=sessionStorage.getItem("InternalPostMessageValue")),sessionStorage.getItem("GlobalPostMessageValue")&&(this.globalPostMessageValueStore=sessionStorage.getItem("GlobalPostMessageValue")),this.hubConnection=this.signalRService.getSignLrConnection(),this.hubConnection.on("V2_TicketingProcess",t=>{console.log("dd",t),this.playBoop(),"Internal Post Message"===t.action&&this.zone.run(()=>{sessionStorage.setItem("InternalPostMessageValue",String(Number(sessionStorage.getItem("InternalPostMessageValue"))+1)),this.internalPostMessageValueStore=sessionStorage.getItem("InternalPostMessageValue")}),"Global Post Message"===t.action&&this.zone.run(()=>{sessionStorage.setItem("GlobalPostMessageValue",String(Number(sessionStorage.getItem("GlobalPostMessageValue"))+1)),this.globalPostMessageValueStore=sessionStorage.getItem("GlobalPostMessageValue")})})}playSoundWav(t,o,a){return(0,Q.Z)(function*(){try{const s=new AudioContext,g=yield(yield fetch(t)).arrayBuffer(),G=yield s.decodeAudioData(g),W=s.createBufferSource();W.buffer=G;const ee=s.createGain();W.connect(ee),ee.connect(s.destination),ee.gain.value=.01*o,W.start(s.currentTime),W.stop(s.currentTime+.001*a)}catch(s){console.error("Error loading or playing sound:",s)}})()}playSong(){navigator.vibrate([300,300,300])}playBoop(){console.log("ggs"),this.playSoundWav("../../../../../assets/mixkit-long-pop-2358.wav",50,100)}openInfoWindow_newInfo(t,o){this.infoWindowOpen=o,this.infoWindow?.open(t)}viewHandleMap(t){sessionStorage.setItem("initalToTabs",""+this.activeIdTop),sessionStorage.setItem("innerTaskTab",""+this.onDutyActiveId),this.helpDeskService.initalToTabs=this.activeIdTop,this.helpDeskService.innerTaskTab=this.onDutyActiveId,"Corrective"==t.taskType?(this.ticketService.sendTicketId=t.uniquedId,this.helpDeskService.pageAction="",this.ticketService.ticketPageAction="Basic Service Page",this.ticketService.lastStoreTicketRouterName="maintenace-management/dashboard/help-desk-dashboard",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])):"Preventive"==t.taskType?(this.preventiveService.scheduleId=t.uniquedId,this.preventiveService.lastStorePreventiveRouterName="maintenace-management/dashboard/help-desk-dashboard",this.router.navigate(["maintenace-management/preventive/schedule/current-schedule"])):"Audit"==t.taskType&&(this.auditService.auditId=t.uniquedId,this.router.navigate(["asset-management/audit-management/audit/viewaudit"]))}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(C.S),e.Y36(p.F0),e.Y36(v.u),e.Y36(F),e.Y36(i.uU),e.Y36(U.K),e.Y36(e.sBO),e.Y36(e.Lbi),e.Y36(ce.W7),e.Y36(pe.M),e.Y36(e.R0b),e.Y36(be.W),e.Y36(V.C),e.Y36(z.w))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-help-desk-dashboard"]],viewQuery:function(o,a){if(1&o&&(e.Gf(Kt,7),e.Gf(zt,7),e.Gf(R.ch,5),e.Gf($t,5)),2&o){let s;e.iGM(s=e.CRH())&&(a.streetviewMap=s.first),e.iGM(s=e.CRH())&&(a.streetviewPano=s.first),e.iGM(s=e.CRH())&&(a.infoWindow=s.first),e.iGM(s=e.CRH())&&(a.myMap=s.first)}},decls:43,vars:15,consts:[[3,"title","breadcrumbItems"],[1,"project-wrapper"],[1,"col-md-12","col-xl-12","col-xxl-12"],[1,"row"],["class","col-xl-4 col-md-6",4,"ngFor","ngForOf"],[1,"row","align-items-center"],[1,"col"],["ngbNav","",1,"nav","nav-tabs-custom","card-header-tabs","border-bottom-0",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",3,"click"],["class","mdi mdi-circle text-danger fs-12",4,"ngIf"],["ngbNavContent",""],[1,"tab-content","text-muted","mt-3"],[3,"ngbNavOutlet"],["aria-live","polite","aria-atomic","true"],[1,"col-xl-4","col-md-6"],[3,"title","value","icon","month","progressBar","subItem"],[1,"mdi","mdi-circle","text-danger","fs-12"],[1,"card","card-height-100"],["ngbNav","",1,"nav","nav-tabs","nav-border-top","nav-border-top-primary","mb-3",3,"activeId"],["Border","ngbNav"],["ngbNavLink",""],["class","badge align-middle ms-1 bg-danger",4,"ngIf"],[1,"card-body"],[1,"tab-content","text-muted"],[1,"badge","align-middle","ms-1","bg-danger"],[1,"col-xl-7"],["ngbNav","",1,"nav","nav-tabs","nav-justified","nav-border-top","nav-border-top-primary","mb-0",3,"activeId"],["todoWorkFlowTabs","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[4,"ngIf"],[1,"ri-calendar-2-line","align-middle","me-1"],[1,"col-xl-5"],[1,"card-header"],[1,"card-title","mb-0"],[4,"ngFor","ngForOf"],[1,"ri-todo-line","align-middle","me-1"],[1,"card-body","my-tasks","myTaskCardBody"],[1,"card-title","mb-2"],[1,"my-3"],[1,"row","g-3","cursor"],[1,"col-auto"],[1,"avatar-sm","p-1","py-2","h-auto","rounded-3",3,"ngClass"],[1,"text-center"],[1,"mb-0"],["class","bx bx-bell text-success mt-2",4,"ngIf"],["class","bx bx-bell text-danger mt-2",4,"ngIf"],[1,"col","align-items-center",3,"click"],[1,"text-muted","mt-0","mb-1","fs-14"],["href","javascript:void(0);","class","text-reset fs-13 mb-0",4,"ngIf"],[1,"col-sm-auto"],[1,"avatar-group"],[1,"avatar-group-item"],["href","javascript: void(0);"],[1,"avatar-xs"],[1,"avatar-title","rounded-circle","text-white",3,"ngClass"],[1,"bx","bx-bell","text-success","mt-2"],[1,"bx","bx-bell","text-danger","mt-2"],["href","javascript:void(0);",1,"text-reset","fs-13","mb-0"],[1,"ri-stack-overflow-line","align-middle","me-1"],["class","badge bg-danger rounded-circle",4,"ngIf"],[1,"badge","bg-danger","rounded-circle"],[1,"upcoming-scheduled"],["type","text","mwlFlatpickr","",1,"form-control",3,"altInput","convertModelValue","inline","ngModel","ngModelChange"],[1,"text-uppercase","fw-semibold","mt-4","mb-3","text-muted"],[1,"mini-stats-wid","d-flex","align-items-center","mt-3"],[1,"flex-shrink-0","avatar-sm"],[1,"mini-stat-icon","avatar-title","rounded-circle","text-success","bg-success-subtle","fs-4"],[1,"flex-grow-1","ms-3"],[1,"mb-1"],[1,"text-muted","mb-0"],[1,"flex-shrink-0"],[1,"text-muted"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"badge","bg-primary","ms-1","borderEaduis"],[1,"badge","bg-success","ms-1","borderEaduis"],[1,"mb-1","mt-1"],[1,"col-xl-4","stretch-card"],[1,"card"],["ngbNav","",1,"nav","nav-tabs","nav-border-top","nav-border-top-primary",3,"activeId","activeIdChange"],[3,"ngbNavItem","click"],[1,"card-body","p-0"],[1,"col-xl-8"],[1,"card-header","align-items-center","d-flex"],[1,"card-title","mb-0","flex-grow-1"],[1,"card-body","cardbody"],["width","100%","height","700px",3,"latitude","longitude","options"],[3,"position","icon","label","mapClick",4,"ngIf"],[3,"options","position","isOpen","closeclick",4,"ngIf"],["class","row mb-1",4,"ngFor","ngForOf"],[1,"row","mb-1"],[1,"col-sm-12","col-md-5","d-flex","mb-3"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0"],[1,"fs-12","mb-0","text-muted"],[1,"fs-12","mb-0","d-flex"],["class","badge bg-success me-2",4,"ngIf"],["class","badge bg-primary me-2",4,"ngIf"],["class","badge bg-info me-2",4,"ngIf"],["class","badge bg-primary-subtle text-primary",4,"ngIf"],["class","badge bg-secondary-subtle text-secondary",4,"ngIf"],[1,"col-sm-9","col-md-6","mb-3"],[1,"fs-12","mb-0"],[1,"col-sm-3","col-md-1","mb-3","text-right"],[1,"ri-eye-fill","align-middle","text-success","cursor",3,"click"],[1,"badge","bg-success","me-2"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-info","me-2"],[1,"badge","bg-primary-subtle","text-primary"],[1,"badge","bg-secondary-subtle","text-secondary"],[1,"py-4","text-center"],["src","https://cdn.lordicon.com/msoeawqm.json","trigger","loop","colors","primary:#405189,secondary:#0ab39c",2,"width","72px","height","72px"],[1,"mt-4"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],["src","http://maps.google.com/mapfiles/ms/icons/green-dot.png"],["src","http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"],[3,"position","icon","label","mapClick"],["marker","mapMarker"],[3,"options","position","isOpen","closeclick"],[1,"card","mb-0"],[1,"card-body","mb-0"],[1,"list-unstyled","mb-0","vstack","gap-1"],[1,"d-flex","align-items-center"],["alt","",1,"avatar-sm","rounded",3,"src"],[1,"fs-15","mb-1","text-success"],[1,"text-muted","mb-0","text-success"],[1,"ri-mail-line","me-2","align-middle","text-muted","fs-16"],[1,"mt-0","mb-0"],[1,"ri-phone-line","me-2","align-middle","text-muted","fs-16"],[1,"ri-calendar-event-line","me-2","align-middle","text-muted","fs-16"],["class","mt-0 mb-0",4,"ngIf"],["class","card-footer text-end mb-0",4,"ngIf"],[1,"card-footer","text-end","mb-0"],[1,"btn","btn-info","btn-sm",3,"click"],["marker1","mapMarker"],[3,"disableAutoPan","isOpen","closeclick",4,"ngIf"],[3,"disableAutoPan","isOpen","closeclick"],["infoWindow",""],[1,"fs-15","mb-1","text-warning"],[1,"text-muted","mb-0","text-warning"],[1,"btn","btn-info","btn-sm","mb-0",3,"click"],[1,"badge","align-middle","ms-1"],[3,"listOverDueNewTicket"],[3,"listOverDueBillingEligible"],[3,"listOverDueServiceOrder"],[3,"listOverDueTicketInternalAcknowledge"],[3,"listOverDueTicketExternalAcknowledge"],[3,"listOverDueTicketQuotRequired"],[3,"listOverDueInternalQuotation"],[3,"listOverDueClientQuotApproval"],[1,"col-xl-6"],[1,"card-body","pt-5"],[1,"mt-3"],[1,"d-flex","justify-content-center","align-items-center","mb-4"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2","mt-3"],[1,"fw-medium","mb-0"],[1,"ri-checkbox-blank-circle-fill","text-warning","align-middle","me-2"],[1,"text-muted","pe-5"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2"],[1,"ri-checkbox-blank-circle-fill","text-info","align-middle","me-2"],["dir","ltr",3,"series","chart","xaxis","markers","stroke","yaxis","dataLabels","title","fill","tooltip","legend","colors"],["dir","ltr",3,"series","chart","yaxis","xaxis","labels","stroke","plotOptions","markers","fill","tooltip","colors"],["dir","ltr",3,"series","chart","colors","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis"],["dir","ltr","dir","ltr",1,"apex-charts",3,"series","labels","chart","plotOptions","dataLabels","legend","stroke","colors"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,Xt,2,6,"div",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"ul",7,8),e.NdJ("activeIdChange",function(l){return a.activeIdTop=l}),e.TgZ(9,"li",9)(10,"a",10),e.NdJ("click",function(){return a.checkdection(1)}),e._uU(11," Chatbot "),e.YNc(12,ei,1,0,"i",11),e.qZA(),e.YNc(13,oi,16,6,"ng-template",12),e.qZA(),e.TgZ(14,"li",9)(15,"a",10),e.NdJ("click",function(){return a.checkdection(2)}),e._uU(16," My Task "),e.qZA(),e.YNc(17,ga,22,6,"ng-template",12),e.qZA(),e.TgZ(18,"li",9)(19,"a",10),e.NdJ("click",function(){return a.checkdection(3)}),e._uU(20," On Duty "),e.qZA(),e.YNc(21,to,29,13,"ng-template",12),e.qZA(),e.TgZ(22,"li",9)(23,"a",10),e.NdJ("click",function(){return a.checkdection(4)}),e._uU(24," Ticket Aging "),e.YNc(25,io,1,0,"i",11),e.qZA(),e.YNc(26,lo,36,22,"ng-template",12),e.qZA(),e.TgZ(27,"li",9)(28,"a",10),e.NdJ("click",function(){return a.checkdection(5)}),e._uU(29," Billing "),e.YNc(30,co,1,0,"i",11),e.qZA(),e.YNc(31,go,24,14,"ng-template",12),e.qZA(),e.TgZ(32,"li",9)(33,"a",10),e.NdJ("click",function(){return a.checkdection(6)}),e._uU(34," Accessible Resource"),e.qZA(),e.YNc(35,mo,1,0,"ng-template",12),e.qZA(),e.TgZ(36,"li",9)(37,"a",10),e.NdJ("click",function(){return a.checkdection(7)}),e._uU(38," Graph "),e.qZA(),e.YNc(39,fo,49,28,"ng-template",12),e.qZA()()(),e.TgZ(40,"div",13),e._UZ(41,"div",14),e.qZA()()(),e._UZ(42,"app-toasts",15)),2&o){const s=e.MAs(8);e.Q6J("title","Dashboard")("breadcrumbItems",a.breadCrumbItems),e.xp6(4),e.Q6J("ngForOf",a.sendDataInProjectStat),e.xp6(3),e.Q6J("activeId",a.activeIdTop),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngIf","0"!=a.globalPostMessageValueStore||"0"!=a.internalPostMessageValueStore),e.xp6(2),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(4),e.Q6J("ngbNavItem",4),e.xp6(3),e.Q6J("ngIf",0!=a.listOverDueNewTicket.length||0!=a.listOverDueBillingEligible.length||0!=a.listOverDueServiceOrder.length||0!=a.listOverDueTicketExternalAcknowledge.length),e.xp6(2),e.Q6J("ngbNavItem",5),e.xp6(3),e.Q6J("ngIf",0!=a.listOverDueTicketQuotRequired.length||0!=a.listOverDueInternalQuotation.length||0!=a.listOverDueClientQuotApproval.length),e.xp6(2),e.Q6J("ngbNavItem",6),e.xp6(4),e.Q6J("ngbNavItem",7),e.xp6(5),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f.Fj,f.JJ,f.On,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,j.x,K.as,se.n,Y.y,R.b6,R.ch,R.O_,Ie,ie,je,k,Ce,_t,ft,wt,qt,Vt,Ft,Wt,i.uU],styles:[".my-tasks[_ngcontent-%COMP%]   .avatar-sm[_ngcontent-%COMP%]{height:3rem!important}.myTaskCardBody[_ngcontent-%COMP%]{height:550px;overflow-y:auto}.cardbody[_ngcontent-%COMP%]{height:700px;overflow:auto}.borderEaduis[_ngcontent-%COMP%]{border-radius:25px}.custom-marker[_ngcontent-%COMP%]   .agm-marker-label[_ngcontent-%COMP%]{color:red!important}"]})}}return n})();var Ke=h(7398);const To=["inputerTicketNumber"];function vo(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",39),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Co(n,r){1&n&&e._UZ(0,"i",58)}function xo(n,r){1&n&&e._UZ(0,"i",59)}function ko(n,r){if(1&n&&(e.TgZ(0,"span",60),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function wo(n,r){if(1&n&&(e.TgZ(0,"span",61),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function Do(n,r){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function Ao(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",41)(2,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.TgZ(4,"p",43),e.YNc(5,Co,1,0,"i",44)(6,xo,1,0,"i",45),e.qZA()(),e.TgZ(7,"td",46),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("ticketTitle_"+s.ticketId+"_"+l))}),e._uU(8),e.qZA(),e.TgZ(9,"td",46),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("companyName_"+s.ticketId+"_"+l))}),e._uU(10),e.qZA(),e.TgZ(11,"td",46),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("clientName_"+s.ticketId+"_"+l))}),e._uU(12),e.qZA(),e.TgZ(13,"td",46),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("projectName_"+s.ticketId+"_"+l))}),e._uU(14),e.qZA(),e.TgZ(15,"td",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("createdDate_"+s.ticketId))}),e._uU(16),e._UZ(17,"br"),e.TgZ(18,"span",47),e._uU(19),e.qZA()(),e.TgZ(20,"td",48),e.YNc(21,ko,2,1,"span",49)(22,wo,2,1,"span",50)(23,Do,2,1,"span",51),e.qZA(),e.TgZ(24,"td",48)(25,"span"),e._uU(26),e.qZA()(),e.TgZ(27,"td",41)(28,"span")(29,"div",52)(30,"button",53),e._UZ(31,"i",54),e.qZA(),e.TgZ(32,"ul",55)(33,"li")(34,"a",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._UZ(35,"i",57),e._uU(36," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(2),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("ngIf",t.isBillingRequired),e.xp6(1),e.Q6J("title",t.ticketTitle)("id","ticketTitle_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("title",t.createdDate)("id","createdDate_"+t.ticketId),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(3),e.Oqu(t.ticketTypeName),e.xp6(2),e.Q6J("ngIf","High"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Low"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Medium"==(null==t?null:t.urgencyTypeName)),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName)}}function So(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ao,37,25,"tr",40),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function Zo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",63),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Io(n,r){if(1&n&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"TICKET NO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Create Date"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Priority"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,vo,4,0,"ng-container",33)(24,So,2,1,"ng-container",33),e.qZA()()(),e.TgZ(25,"div",34)(26,"div",35)(27,"div",36),e._uU(28),e.qZA()(),e.TgZ(29,"div",35)(30,"div",37),e.YNc(31,Zo,1,5,"ngb-pagination",38),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let yo=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"Ticket"},{label:"New Ticket List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.isProject=this.authService.getisProject(),this.storeTicketStatusId=this.helpDeskService.ticketStatusId?this.helpDeskService.ticketStatusId:0,0==this.storeTicketStatusId||null==this.storeTicketStatusId?this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"]):(this.getDropdownCompanyList(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole?this.disabledWithAceessGroup=!0:localStorage.getItem("objectSerachForNewTicket")?this.getObjectAfterRefresh():this.loadData())}ngOnInit(){localStorage.getItem("objectSerachForNewTicket")?this.getObjectAfterRefresh():this.loadData()}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.SearchTicketStatusId=this.storeTicketStatusId,"Waiting Client to Close Ticket"===this.helpDeskService.pageAction&&(this.payload.SearchOperationType="Service"),"Waiting Internal Ticket to Close"===this.helpDeskService.pageAction&&(this.payload.SearchisGlobal=!1),this.ticketService.getV2_TicketList_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.ticketList=t.list,this.setObjectBeforeRefesh(),this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.typeTicketNameValue&&(t.SearchTicketTitle=this.typeTicketNameValue),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForNewTicket",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForNewTicket"));this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.typeTicketNameValue=t.SearchTicketTitle?t.SearchTicketTitle:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchTicketTitle=this.typeTicketNameValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}viewHandler(t){this.ticketService.sendTicketId=t,"Waiting Client to Close Ticket"===this.helpDeskService.pageAction&&(this.ticketService.ticketPageAction="Waiting Client to Close Ticket",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/new-ticket-list",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])),"Total Ticket Quotation Rejected"===this.helpDeskService.pageAction?(this.ticketService.ticketPageAction="Total Ticket Quotation Rejected",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/new-ticket-list",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])):(this.ticketService.lastStoreRouterDashboardName="/maintenace-management/dashboard/new-ticket-list",this.router.navigate(["maintenace-management/dashboard/view-new-ticket-list"]))}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.typeTicketNameValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange(""))),this.typeTicketNameValue=null}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,this.setObjectBeforeRefesh(),"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,this.setObjectBeforeRefesh(),"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),this.setObjectBeforeRefesh()})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}),this.setObjectBeforeRefesh()}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.setObjectBeforeRefesh(),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ue.b)(1e3),(0,Ke.U)(t=>t.target.value),(0,ge.x)((t,o)=>t===o||!t&&!o),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchTicketTitle=this.typeTicketNameValue,this.loadData()}expandTitle(t){document.getElementById(t)}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-ticket-list"]],viewQuery:function(o,a){if(1&o&&e.Gf(To,7),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:35,vars:20,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for ticket name",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","9",1,"text-center"],[4,"ngFor","ngForOf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"d-flex","mb-0"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],["ngbTooltip","Billable","class","ri-money-dollar-circle-line align-bottom ms-2 text-success fs-15",4,"ngIf"],[1,"title","align-top",3,"title","id","click"],[1,"badge","bg-info"],[1,"status","align-top"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"],["ngbTooltip","Billable",1,"ri-money-dollar-circle-line","align-bottom","ms-2","text-success","fs-15"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"New Ticket List"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10,11),e.NdJ("ngModelChange",function(l){return a.typeTicketNameValue=l}),e.qZA(),e._UZ(13,"i",12),e.qZA()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"ng-select",16),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(18,"div",15)(19,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(20,"div",15)(21,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(22,"div",19)(23,"div",20)(24,"button",21),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(25,"i",22),e._uU(26," Clear "),e.qZA()()()()(),e.TgZ(27,"div",23)(28,"div")(29,"ul",24,25)(31,"li",26),e.YNc(32,Io,32,7,"ng-template",27),e.qZA()(),e.TgZ(33,"div",28),e._UZ(34,"div",29),e.qZA()()()()()()),2&o){const s=e.MAs(30);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("ngModel",a.typeTicketNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();var De=h(6825),Xe=h(276),et=h(886),Ne=h(7625),qo=h(3267),No=h(7932),Lo=h(7189),Uo=h(7708),Oo=h(8883),tt=h(1517),Mo=h(618);const Vo=["isApproveReviewQuotationModalPopup"],Qo=["isRejectedQuotationModalPopup"],Jo=["successDataModalQuotation"];function Ro(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalApproveReviewQuotation())}),e._UZ(2,"i",54),e._uU(3),e.qZA(),e.TgZ(4,"button",55),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalForRejectedQuotation())}),e._UZ(5,"i",56),e._uU(6," Reject "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ","Approver"==t.quotationObjectFromTheDashbaordWorkFlowTable.approverType?"Approve":"Review"," ")}}function jo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalAProcessInvoiceQuotation())}),e._UZ(2,"i",54),e._uU(3," Process Invoice "),e.qZA()()}}function Po(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",41),e._uU(2),e.qZA(),e.TgZ(3,"td",65)(4,"span",66),e._uU(5),e.qZA(),e.TgZ(6,"p",67),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",39),e._uU(15),e.qZA()()),2&n){const t=r.$implicit,o=r.index;e.uIk("data-index",o),e.xp6(2),e.Oqu(o+1),e.xp6(3),e.Oqu(t.itemName),e.xp6(2),e.Oqu(t.itemDetail),e.xp6(2),e.Oqu(t.uom),e.xp6(2),e.Oqu(t.unitPrice),e.xp6(2),e.Oqu(t.qty),e.xp6(2),e.Oqu(t.unitTotalPrice)}}function Fo(n,r){if(1&n&&(e.TgZ(0,"div",57)(1,"table",58)(2,"thead")(3,"tr",59)(4,"th",60),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th",61),e._uU(7,"Item Details"),e.qZA(),e.TgZ(8,"th",62),e._uU(9,"UOM"),e.qZA(),e.TgZ(10,"th",62),e._uU(11,"Unit Price"),e.qZA(),e.TgZ(12,"th",62),e._uU(13,"Quantity"),e.qZA(),e.TgZ(14,"th",63),e._uU(15,"Amount"),e.TgZ(16,"span",34),e._uU(17),e.qZA()()()(),e.TgZ(18,"tbody"),e.YNc(19,Po,16,8,"tr",64),e.qZA()()()),2&n){const t=e.oxw();e.xp6(17),e.hij("(",null==t.departmentDetail?null:t.departmentDetail.currencyCode,")"),e.xp6(2),e.Q6J("ngForOf",t.mX_quotationItem)}}function Eo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",69)(2,"div",39)(3,"button",70),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",71)(5,"div",72),e._UZ(6,"lord-icon",73),e.qZA(),e.TgZ(7,"h4",74),e._uU(8),e.qZA(),e.TgZ(9,"p",75),e._uU(10," Are you sure you want to make this Quotation Proceed to next process? "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",3)(13,"div",76)(14,"label",77),e._uU(15,"Remark "),e.TgZ(16,"span",78),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"textarea",79),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.billingEligibilityDecisionRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",80),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",81)(24,"button",82),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",83),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Later "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.hij("Quotation ",t.textTitle," Verification"),e.xp6(10),e.Q6J("ngModel",t.billingEligibilityDecisionRemarkValue)("maxlength",t.maxCharsBillingEligibilityDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.billingEligibilityDecisionRemarkValue?null:t.billingEligibilityDecisionRemarkValue.length,"/",t.maxCharsBillingEligibilityDecision,""),e.xp6(4),e.Q6J("disabled",!t.billingEligibilityDecisionRemarkValue)}}function Bo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",84)(2,"div",39)(3,"button",70),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",71)(5,"div",85),e._UZ(6,"lord-icon",73),e.qZA(),e.TgZ(7,"h4",74),e._uU(8),e.qZA(),e.TgZ(9,"p",75),e._uU(10," Are you sure you want to make this Quotation Proceed to next process? "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",3)(13,"div",76)(14,"label",77),e._uU(15,"Remark "),e.TgZ(16,"span",78),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"textarea",79),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.billingEligibilityDecisionRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",80),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",81)(24,"button",82),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",83),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Cancel "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.hij("Quotation ",t.textTitle," Verification"),e.xp6(10),e.Q6J("ngModel",t.billingEligibilityDecisionRemarkValue)("maxlength",t.maxCharsBillingEligibilityDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.billingEligibilityDecisionRemarkValue?null:t.billingEligibilityDecisionRemarkValue.length,"/",t.maxCharsBillingEligibilityDecision,""),e.xp6(4),e.Q6J("disabled",!t.billingEligibilityDecisionRemarkValue)}}function Go(n,r){if(1&n&&(e.TgZ(0,"p",87),e._UZ(1,"br"),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.successDataModalQuotationMessageObject.remark2," ")}}function Yo(n,r){if(1&n&&(e.TgZ(0,"p",87),e._UZ(1,"br"),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.successDataModalQuotationMessageObject.remark3," ")}}function Ho(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",84)(2,"div",71),e._UZ(3,"lord-icon",73),e.TgZ(4,"h4",86),e._uU(5),e.qZA(),e.TgZ(6,"p",87),e._uU(7),e.qZA(),e.YNc(8,Go,3,1,"p",88)(9,Yo,3,1,"p",88),e._UZ(10,"br"),e.TgZ(11,"div",81)(12,"button",89),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(13," Ok,Done It! "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.successDataModalQuotationMessageObject.name," "),e.xp6(2),e.hij(" ",t.successDataModalQuotationMessageObject.remark1," "),e.xp6(1),e.Q6J("ngIf",t.successDataModalQuotationMessageObject.remark2),e.xp6(1),e.Q6J("ngIf",t.successDataModalQuotationMessageObject.remark3)}}let Wo=(()=>{class n{constructor(t,o,a,s,l,g,G,W){this.formBuilder=t,this.commonFunctionService=o,this.authAssetService=a,this.quotationService=s,this.modalService=l,this.ticketService=g,this.router=G,this.departmentService=W,this.viewQuationApproveReviewButtons=!1,this.quotationObjectWorkFlow={},this.quotationObjectFromTheDashbaordWorkFlowTable={},this.imgUrl=c.N.apiUrl,this.viewQuationProcessInvoiceButtons=!1,this.billingEligibilityDecisionRemarkValue="",this.maxCharsBillingEligibilityDecision=300,this.isProject=!1,this.quotationObject={},this.mX_quotationItem=[],this.departmentDetail=[],this.textTitle="Internal",this.successDataModalQuotationMessageObject={},this.isProject=this.authAssetService.getisProject()}ngOnInit(){this.textTitle="Client User"===JSON.parse(localStorage.getItem("currentUser"))?.role?"Client":"Internal",this.quotationId?this.getV2_MX_QuotationAndItemDetails(this.quotationId):this.getV2_MX_QuotationAndItemDetailsByTicketId(this.ticketId),this.viewQuationProcessInvoiceButtons=56==this.quotationObject.quotStatusId&&32==this.ticketInfo.ticketStatusId&&"Basic Quotation Page"==this.ticketService.ticketPageAction&&!this.quotationObject.isQuotationBilled}ngOnChanges(t){this.quotationId?this.getV2_MX_QuotationAndItemDetails(this.quotationId):this.getV2_MX_QuotationAndItemDetailsByTicketId(this.ticketId),this.getDepartmentDetail(this.ticketInfo.projectId),this.viewQuationProcessInvoiceButtons=56==this.quotationObject.quotStatusId&&32==this.ticketInfo.ticketStatusId&&"Basic Quotation Page"==this.ticketService.ticketPageAction&&!this.quotationObject.isQuotationBilled}getDepartmentDetail(t){this.departmentService.getDepartmentDetail(t).subscribe({next:o=>{this.departmentDetail=o.data,console.log("  this.departmentDetail =",this.departmentDetail)}})}getV2_MX_QuotationAndItemDetails(t){this.quotationService.getV2_MX_QuotationAndItemDetails({QuotId:t}).subscribe(a=>{this.quotationObject=a.objList.mX_Quotation,this.mX_quotationItem=a.objList.mX_quotationItem})}getV2_MX_QuotationAndItemDetailsByTicketId(t){this.quotationService.getV2_MX_QuotationAndItemDetailsByTicketId({TicketId:t}).subscribe(a=>{this.quotationObject=a.objList.mX_Quotation,this.mX_quotationItem=a.objList.mX_quotationItem})}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openModalForRejectedQuotation(){this.billingEligibilityDecisionRemarkValue="",this.successDataModalQuotationMessageObject={name:"",remark1:"",remark2:"",remark3:""},this.modalService.open(this.isRejectedQuotationModalPopup,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{11==this.quotationObjectWorkFlow.masterWorkflowId?this.updateReviewerApproverQuotationPending("Rejected"):this.updateReviewerApproverQuotationInReview("Rejected")},t=>{})}openModalApproveReviewQuotation(){this.billingEligibilityDecisionRemarkValue="",this.successDataModalQuotationMessageObject={name:"",remark1:"",remark2:"",remark3:""},this.modalService.open(this.isApproveReviewQuotationModalPopup,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{11==this.quotationObjectWorkFlow.masterWorkflowId?this.updateReviewerApproverQuotationPending("Approver"==this.quotationObjectFromTheDashbaordWorkFlowTable.approverType?"Approved":"Reviewed"):this.updateReviewerApproverQuotationInReview("Approver"==this.quotationObjectFromTheDashbaordWorkFlowTable.approverType?"Approved":"Reviewed")},t=>{})}updateReviewerApproverQuotationInReview(t){this.quotationService.updateReviewerApproverQuotationInReview({ProjectId:this.quotationObjectWorkFlow.projectId,QuotTicketId:this.quotationObjectWorkFlow.ticketId,MasterWorkflowItemId:this.quotationId,ApproverType:this.quotationObjectFromTheDashbaordWorkFlowTable.approverType,ActionStatus:t,WfProcessCreationId:this.quotationObjectWorkFlow.wfProcessCreationId,WfProcessCreationDetailId:this.quotationObjectWorkFlow.wfProcessCreationDetailId,Remark:this.billingEligibilityDecisionRemarkValue}).subscribe(a=>{this.billingEligibilityDecisionRemarkValue="","200"==a.code&&"Success Completed Quotation Pending"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been successfully reviewed and approved.",remark2:"The system has now escalated this quotation for the client approval process.",remark3:"Once the client takes action, you will receive a notification."},this.successModalFor()):"200"==a.code&&"Success Completed Service Order Pending"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been reviewed and approved successfully.",remark2:"Can generate a new service order for this ticket.",remark3:'Please go to "My Tasks" and look for the task labeled "Waiting For Generate New Service Order".'},this.successModalFor()):"200"==a.code&&"Success"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been reviewed and approved successfully.",remark2:"Waiting for next Reviewer/Approver",remark3:""},this.successModalFor()):"200"==a.code&&"Success Rejected"==a.message&&(this.successDataModalQuotationMessageObject={name:"Quotation Rejected process successfully.",remark1:"The quotation has been Rejected successfully.",remark2:"",remark3:""},this.successModalFor())})}updateReviewerApproverQuotationPending(t){this.quotationService.UpdateReviewerApproverQuotationPending({ProjectId:this.quotationObjectWorkFlow.projectId,QuotTicketId:this.quotationObjectWorkFlow.ticketId,MasterWorkflowItemId:this.quotationId,ApproverType:this.quotationObjectFromTheDashbaordWorkFlowTable.approverType,ActionStatus:t,WfProcessCreationId:this.quotationObjectWorkFlow.wfProcessCreationId,WfProcessCreationDetailId:this.quotationObjectWorkFlow.wfProcessCreationDetailId,Remark:this.billingEligibilityDecisionRemarkValue}).subscribe(a=>{this.billingEligibilityDecisionRemarkValue="","200"==a.code&&"Success Completed Quotation Pending"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been successfully reviewed and approved.",remark2:"The system has now escalated this quotation for the client approval process.",remark3:"Once the client takes action, you will receive a notification."},this.successModalFor()):"200"==a.code&&"Success Completed Service Order Pending"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been reviewed and approved successfully.",remark2:"Can generate a new service order for this ticket.",remark3:'Please go to "My Tasks" and look for the task labeled "Waiting For Generate New Service Order".'},this.successModalFor()):"200"==a.code&&"Success"==a.message||"200"==a.code&&"Success Completed"==a.message||"200"==a.code&&"Successfully Reviewed"==a.message||"200"==a.code&&"Successfully Approved"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Review/Approve process successfully.",remark1:"The quotation has been reviewed and approved successfully.",remark2:"Waiting for next Reviewer/Approver",remark3:""},this.successModalFor()):"200"==a.code&&"Success Rejected"==a.message?(this.successDataModalQuotationMessageObject={name:"Quotation Rejected process successfully.",remark1:"The quotation has been Rejected successfully.",remark2:"",remark3:""},this.successModalFor()):(this.successDataModalQuotationMessageObject={name:"Quotation Approved process successfully.",remark1:a.message,remark2:"",remark3:""},this.successModalFor())})}successModalFor(){this.modalService.open(this.successDataModalQuotation,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.router.navigate([this.ticketService.lastStoreRouterDashboardName])},t=>{})}openModalAProcessInvoiceQuotation(){const t=this.modalService.open(tt.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});t.componentInstance.title="Are you sure you want to send this quotation for the invoice process? ",t.componentInstance.subTitle="Once you proceed, it cannot be reverted back",t.result.then(o=>{o&&"success"==o&&this.updateV2_MaintenanceQuotationBillProcess()})}updateV2_MaintenanceQuotationBillProcess(){this.quotationService.updateV2_MaintenanceQuotationBillProcess({QuotId:this.quotationObject.quotId}).subscribe(o=>{this.success(o),this.router.navigate([this.ticketService.lastStoreTicketRouterName])})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}goBack(){this.router.navigate([this.ticketService.lastStoreRouterDashboardName])}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(f.QS),e.Y36(U.K),e.Y36(v.u),e.Y36(et.G),e.Y36(_.FF),e.Y36(z.w),e.Y36(p.F0),e.Y36(Mo.n))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-quotation"]],viewQuery:function(o,a){if(1&o&&(e.Gf(Vo,7),e.Gf(Qo,7),e.Gf(Jo,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.isApproveReviewQuotationModalPopup=s.first),e.iGM(s=e.CRH())&&(a.isRejectedQuotationModalPopup=s.first),e.iGM(s=e.CRH())&&(a.successDataModalQuotation=s.first)}},inputs:{ticketInfo:"ticketInfo",quotationId:"quotationId",ticketId:"ticketId",viewQuationApproveReviewButtons:"viewQuationApproveReviewButtons",quotationObjectWorkFlow:"quotationObjectWorkFlow",quotationObjectFromTheDashbaordWorkFlowTable:"quotationObjectFromTheDashbaordWorkFlowTable"},features:[e.TTD],decls:151,vars:40,consts:[[1,"row","justify-content-center"],[1,"col-xxl-12"],["id","demo",1,"card"],[1,"row"],[1,"col-lg-12","text-center"],[1,"p-4"],[1,"text-center","mb-2"],["alt","logo light","height","47",1,"card-logo",3,"src"],[1,"mt-sm-0","mt-0"],[1,"text-muted","text-uppercase","fw-semibold","mb-0"],[1,"text-muted","mb-1"],["id","zip-code",1,"text-muted","mb-0"],["class","hstack gap-2 justify-content-end d-print-none mt-1 mb-2 ps-2 pe-2",4,"ngIf"],[1,"col-lg-12"],[1,"card-header","border-bottom-dashed","border-top-dashed","p-4"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1"],[1,"text-muted","text-uppercase","fw-semibold"],["id","address-details",1,"text-muted","mb-1"],[1,"flex-shrink-0","mt-sm-0","mt-3"],[1,"department-text"],[1,"text-muted","fw-normal"],["id","legal-register-no"],[2,"width","30px"],["id","invoice-no"],[1,"mt-1","p-2"],[1,"form-label","text-muted","text-uppercase","fw-semibold"],[1,"card-body","p-4"],[1,"row","g-3"],[1,"col-lg-12","col-12","mb-1"],[1,"text-muted","mb-2","text-uppercase","fw-semibold"],[1,"fs-14","mb-0"],[1,"col-lg-3","col-6"],[1,"fs-11"],[1,"fs-10"],["id","total-amount"],["class","table-responsive",4,"ngIf"],[1,"border-top","border-top-dashed","mt-2"],[1,"table","table-borderless","table-nowrap","align-middle","mb-0","ms-auto",2,"width","250px"],[1,"text-end"],[1,"border-top","border-top-dashed","fs-15"],["scope","row"],[1,"mt-4"],[1,"alert","alert-primary"],[1,"mb-0"],[1,"fw-semibold"],["id","note"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button",3,"click"],["isRejectedQuotationModalPopup",""],["isApproveReviewQuotationModalPopup",""],["successDataModalQuotation",""],[1,"hstack","gap-2","justify-content-end","d-print-none","mt-1","mb-2","ps-2","pe-2"],["type","button",1,"btn","btn-success","btn-label","waves-effect","waves-light",3,"click"],[1,"ri-check-double-line","label-icon","align-middle","fs-16","me-2"],["type","button",1,"btn","btn-danger","btn-label","waves-effect","waves-light",3,"click"],[1,"ri-error-warning-line","label-icon","align-middle","fs-16","me-2"],[1,"table-responsive"],[1,"table","table-borderless","text-center","table-nowrap","align-middle","mb-0"],[1,"table-active"],["scope","col",2,"width","50px"],["scope","col",1,"text-start"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-start"],[1,"fw-medium"],[1,"text-muted","mb-0","text-desc"],[1,"modal-content"],[1,"modal-body","p-5","text-center"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],[1,""],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4","text-justify"],[1,"text-muted","fs-15","mb-1","text-justify"],[1,"col-lg"],["for","remark",1,"form-label"],[1,"starRequried"],["id","exampleFormControlTextarea1","rows","4","placeholder","Enter your remark...",1,"form-control","bg-light","border-light",3,"ngModel","maxlength","ngModelChange"],[1,"nopadding","clrlbl"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"disabled","click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"],[1,"modal-body","text-center","p-5"],[1,"text-center"],[1,"mb-3","mt-4"],[1,"text-muted","fs-15","mb-4"],["class","text-muted fs-15 mb-4",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"h6",9),e._uU(10),e.qZA(),e.TgZ(11,"p",10),e._uU(12),e.qZA(),e.TgZ(13,"p",10),e._uU(14),e.qZA(),e.TgZ(15,"p",11)(16,"span"),e._uU(17,"Zip-code:"),e.qZA(),e._uU(18),e.qZA()()(),e.YNc(19,Ro,7,1,"div",12)(20,jo,4,0,"div",12),e.qZA(),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"h6",17),e._uU(26),e.qZA(),e.TgZ(27,"p",18),e._uU(28),e.qZA(),e.TgZ(29,"p",10),e._uU(30),e.qZA(),e.TgZ(31,"p",11)(32,"span"),e._uU(33,"Zip-code:"),e.qZA(),e._uU(34),e.qZA()(),e.TgZ(35,"div",19)(36,"table")(37,"tbody")(38,"tr")(39,"td",20)(40,"h6")(41,"span",21),e._uU(42),e.qZA()()(),e.TgZ(43,"td")(44,"h6")(45,"span",22),e._uU(46),e.qZA()()()(),e.TgZ(47,"tr")(48,"td",23)(49,"h6")(50,"span",21),e._uU(51,"Ticket No"),e.qZA()()(),e.TgZ(52,"td")(53,"h6")(54,"span",22),e._uU(55),e.qZA()()()(),e.TgZ(56,"tr")(57,"td",23)(58,"h6")(59,"span",21),e._uU(60,"Quotation No"),e.qZA()()(),e.TgZ(61,"td")(62,"h6")(63,"span",22),e._uU(64,"\xa0: \xa0 #"),e.TgZ(65,"span",24),e._uU(66),e.qZA()()()()()()()()()(),e.TgZ(67,"div",25)(68,"label",26),e._uU(69," Thank you for your inquiry. We are pleased to submit our quote as follows: "),e.qZA()()(),e.TgZ(70,"div",13)(71,"div",27)(72,"div",28)(73,"div",29)(74,"p",30),e._uU(75," Atten To "),e.qZA(),e.TgZ(76,"h5",31),e._uU(77),e.qZA()(),e.TgZ(78,"div",29)(79,"p",30),e._uU(80,"Title"),e.qZA(),e.TgZ(81,"h5",31),e._uU(82),e.qZA()(),e.TgZ(83,"div",32)(84,"p",30),e._uU(85,"Date"),e.qZA(),e.TgZ(86,"h5",31),e._uU(87),e.ALo(88,"date"),e.qZA()(),e.TgZ(89,"div",32)(90,"p",30),e._uU(91,"Status"),e.qZA(),e.TgZ(92,"span",33),e._uU(93),e.qZA()(),e.TgZ(94,"div",32)(95,"p",30),e._uU(96," Created By "),e.qZA(),e.TgZ(97,"h5",31),e._uU(98),e.qZA()(),e.TgZ(99,"div",32)(100,"p",30),e._uU(101," Total Amount "),e.TgZ(102,"span",34),e._uU(103),e.qZA()(),e.TgZ(104,"h5",31)(105,"span",35),e._uU(106),e.qZA()()()()()(),e.TgZ(107,"div",13)(108,"div",27),e.YNc(109,Fo,20,2,"div",36),e.TgZ(110,"div",37)(111,"table",38)(112,"tbody")(113,"tr")(114,"td"),e._uU(115,"Sub Total"),e.qZA(),e.TgZ(116,"td",39),e._uU(117),e.qZA()(),e.TgZ(118,"tr")(119,"td"),e._uU(120),e.qZA(),e.TgZ(121,"td",39),e._uU(122),e.qZA()(),e.TgZ(123,"tr")(124,"td"),e._uU(125),e.qZA(),e.TgZ(126,"td",39),e._uU(127),e.qZA()(),e.TgZ(128,"tr",40)(129,"th",41),e._uU(130,"Total Amount "),e.TgZ(131,"span",34),e._uU(132),e.qZA()(),e.TgZ(133,"th",39),e._uU(134),e.qZA()()()()(),e.TgZ(135,"div",42)(136,"div",43)(137,"p",44)(138,"span",45),e._uU(139,"NOTES:"),e.qZA(),e.TgZ(140,"span",46),e._uU(141),e.qZA()()()()()()()()(),e.TgZ(142,"div",47)(143,"button",48),e.NdJ("click",function(){return a.goBack()}),e._uU(144," Back "),e.qZA()()(),e.YNc(145,Eo,28,6,"ng-template",null,49,e.W1O)(147,Bo,28,6,"ng-template",null,50,e.W1O)(149,Ho,14,4,"ng-template",null,51,e.W1O)),2&o&&(e.xp6(7),e.Q6J("src",a.quotationObject.companyLogoURL?a.imgUrl+a.quotationObject.companyLogoURL:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij(" ",a.quotationObject.companyName," "),e.xp6(2),e.hij(" ",a.quotationObject.companyAddress1," "),e.xp6(2),e.lnq(" ",a.quotationObject.companyAddress2?a.quotationObject.companyAddress2:""," ",a.quotationObject.companyAddress3?a.quotationObject.companyAddress3:""," ",a.quotationObject.companyCountry?a.quotationObject.companyCountry:""," "),e.xp6(4),e.hij(" ",a.quotationObject.companyPostalCode," "),e.xp6(1),e.Q6J("ngIf",a.viewQuationApproveReviewButtons),e.xp6(1),e.Q6J("ngIf",a.viewQuationProcessInvoiceButtons),e.xp6(6),e.hij(" ",a.quotationObject.clientName," "),e.xp6(2),e.hij(" ",a.quotationObject.clientAddress1," "),e.xp6(2),e.lnq(" ",a.quotationObject.clientAddress2?a.quotationObject.clientAddress2:""," ",a.quotationObject.clientAddress3?a.quotationObject.clientAddress3:""," ",a.quotationObject.clientCountry?a.quotationObject.clientCountry:""," "),e.xp6(4),e.hij(" ",a.quotationObject.clientPostalCode," "),e.xp6(8),e.Oqu(a.isProject?"Project":"Department"),e.xp6(4),e.hij(" \xa0: \xa0",a.quotationObject.projectName,""),e.xp6(9),e.hij("\xa0: \xa0# ",a.quotationObject.ticketNo,""),e.xp6(11),e.Oqu(a.quotationObject.quotNo),e.xp6(11),e.hij(" ",a.quotationObject.attentionTo," "),e.xp6(5),e.hij(" ",a.quotationObject.quotTitle," "),e.xp6(5),e.hij(" ",e.xi3(88,37,a.quotationObject.createdDate,"dd-MM-YYY")," "),e.xp6(5),e.Tol(a.returnStatusBadgeClassesStatus(a.quotationObject.quotStatusId)),e.xp6(1),e.Oqu(a.quotationObject.quotStatusName),e.xp6(5),e.Oqu(a.quotationObject.createdBy),e.xp6(5),e.hij("(",null==a.departmentDetail?null:a.departmentDetail.currencyCode,")"),e.xp6(3),e.Oqu(a.quotationObject.totalPrice),e.xp6(3),e.Q6J("ngIf",0!=a.mX_quotationItem.length),e.xp6(8),e.Oqu(a.quotationObject.subTotal),e.xp6(3),e.hij("Discount (",a.quotationObject.discountRate,")"),e.xp6(2),e.Oqu(a.quotationObject.discountPrice),e.xp6(3),e.Oqu(a.quotationObject.serviceTaxType),e.xp6(2),e.Oqu(a.quotationObject.gstPrice),e.xp6(5),e.hij("(",null==a.departmentDetail?null:a.departmentDetail.currencyCode,")"),e.xp6(2),e.Oqu(a.quotationObject.totalPrice),e.xp6(7),e.hij(" ",a.quotationObject.remark," "))},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.nD,f.On,i.uU],styles:["@media only screen and (max-width: 600px){.text-desc[_ngcontent-%COMP%]{width:150px}}.department-text[_ngcontent-%COMP%]{width:30px}"]})}}return n})();var Ko=h(9478),zo=h(2373),$o=h(8210),ze=h(8868),it=h(9750),Xo=h(4398);function es(n,r){1&n&&(e.TgZ(0,"td",31),e._uU(1," Exp. Comp. Date "),e.qZA())}function ts(n,r){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.returnDate(t.mX_WorkOder.expectedComplitionDateTime)||"-"," ")}}function is(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),s=e.MAs(110);return e.KtG(a.openmodalUpdateDate(a.mX_WorkOder,s))}),e._uU(1,"Update Exp. Comp. Date "),e.qZA()}}function ns(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function as(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,is,2,0,"button",33)(2,ns,2,0,"span",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.updateLinkOfDateCom()),e.xp6(1),e.Q6J("ngIf",!t.updateLinkOfDateCom())}}function os(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",10)(2,"div",35)(3,"h6",36),e._uU(4,"Note For Member"),e.qZA(),e._UZ(5,"p",37),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("innerHTML",t.mX_WorkOder.addtionalNote,e.oJD)}}function ss(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-task-end-service-order",38),e.NdJ("afterSubmitServiceOrder",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getafterSubmitServiceOrder(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("mX_WorkOder",t.mX_WorkOder)("workorderId",t.mX_WorkOder.woId)("expectedComplitionDateTime",t.mX_WorkOder.expectedComplitionDateTime)("ticketWOStartEndTask",t.mx_WOStartEndTask)}}function rs(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",45),e._uU(3," No Member Assign "),e.qZA()(),e.BQk())}function ls(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",47)(2,"div",48),e._UZ(3,"img",49),e.TgZ(4,"div",50)(5,"a",51),e._uU(6),e.qZA()()()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",t.profileImageUrl?o.imgUrl+t.profileImageUrl:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij("",t.techName," "),e.xp6(2),e.Oqu(t.designationName),e.xp6(2),e.Oqu(t.phoneNumber)}}function cs(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ls,11,4,"tr",46),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mX_WOTechAssignment)}}function ds(n,r){if(1&n&&(e.TgZ(0,"div",39)(1,"div")(2,"h6",40),e._uU(3,"Member List"),e.qZA()()(),e.TgZ(4,"div",41)(5,"table",42)(6,"thead",43)(7,"tr")(8,"th",44),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th",44),e._uU(11,"Designation"),e.qZA(),e.TgZ(12,"th",44),e._uU(13,"Phone Number"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,rs,4,0,"ng-container",16)(16,cs,2,1,"ng-container",16),e.qZA()()()),2&n){const t=e.oxw();e.xp6(15),e.Q6J("ngIf",0==t.mX_WOTechAssignment.length),e.xp6(1),e.Q6J("ngIf",0!=t.mX_WOTechAssignment.length)}}function ps(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.clearChangeExpectedComplitionDate())}),e.qZA()}}function _s(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"h4",53),e._uU(2," Update Expected Completion Date "),e.qZA(),e.TgZ(3,"button",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",55),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",56)(7,"form",57)(8,"div",6)(9,"div",10)(10,"div",0)(11,"div",58)(12,"label",59),e._uU(13,"Expected Completion Date "),e.YNc(14,ps,1,0,"i",60),e.qZA(),e._UZ(15,"input",61),e.qZA()()()()()(),e.TgZ(16,"div",62)(17,"button",63),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("cancel"))}),e._uU(18," Close "),e.qZA(),e.TgZ(19,"button",64),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(20," Submit "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.updateDateForm),e.xp6(7),e.Q6J("ngIf",t.expectedComplitionDateTime.value),e.xp6(1),e.Q6J("altInput",!1)("enableTime",!1)("convertModelValue",!0)("dateFormat","d-m-Y")("minDate",t.minDate),e.xp6(4),e.Q6J("disabled",t.updateDateForm.invalid)}}const us=(n,r,t)=>({"bg-success ":n,"bg-danger":r,"bg-warning":t});let gs=(()=>{class n{constructor(t,o,a,s,l,g,G){this.commonFunctionService=t,this.modalService=o,this.maintenanceService=a,this.authAssetService=s,this.ticketService=l,this.formBuilder=g,this.datePipe=G,this.setUpdateListValue=new e.vpe,this.imgUrl=c.N.apiUrl,this.minDate=new Date}ngOnChanges(t){}ngOnInit(){}getafterSubmitServiceOrder(t){this.setUpdateListValue.emit(t)}openmodalUpdateDate(t,o){this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(a=>{this.submitModalData(t)},a=>{})}submitModalData(t){let o={TicketId:t.ticketId,WOId:t.woId,ExpectedComplitionDateTime:this.commonFunctionService.dateFormatter(this.expectedComplitionDateTime.value)};console.log("payload",o,"mX_WorkOder"),this.maintenanceService.updateExpCompletionDateTime(o).subscribe(a=>{this.success(a),this.setUpdateListValue.emit(a)},a=>{a&&this.openModaWaringConf(a)})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}buildForm(){this.updateDateForm=this.formBuilder.group({expectedComplitionDateTime:["",f.kI.required]})}get expectedComplitionDateTime(){return this.updateDateForm.get("expectedComplitionDateTime")}clearChangeExpectedComplitionDate(){this.expectedComplitionDateTime.reset()}updateLinkOfDateCom(){let t=!1;return t="Client User"!==this.authAssetService.getRole()&&(29==this.ticketData[0].ticketStatusId||30==this.ticketData[0].ticketStatusId||34==this.ticketData[0].ticketStatusId),t}openModaWaringConf(t){const o=this.modalService.open(ze.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title=t,o.componentInstance.subTitle="",o.result.then(a=>{})}returnDate(t){const o=new Date(t);return this.datePipe.transform(o,"dd-MM-yyyy")}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(U.K),e.Y36(_.FF),e.Y36(it.N),e.Y36(v.u),e.Y36(z.w),e.Y36(f.qu),e.Y36(i.uU))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-workorder-ticket"]],inputs:{mX_WOTechAssignment:"mX_WOTechAssignment",mX_WorkOder:"mX_WorkOder",mx_WOStartEndTask:"mx_WOStartEndTask",ticketData:"ticketData"},outputs:{setUpdateListValue:"setUpdateListValue"},features:[e.TTD],decls:111,vars:34,consts:[[1,"row"],[1,"col-xxl-3","stretch-card"],[1,"card","transparent-card"],[1,"card"],[1,"card-body","text-center"],[1,"card-title","mb-3","flex-grow-1","text-start"],[1,"mb-2"],["src","https://cdn.lordicon.com/kbtmbyzy.json","trigger","loop","colors","primary:#405189,secondary:#02a8b5",2,"width","90px","height","90px"],[1,"mb-1"],[1,"card","mb-3"],[1,"card-body"],[1,"table-card"],[1,"table","mb-0"],[1,"fw-medium"],[1,"badge","text-uppercase",3,"ngClass"],["class","fw-medium","title","Exp. Completion Date",4,"ngIf"],[4,"ngIf"],["colspan","2",4,"ngIf"],["c",""],[1,"col-xxl-9","stretch-card"],["class","card",4,"ngIf"],[1,"card-header"],["ngbNav","","role","tablist",1,"nav","nav-tabs-custom","rounded","card-header-tabs","border-bottom-0",3,"activeId"],["customNav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],["ngbNavContent",""],[1,"badge","align-middle","ms-1"],[1,"tab-content"],[3,"ngbNavOutlet"],["openModelUodateDate",""],["title","Exp. Completion Date",1,"fw-medium"],["colspan","2"],["class","btn btn-primary mb-0","href","javascript:void(0);",3,"click",4,"ngIf"],["href","javascript:void(0);",1,"btn","btn-primary","mb-0",3,"click"],[1,"text-muted"],[1,"fw-semibold","text-uppercase","mb-3"],[3,"innerHTML"],[3,"mX_WorkOder","workorderId","expectedComplitionDateTime","ticketWOStartEndTask","afterSubmitServiceOrder"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"card-title","mb-4","pb-2"],[1,"table-responsive","table-card"],[1,"table","align-middle","mb-0"],[1,"table-light","text-muted"],["scope","col"],["colspan","3",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle","avatar-xxs",3,"src"],[1,"flex-grow-1","ms-2"],["href","javascript:void(0);",1,"fw-medium"],[1,"modal-header","p-3","bg-info-subtle"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],[1,"form-label","mb-0"],["class","ri-close-circle-line text-danger",3,"click",4,"ngIf"],["type","text","placeholder","Enter Expected Completion Date ","formControlName","expectedComplitionDateTime","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"altInput","enableTime","convertModelValue","dateFormat","minDate"],[1,"modal-footer"],["type","button",1,"btn","btn","btn-outline-danger","mr-2","mb-2","mb-md-0",3,"click"],["type","button","ngbAutofocus","",1,"btn","btn-success","mr-2","mb-2","mb-md-0",3,"disabled","click"],[1,"ri-close-circle-line","text-danger",3,"click"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),e._uU(6,"Time Tracking"),e.qZA(),e.TgZ(7,"div",6),e._UZ(8,"lord-icon",7),e.qZA(),e.TgZ(9,"h6",8),e._uU(10),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11)(16,"table",12)(17,"tbody")(18,"tr")(19,"td",13),e._uU(20,"SO No"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td",13),e._uU(25,"Task Type"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA()(),e.TgZ(28,"tr")(29,"td",13),e._uU(30,"Service Type"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.qZA()(),e.TgZ(33,"tr")(34,"td",13),e._uU(35,"Support Type"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.qZA()(),e.TgZ(38,"tr")(39,"td",13),e._uU(40,"Ticket Type"),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.qZA()(),e.TgZ(43,"tr")(44,"td",13),e._uU(45,"Priority"),e.qZA(),e.TgZ(46,"td")(47,"span",14),e._uU(48),e.qZA()()(),e.TgZ(49,"tr")(50,"td",13),e._uU(51,"Created By"),e.qZA(),e.TgZ(52,"td"),e._uU(53),e.qZA()(),e.TgZ(54,"tr")(55,"td",13),e._uU(56,"Created Date"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA()(),e.TgZ(59,"tr"),e.YNc(60,es,2,0,"td",15)(61,ts,2,1,"td",16)(62,as,3,2,"td",17),e.qZA(),e.TgZ(63,"tr")(64,"td",13),e._uU(65,"Exp. Site Visit"),e.qZA(),e.TgZ(66,"td"),e._uU(67),e.qZA()(),e.TgZ(68,"tr")(69,"td",13),e._uU(70,"Started By"),e.qZA(),e.TgZ(71,"td"),e._uU(72),e.qZA()(),e.TgZ(73,"tr")(74,"td",13),e._uU(75,"Started Date"),e.qZA(),e.TgZ(76,"td"),e._uU(77),e.qZA()(),e.TgZ(78,"tr")(79,"td",13),e._uU(80,"Ended By"),e.qZA(),e.TgZ(81,"td",18),e._uU(82),e.qZA()(),e.TgZ(83,"tr")(84,"td",13),e._uU(85,"Ended Date"),e.qZA(),e.TgZ(86,"td"),e._uU(87),e.qZA()()()()()()()()(),e.TgZ(88,"div",19)(89,"div",2),e.YNc(90,os,6,1,"div",20),e.TgZ(91,"div",3)(92,"div",21)(93,"div")(94,"ul",22,23)(96,"li",24)(97,"a",25),e._uU(98," Task Details "),e.qZA(),e.YNc(99,ss,1,4,"ng-template",26),e.qZA(),e.TgZ(100,"li",24)(101,"a",25),e._uU(102," Assigned To "),e.TgZ(103,"span",27),e._uU(104),e.qZA()(),e.YNc(105,ds,17,2,"ng-template",26),e.qZA()()()(),e.TgZ(106,"div",10)(107,"div",28),e._UZ(108,"div",29),e.qZA()()()()()(),e.YNc(109,_s,21,8,"ng-template",null,30,e.W1O)),2&o){const s=e.MAs(95);e.xp6(10),e.Oqu(a.mX_WorkOder.timeTakenToCompleteTask),e.xp6(1),e.Tol(a.commonFunctionService.returnStatusBadgeClasses(a.mX_WorkOder.woStatusId)),e.xp6(1),e.Oqu(a.mX_WorkOder.woStatusName),e.xp6(10),e.Oqu(a.mX_WorkOder.woNo||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.taskType||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.operationType||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.supportType||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.ticketTypeName||"-"),e.xp6(5),e.Q6J("ngClass",e.kEZ(30,us,"Low"===a.mX_WorkOder.urgencyTypeName,"High"===a.mX_WorkOder.urgencyTypeName,"Medium"===a.mX_WorkOder.urgencyTypeName)),e.xp6(1),e.Oqu(a.mX_WorkOder.urgencyTypeName||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.createdBy||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.createdDate||"-"),e.xp6(2),e.Q6J("ngIf",a.mX_WorkOder.expectedComplitionDateTime),e.xp6(1),e.Q6J("ngIf",a.mX_WorkOder.expectedComplitionDateTime),e.xp6(1),e.Q6J("ngIf",!a.mX_WorkOder.expectedComplitionDateTime),e.xp6(5),e.AsE(" ",a.mX_WorkOder.expWrkStartDate," ",a.mX_WorkOder.expWrkStartTime||"-"," "),e.xp6(5),e.Oqu(a.mX_WorkOder.taskStartByName||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.taskStartDateTime||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.taskEndByName||"-"),e.xp6(5),e.Oqu(a.mX_WorkOder.taskEndDateTime||"-"),e.xp6(3),e.Q6J("ngIf",a.mX_WorkOder.addtionalNote),e.xp6(4),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(3),e.Tol(0!=a.mX_WOTechAssignment.length?"bg-danger":"bg-success"),e.xp6(1),e.Oqu(a.mX_WOTechAssignment.length),e.xp6(4),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,K.as,Xo.$],styles:[".table-card[_ngcontent-%COMP%]{min-height:400px;overflow-y:scroll}.transparent-card[_ngcontent-%COMP%]{border:none;background:none;color:transparent;box-shadow:0 0 0 transparent}.card[_ngcontent-%COMP%]{height:100%}"]})}}return n})();const ms=["isQuotationGenerateFalse"],hs=["isQuotationGenerateTrue"],bs=["isQuotationGenerateMessageForQuotationPending"],fs=["isQuotationGenerateMessageForApprove"],Ts=["isQuotationGenerateMessageForQuotationInReview"],vs=["isNoBillingEligibilityDecision"],Cs=["isYesBillingEligibilityDecision"],xs=["successDataModalIsBilling"],ks=["iscloseTicketModalPopup"],ws=["isAcknowledgeTicketModalPopup"],Ds=["isVerifyTicketModalPopup"],As=["customNav"],Ss=["defaultNav"],Zs=["scrollframeGlobal"],Is=["scrollframe"],ys=["videoPlayer"];function qs(n,r){if(1&n&&(e.TgZ(0,"div",21)(1,"div")(2,"h4",37),e._uU(3),e.qZA()()()),2&n){const t=r.$implicit;e.xp6(3),e.hij(" ",(null==t?null:t.ticketTitle)||"NA"," ")}}function Ns(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"app-flow-chart-with-digram",39),e.NdJ("sendToActivingForTab",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openTheActiveTab(a))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("isBillingRequired",null==(null==t.ticketData[0]?null:t.ticketData[0].isBillingRequired)?"null":!0===(null==t.ticketData[0]?null:t.ticketData[0].isBillingRequired)?"true":"false")("isGlobal",null!=t.ticketData[0]&&t.ticketData[0].isGlobal?"true":"false")("ticketStatusId",null==t.ticketData[0]?null:t.ticketData[0].ticketStatusId)("SeviceType",0!=t.ticketReportIncident.length&&t.ticketData?"Incident":"Service")("incindetTechSignImageURL",null==t.ticketReportIncident[0]?null:t.ticketReportIncident[0].incindetTechSignImageURL)("incindetClientSignImageURL",null==t.ticketReportIncident[0]?null:t.ticketReportIncident[0].incindetClientSignImageURL)("workFlowRequired",t.maintenanceWorkflowAuditList)}}function Ls(n,r){if(1&n&&e._UZ(0,"p",65),2&n){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.issueDescription,e.oJD)}}function Us(n,r){1&n&&(e.TgZ(0,"p",66),e._uU(1," No Ticket Description "),e.qZA())}function Os(n,r){if(1&n&&(e.TgZ(0,"div",59)(1,"h6",60),e._uU(2," Ticket Verified Remark "),e.qZA(),e.TgZ(3,"p",66),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.ticketVerifiedRemark)}}function Ms(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",68)(2,"div",69)(3,"h5",70),e._uU(4),e.qZA(),e.TgZ(5,"p",71)(6,"b"),e._UZ(7,"i",72),e._uU(8),e.qZA()(),e.TgZ(9,"p",71),e._UZ(10,"i",73),e._uU(11),e.qZA(),e.TgZ(12,"p",74),e._UZ(13,"i",75),e._uU(14),e.qZA(),e.TgZ(15,"p",76),e._UZ(16,"i",77),e._uU(17),e.qZA()()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("@blink",o.blinkStateInternal),e.xp6(3),e.hij(" Acknowledge By ",t.companyName," "),e.xp6(4),e.hij(" ",t.ticketAcknoledgeBy," "),e.xp6(3),e.hij(" ",t.ticketAcknoledgeDesig," "),e.xp6(3),e.hij(" ",t.ticketAcknoledgeDateTime," "),e.xp6(3),e.hij(" ",t.ticketAcknoledgeRemark," ")}}function Vs(n,r){if(1&n&&(e.TgZ(0,"h5",70),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Acknowledge By ",t.clientName," ")}}function Qs(n,r){if(1&n&&(e.TgZ(0,"h5",70),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" Acknowledge By ",t.companyName," ")}}function Js(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",68)(2,"div",69),e.YNc(3,Vs,2,1,"h5",78)(4,Qs,2,1,"h5",78),e.TgZ(5,"p",71)(6,"b"),e._UZ(7,"i",72),e._uU(8),e.qZA()(),e.TgZ(9,"p",71),e._UZ(10,"i",73),e._uU(11),e.qZA(),e.TgZ(12,"p",74),e._UZ(13,"i",75),e._uU(14),e.qZA(),e.TgZ(15,"p",76),e._UZ(16,"i",77),e._uU(17),e.qZA()()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("@blink2",o.blinkStateClient),e.xp6(2),e.Q6J("ngIf",t.isGlobal),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(4),e.hij(" ",t.ticketClosedBy," "),e.xp6(3),e.hij(" ",t.ticketClosedDesig," "),e.xp6(3),e.hij(" ",t.ticketClosedDateTime," "),e.xp6(3),e.hij(" ",t.ticketClosedRemark," ")}}function Rs(n,r){if(1&n&&(e.TgZ(0,"div",58)(1,"div",34)(2,"div",59)(3,"h6",60),e._uU(4," Ticket Description "),e.qZA(),e.YNc(5,Ls,1,1,"p",61)(6,Us,2,0,"p",62),e.qZA(),e.YNc(7,Os,5,1,"div",63)(8,Ms,18,6,"div",64)(9,Js,18,7,"div",64),e.qZA()()),2&n){const t=r.$implicit;e.xp6(5),e.Q6J("ngIf",t.issueDescription),e.xp6(1),e.Q6J("ngIf",!t.issueDescription),e.xp6(1),e.Q6J("ngIf",t.ticketVerifiedRemark),e.xp6(1),e.Q6J("ngIf",t.ticketAcknoledgeRemark),e.xp6(1),e.Q6J("ngIf",t.ticketClosedRemark)}}function js(n,r){1&n&&(e.TgZ(0,"div",84),e._UZ(1,"img",85),e.qZA())}function Ps(n,r){if(1&n&&(e.TgZ(0,"div",91)(1,"div",92),e._UZ(2,"img",93),e.qZA(),e.TgZ(3,"div",94)(4,"h5",95),e._uU(5),e.TgZ(6,"small",96),e._uU(7),e.qZA()(),e.TgZ(8,"p",96),e._uU(9),e.qZA()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(7);e.xp6(2),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(3),e.hij(" ",t.msgByName," "),e.xp6(2),e.Oqu(t.createDateTime),e.xp6(2),e.hij(" ",t.messageContain," ")}}function Fs(n,r){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98)(2,"div",99),e._UZ(3,"img",93),e.qZA(),e.TgZ(4,"div",100)(5,"h5",95),e._uU(6),e.TgZ(7,"small",96),e._uU(8),e.qZA()(),e.TgZ(9,"p",96),e._uU(10),e.qZA()()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(7);e.xp6(3),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(3),e.hij(" ",t.msgByName," "),e.xp6(2),e.hij("",t.createDateTime," "),e.xp6(2),e.hij(" ",t.messageContain," ")}}function Es(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ps,10,5,"div",89)(2,Fs,11,5,"div",90),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",0==t.isClient),e.xp6(1),e.Q6J("ngIf",1==t.isClient)}}function Bs(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",86,87),e.YNc(3,Es,3,2,"ng-container",88),e.qZA()()),2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("ngForOf",t.ticketDisscusionArrayListGlobal)}}function Gs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"div",102)(2,"div",17)(3,"label",103),e._uU(4,"Leave a Comments"),e.qZA(),e.TgZ(5,"textarea",104),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw(6);return e.KtG(s.MessageContainGlobal=a)}),e.qZA(),e.TgZ(6,"label",105),e._uU(7),e.qZA()(),e.TgZ(8,"div",106)(9,"a",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(6);return e.KtG(a.submitChatGlobal())}),e._uU(10,"Post Comments"),e.qZA()()()()}if(2&n){const t=e.oxw(6);e.xp6(5),e.Q6J("maxlength",t.maxCharMessage)("ngModel",t.MessageContainGlobal),e.xp6(2),e.AsE(" Characters Remaining: ",t.MessageContainGlobal.length,"/",t.maxCharMessage,"")}}function Ys(n,r){if(1&n&&(e.TgZ(0,"div",80)(1,"h5",81),e._uU(2," Discussion "),e.qZA(),e.YNc(3,js,2,0,"div",82)(4,Bs,4,1,"div",1)(5,Gs,11,4,"div",83),e.qZA()),2&n){const t=e.oxw(5);e.xp6(3),e.Q6J("ngIf",0==t.ticketDisscusionArrayListGlobal.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketDisscusionArrayListGlobal.length),e.xp6(1),e.Q6J("ngIf",32!=(null==t.ticketData[0]?null:t.ticketData[0].ticketStatusId)&&19!=(null==t.ticketData[0]?null:t.ticketData[0].ticketStatusId))}}function Hs(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",44)(2,"a",45),e._UZ(3,"i",79),e._uU(4," Discussion "),e.qZA(),e.YNc(5,Ys,6,3,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",1))}function Ws(n,r){1&n&&(e.TgZ(0,"div",84),e._UZ(1,"img",85),e.qZA())}function Ks(n,r){if(1&n&&(e.TgZ(0,"div",91)(1,"div",92),e._UZ(2,"img",93),e.qZA(),e.TgZ(3,"div",94)(4,"h5",95),e._uU(5),e.TgZ(6,"small",96),e._uU(7),e.qZA()(),e.TgZ(8,"p",96),e._uU(9),e.qZA()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(7);e.xp6(2),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(3),e.hij(" ",t.msgByName," "),e.xp6(2),e.Oqu(t.createDateTime),e.xp6(2),e.hij(" ",t.messageContain," ")}}function zs(n,r){if(1&n&&(e.TgZ(0,"div",97)(1,"div",98)(2,"div",99),e._UZ(3,"img",93),e.qZA(),e.TgZ(4,"div",100)(5,"h5",95),e._uU(6),e.TgZ(7,"small",96),e._uU(8),e.qZA()(),e.TgZ(9,"p",96),e._uU(10),e.qZA()()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(7);e.xp6(3),e.hYB("src","",o.imageUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(3),e.hij(" ",t.msgByName," "),e.xp6(2),e.hij("",t.createDateTime," "),e.xp6(2),e.hij(" ",t.messageContain," ")}}function $s(n,r){if(1&n&&(e.ynx(0,null,110),e.YNc(2,Ks,10,5,"div",89)(3,zs,11,5,"div",90),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("ngIf",0==t.isClient),e.xp6(1),e.Q6J("ngIf",1==t.isClient)}}function Xs(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",86,109),e.YNc(3,$s,4,2,"ng-container",88),e.qZA()()),2&n){const t=e.oxw(6);e.xp6(3),e.Q6J("ngForOf",t.ticketDisscusionArrayList)}}function er(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",101)(1,"div",102)(2,"div",17)(3,"label",103),e._uU(4,"Leave a Comments"),e.qZA(),e.TgZ(5,"textarea",104),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw(6);return e.KtG(s.MessageContain=a)}),e.qZA(),e.TgZ(6,"label",105),e._uU(7),e.qZA()(),e.TgZ(8,"div",106)(9,"a",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(6);return e.KtG(a.submitChat())}),e._uU(10,"Post Comments"),e.qZA()()()()}if(2&n){const t=e.oxw(6);e.xp6(5),e.Q6J("maxlength",t.maxCharMessage)("ngModel",t.MessageContain),e.xp6(2),e.AsE(" Characters Remaining: ",t.MessageContain.length,"/",t.maxCharMessage,"")}}function tr(n,r){if(1&n&&(e.TgZ(0,"div",80)(1,"h5",81),e._uU(2," Discussion "),e.qZA(),e.YNc(3,Ws,2,0,"div",82)(4,Xs,4,1,"div",1)(5,er,11,4,"div",83),e.qZA()),2&n){const t=e.oxw(5);e.xp6(3),e.Q6J("ngIf",0==t.ticketDisscusionArrayList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketDisscusionArrayList.length),e.xp6(1),e.Q6J("ngIf",32!=(null==t.ticketData[0]?null:t.ticketData[0].ticketStatusId)&&19!=(null==t.ticketData[0]?null:t.ticketData[0].ticketStatusId))}}function ir(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",44)(2,"a",45),e._UZ(3,"i",108),e._uU(4," Internal Discussion "),e.qZA(),e.YNc(5,tr,6,3,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",2))}function nr(n,r){if(1&n){const t=e.EpF();e.YNc(0,Rs,10,5,"div",53),e._UZ(1,"div",54),e.TgZ(2,"ul",55,56),e.NdJ("navChange",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.onNavChange(a))}),e.YNc(4,Hs,6,1,"ng-container",1)(5,ir,6,1,"ng-container",1),e.qZA(),e.TgZ(6,"div",57),e._UZ(7,"div",36),e.qZA()}if(2&n){const t=e.MAs(3),o=e.oxw(3);e.Q6J("ngForOf",o.ticketData),e.xp6(2),e.Q6J("activeId",o.mainDiscussion),e.xp6(2),e.Q6J("ngIf",o.shownOffGlobalChat),e.xp6(1),e.Q6J("ngIf",o.shownOffInternalChat),e.xp6(2),e.Q6J("ngbNavOutlet",t)}}function ar(n,r){if(1&n&&(e.TgZ(0,"div",34)(1,"div",111),e._UZ(2,"app-view-incident-ticket",112),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("incidentList",t.ticketReportIncident[0])("ticketData",t.ticketData)}}function or(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",44)(2,"a",45)(3,"div",46)(4,"p",47),e._uU(5,"Incident"),e.qZA()()(),e.YNc(6,ar,3,2,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",2))}function sr(n,r){if(1&n&&e._UZ(0,"app-audit-chart",114),2&n){const t=e.oxw(4);e.Q6J("Data",t.maintenanceWorkflowAuditList)}}function rr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",44)(2,"a",45)(3,"div",46)(4,"p",113),e._uU(5," WorkFlow Audit "),e.qZA()()(),e.YNc(6,sr,1,1,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",3))}function lr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"img",119),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw(5);return e.KtG(l.openAllCopyPasteImage(l.selectePasteUplaodArray,s))}),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(5);e.xp6(1),e.Q6J("src",o.imageUrl+t.imageUrl,e.LSH)}}function cr(n,r){if(1&n&&(e.TgZ(0,"div",116),e.YNc(1,lr,2,1,"div",117),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.selectePasteUplaodArray)}}function dr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.getV2_TicketImagesList(a.storeTicketId))}),e.TgZ(2,"a",45)(3,"div",46)(4,"p",113),e._uU(5,"Gallery"),e.qZA()()(),e.YNc(6,cr,2,1,"ng-template",32),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("ngbNavItem",4))}function pr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",124),e._uU(3," No File Data "),e.qZA()(),e.BQk())}function _r(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",125)(2,"a",126),e._uU(3),e.qZA()(),e.TgZ(4,"td",127)(5,"i",128),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(6);return e.KtG(l.downloadFIle(s))}),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.Oqu(t.fileName)}}function ur(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_r,6,1,"tr",88),e.BQk()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.selectedTicketDocumentArray)}}function gr(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",120)(2,"div",121)(3,"table",122)(4,"thead")(5,"tr",123)(6,"th"),e._uU(7,"File Name"),e.qZA(),e._UZ(8,"th"),e.qZA()(),e.TgZ(9,"tbody"),e.YNc(10,pr,4,0,"ng-container",1)(11,ur,2,1,"ng-container",1),e.qZA()()()()()),2&n){const t=e.oxw(4);e.xp6(10),e.Q6J("ngIf",0==t.selectedTicketDocumentArray.length),e.xp6(1),e.Q6J("ngIf",0!=t.selectedTicketDocumentArray.length)}}function mr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.getV2_TicketDocument(a.storeTicketId))}),e.TgZ(2,"a",45)(3,"div",46)(4,"p",113),e._uU(5,"Documents"),e.qZA()()(),e.YNc(6,gr,12,2,"ng-template",32),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("ngbNavItem",5))}function hr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",118)(1,"video",129),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(5),g=e.MAs(29);return e.KtG(l.openModaVideeo(s,g))}),e._UZ(2,"source",130),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(5);e.xp6(2),e.Q6J("src",o.imageUrl+t.fileURL,e.LSH)}}function br(n,r){if(1&n&&(e.TgZ(0,"div",116),e.YNc(1,hr,3,1,"div",117),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.selecteTicketVideoArray)}}function fr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.getV2_TicketVideo(a.storeTicketId))}),e.TgZ(2,"a",45)(3,"div",46)(4,"p",47),e._uU(5,"Video"),e.qZA()()(),e.YNc(6,br,2,1,"ng-template",32),e.qZA(),e.BQk()}2&n&&(e.xp6(1),e.Q6J("ngbNavItem",6))}function Tr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",146)(2,"button",147),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openModalIsYesBillingEligibilityDecision())}),e._UZ(3,"i",148),e._uU(4," Yes,Billable "),e.qZA(),e.TgZ(5,"button",149),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openModalIsNoBillingEligibilityDecision())}),e._UZ(6,"i",150),e._uU(7," No,Billable "),e.qZA()(),e.BQk()}}function vr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",152),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5),s=e.MAs(3);return e.KtG(a.openRequestBillingEligibilityModalUp(s))}),e._uU(1," Request Billing Eligibility "),e.qZA()}}function Cr(n,r){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,vr,2,0,"button",151),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isGlobal)}}function xr(n,r){if(1&n&&(e.TgZ(0,"span",153)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",!0===(null==t?null:t.isBillingRequired)?"Billable":"Not Billable","")}}function kr(n,r){1&n&&(e.TgZ(0,"span",155),e._uU(1,"Internal Ticket"),e.qZA())}function wr(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",137),e._uU(2,"Internal/Global"),e.qZA(),e.TgZ(3,"td"),e.YNc(4,kr,2,0,"span",154),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.Q6J("ngIf",!(null!=t&&t.isGlobal))}}function Dr(n,r){if(1&n&&(e.TgZ(0,"span",156),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",(null==t?null:t.urgencyTypeName)||"-"," ")}}function Ar(n,r){if(1&n&&(e.TgZ(0,"span",157),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",(null==t?null:t.urgencyTypeName)||"-"," ")}}function Sr(n,r){if(1&n&&(e.TgZ(0,"span",158),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",(null==t?null:t.urgencyTypeName)||"-"," ")}}function Zr(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",137),e._uU(2,"Verified By"),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.ticketVerifiedBy," ")}}function Ir(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",137),e._uU(2," Ticket Verified Date Time "),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",t.ticketVerifiedDateTime," ")}}function yr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",159)(1,"button",160),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.closeTicketModalPopup())}),e._uU(2," Ticket Close "),e.qZA()()}}function qr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",159)(1,"button",160),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.acknowledgeTicketModalPopup())}),e._uU(2," Acknowledge "),e.qZA()()}}function Nr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",159)(1,"button",160),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.verifyTicketModalPopup())}),e._uU(2," Verify "),e.qZA()()}}function Lr(n,r){if(1&n&&(e.TgZ(0,"div",131)(1,"div",132)(2,"h5",133),e._uU(3,"Ticket Details"),e.qZA(),e.YNc(4,Tr,8,0,"ng-container",1),e.ynx(5),e.YNc(6,Cr,2,1,"span",1),e.BQk(),e.qZA(),e.TgZ(7,"div",58),e.YNc(8,xr,3,1,"span",134),e.TgZ(9,"div",135)(10,"table",136)(11,"tbody")(12,"tr")(13,"td",137),e._uU(14,"Ticket No"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td",137),e._uU(19,"Company"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()(),e.TgZ(22,"tr")(23,"td",137),e._uU(24,"Client"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA()(),e.TgZ(27,"tr")(28,"td",137),e._uU(29,"Project"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA()(),e.YNc(32,wr,5,1,"tr",1),e.TgZ(33,"tr")(34,"td",137),e._uU(35,"Service Type"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.qZA()(),e.TgZ(38,"tr")(39,"td",137),e._uU(40,"Ticket Type"),e.qZA(),e.TgZ(41,"td",138),e._uU(42),e.qZA()(),e.TgZ(43,"tr")(44,"td",137),e._uU(45,"Ticket Category"),e.qZA(),e.TgZ(46,"td"),e._uU(47),e.qZA()(),e.TgZ(48,"tr")(49,"td",137),e._uU(50,"Created By"),e.qZA(),e.TgZ(51,"td"),e._uU(52),e.TgZ(53,"p",139),e._UZ(54,"i",140),e._uU(55),e.qZA()()(),e.TgZ(56,"tr")(57,"td",137),e._uU(58,"Created Date"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.qZA()(),e.TgZ(61,"tr")(62,"td",137),e._uU(63,"Priority"),e.qZA(),e.TgZ(64,"td"),e.YNc(65,Dr,2,1,"span",141)(66,Ar,2,1,"span",142)(67,Sr,2,1,"span",143),e.qZA()(),e.TgZ(68,"tr")(69,"td",137),e._uU(70,"Status"),e.qZA(),e.TgZ(71,"td")(72,"span",144),e._uU(73),e.qZA()()(),e.YNc(74,Zr,5,1,"tr",1)(75,Ir,5,1,"tr",1),e.qZA()()()(),e.YNc(76,yr,3,0,"div",145)(77,qr,3,0,"div",145)(78,Nr,3,0,"div",145),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(4),e.Q6J("ngIf",51==o.ticketData[0].ticketStatusId),e.xp6(2),e.Q6J("ngIf",48==(null==t?null:t.ticketStatusId)&&null==(null==t?null:t.isBillingRequired)),e.xp6(2),e.Q6J("ngIf",null!=(null==t?null:t.isBillingRequired)),e.xp6(8),e.hij("# ",(null==t?null:t.ticketNo)||"NA",""),e.xp6(5),e.Oqu((null==t?null:t.companyName)||"NA"),e.xp6(5),e.Oqu((null==t?null:t.clientName)||"NA"),e.xp6(5),e.Oqu((null==t?null:t.projectName)||"NA"),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isGlobal)),e.xp6(5),e.Oqu((null==t?null:t.operationType)||"NA"),e.xp6(5),e.hij(" ",1==(null==t?null:t.isDeviceRelated)?"Hardware":"Non-Hardware"," "),e.xp6(5),e.Oqu((null==t?null:t.ticketTypeName)||"NA"),e.xp6(5),e.hij(" ",(null==t?null:t.requesterName)||"NA"," "),e.xp6(3),e.hij(" ",(null==t?null:t.requesterEmail)||"NA"," "),e.xp6(5),e.Oqu((null==t?null:t.createdDate)||"NA"),e.xp6(5),e.Q6J("ngIf","High"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Low"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Medium"==(null==t?null:t.urgencyTypeName)),e.xp6(5),e.Tol(o.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(1),e.Q6J("ngIf",t.ticketVerifiedBy),e.xp6(1),e.Q6J("ngIf",t.ticketVerifiedDateTime),e.xp6(1),e.Q6J("ngIf",o.updateTicketCloseVisiable),e.xp6(1),e.Q6J("ngIf",o.updateTicketAcknowledgeVisiable),e.xp6(1),e.Q6J("ngIf",o.shownVerifyButton)}}function Ur(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",40)(2,"div",41)(3,"ul",42,43)(5,"li",44)(6,"a",45)(7,"div",46)(8,"p",47),e._uU(9,"Ticket"),e.qZA()()(),e.YNc(10,nr,8,5,"ng-template",32),e.qZA(),e.YNc(11,or,7,1,"ng-container",1)(12,rr,7,1,"ng-container",1)(13,dr,7,1,"ng-container",1)(14,mr,7,1,"ng-container",1)(15,fr,7,1,"ng-container",1),e.qZA(),e.TgZ(16,"div",35),e._UZ(17,"div",36),e.qZA()()(),e.TgZ(18,"div",48),e.YNc(19,Lr,79,25,"div",49),e.qZA(),e.TgZ(20,"div",50)(21,"div",51)(22,"button",52),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.goBack())}),e._uU(23," Back "),e.qZA()()()()}if(2&n){const t=e.MAs(4),o=e.oxw(2);e.xp6(3),e.Q6J("activeId",o.defaultNavActiveId?o.defaultNavActiveId:1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(6),e.Q6J("ngIf",0!=o.ticketReportIncident.length),e.xp6(1),e.Q6J("ngIf",0!=(null==o.maintenanceWorkflowAuditList?null:o.maintenanceWorkflowAuditList.length)),e.xp6(1),e.Q6J("ngIf",0!=(null==o.selectePasteUplaodArray?null:o.selectePasteUplaodArray.length)),e.xp6(1),e.Q6J("ngIf",0!=(null==o.selectedTicketDocumentArray?null:o.selectedTicketDocumentArray.length)),e.xp6(1),e.Q6J("ngIf",0!=(null==o.selecteTicketVideoArray?null:o.selecteTicketVideoArray.length)),e.xp6(2),e.Q6J("ngbNavOutlet",t),e.xp6(2),e.Q6J("ngForOf",o.ticketData)}}function Or(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",41)(2,"div",58)(3,"div",161)(4,"h5",162),e._uU(5,"Assets List"),e.qZA()(),e.TgZ(6,"div",34)(7,"div",17)(8,"div",41)(9,"div",58)(10,"app-view-asset-ticket",163),e.NdJ("updateStatusAssetList",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.getupdateStatusAssetList(a))}),e.qZA()()()()()()()()}if(2&n){const t=e.oxw(3);e.xp6(10),e.Q6J("ticketData",t.ticketData)("assetList",t.assetTicketItem)("mX_WorkOder",t.ticketWorkOder)}}function Mr(n,r){1&n&&(e.TgZ(0,"li",30)(1,"a",31),e._uU(2," Assets "),e.qZA(),e.YNc(3,Or,11,3,"ng-template",32),e.qZA()),2&n&&e.Q6J("ngbNavItem",2)}function Vr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-view-workorder-ticket",164),e.NdJ("setUpdateListValue",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.getUpdateListValue(a))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("mX_WOTechAssignment",t.ticketWOTechAssignment)("mX_WorkOder",t.ticketWorkOder)("mx_WOStartEndTask",t.ticketWOStartEndTask)("ticketData",t.ticketData)}}function Qr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",30)(2,"a",31),e._uU(3," Service Order "),e.qZA(),e.YNc(4,Vr,1,4,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",3))}function Jr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-add-quotation",165),e.NdJ("submitAfterQuotation",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.getResponseAfterSubmitQuotation(a))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ticketInfo",t.ticketData[0])}}function Rr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",30)(2,"a",31),e._uU(3," Generate Quotation "),e.qZA(),e.YNc(4,Jr,1,1,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",4))}function jr(n,r){1&n&&(e.TgZ(0,"ng-conainter"),e._uU(1," Generate Service Order"),e.qZA())}function Pr(n,r){1&n&&(e.TgZ(0,"ng-conainter"),e._uU(1," Assign Member & Site Visit Date Time"),e.qZA())}function Fr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-add-service-order",166),e.NdJ("submitAfterGernateServiceOrder",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.getSubmitAfterGernateServiceOrderValue(a))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ticketInfo",t.ticketData[0])("serviceOrderDetailOnlyObject",t.serviceOrderDetailOnlyObject)}}function Er(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"li",30)(2,"a",31),e.YNc(3,jr,2,0,"ng-conainter",1)(4,Pr,2,0,"ng-conainter",1),e.qZA(),e.YNc(5,Fr,1,2,"ng-template",32),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngbNavItem",5),e.xp6(2),e.Q6J("ngIf",t.siteVisitDateTimeValue),e.xp6(1),e.Q6J("ngIf",!t.siteVisitDateTimeValue)}}function Br(n,r){if(1&n&&e._UZ(0,"app-view-quotation",167),2&n){const t=e.oxw(3);e.Q6J("ticketInfo",t.ticketData[0])("quotationObjectWorkFlow",t.quotationObjectWorkFlow)("viewQuationApproveReviewButtons",t.viewQuationApproveReviewButtons)("ticketId",t.quotationObjectWorkFlow?0:t.storeTicketId)("quotationId",t.quotationObjectWorkFlow?t.quotationObjectWorkFlow.quotId:0)("quotationObjectFromTheDashbaordWorkFlowTable",t.quotationObjectFromTheDashbaordWorkFlowTable)}}function Gr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",30)(2,"a",31),e._uU(3," View Quotation Details "),e.qZA(),e.YNc(4,Br,1,6,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",6))}function Yr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",170)(2,"button",171),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.nextQuotation())}),e._uU(3," Pervious "),e.qZA(),e.TgZ(4,"h6",172),e._uU(5),e.qZA(),e.TgZ(6,"button",171),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.previousQuotation())}),e._uU(7," Next "),e.qZA()()()}if(2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("disabled",1==t.quotationCount),e.xp6(3),e.AsE(" ",t.quotationCount,"/",t.totalQuotationCount," "),e.xp6(1),e.Q6J("disabled",t.quotationCount==t.totalQuotationCount)}}function Hr(n,r){if(1&n&&(e.YNc(0,Yr,8,4,"div",168),e._UZ(1,"app-view-quotation-ticket",169)),2&n){const t=e.oxw(3);e.Q6J("ngIf",1!=t.totalQuotationCount),e.xp6(1),e.Q6J("ticketInfo",t.ticketData)("quotationObject",t.ticketQuotation)("mX_quotationItem",t.ticketQuotationItem)}}function Wr(n,r){1&n&&(e.ynx(0),e.TgZ(1,"li",30)(2,"a",31),e._uU(3," Reject View Quotation Details "),e.qZA(),e.YNc(4,Hr,2,4,"ng-template",32),e.qZA(),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngbNavItem",7))}function Kr(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21)(7,"div",22),e.YNc(8,qs,4,1,"div",23),e.TgZ(9,"div",24)(10,"a",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.refreshThePage())}),e._UZ(11,"i",26),e.qZA()(),e.YNc(12,Ns,2,7,"div",27),e.qZA()()(),e.TgZ(13,"ul",28,29)(15,"li",30)(16,"a",31),e._uU(17," Ticket "),e.qZA(),e.YNc(18,Ur,24,9,"ng-template",32),e.qZA(),e.YNc(19,Mr,4,1,"li",33)(20,Qr,5,1,"ng-container",1)(21,Rr,5,1,"ng-container",1)(22,Er,6,3,"ng-container",1)(23,Gr,5,1,"ng-container",1)(24,Wr,5,1,"ng-container",1),e.qZA()()()()(),e.TgZ(25,"div",34)(26,"div",17)(27,"div",35),e._UZ(28,"div",36),e.qZA()()(),e.BQk()}if(2&n){const t=e.MAs(14),o=e.oxw();e.xp6(8),e.Q6J("ngForOf",o.ticketData),e.xp6(4),e.Q6J("ngIf",0!=o.ticketData.length),e.xp6(1),e.Q6J("activeId",o.activeId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngIf",0!=o.assetTicketItem.length),e.xp6(1),e.Q6J("ngIf",0!=(null==o.ticketWorkOder?null:o.ticketWorkOder.length)&&o.siteVisitDateTimeValue),e.xp6(1),e.Q6J("ngIf",o.generateQuotationTabShown),e.xp6(1),e.Q6J("ngIf",o.generateServiceOrderTabShown),e.xp6(1),e.Q6J("ngIf",o.viewQuotationTabShown&&o.shownQuotation&&(null==o.ticketData[0]?null:o.ticketData[0].isBillingRequired)),e.xp6(1),e.Q6J("ngIf",o.rejectViewQuotation),e.xp6(4),e.Q6J("ngbNavOutlet",t)}}function zr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",179),e._uU(8,"Are you sure you would like to proceed?"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," You are requesting billing eligibility review for this ticket by an Account Manager. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"p",181),e._uU(13," If the Billing eligibility workflow is available, the request will be escalated to the respective Project Account Manager for verification. "),e._UZ(14,"br")(15,"br"),e._uU(16,"Once the Account Manager verifies it, you will receive a notification. "),e.qZA(),e.TgZ(17,"div",182)(18,"button",183),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.successAfterRequstedBilling(a.storeTicketId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(19," Yes,Processed It! "),e.qZA(),e.TgZ(20,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(21,"i",185),e._uU(22," Close "),e.qZA()()()()()}}function $r(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",186)(2,"button",187),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",84)(4,"div",101)(5,"div",188)(6,"div",189),e._UZ(7,"i",190),e.qZA()(),e.TgZ(8,"div",191)(9,"h4",192),e._uU(10," Thank you for submitting a support ticket for account verification. "),e.qZA(),e.TgZ(11,"p",193),e._uU(12," Our Account/Project department will review your request to determine whether it requires billing or can be processed without billing. "),e._UZ(13,"br"),e._uU(14," Once the verification is complete, you will receive a notification. Please wait for further instructions. "),e.qZA()()(),e.TgZ(15,"div",194)(16,"button",195),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))})("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goback())}),e._uU(17," Yes,Close It! "),e.qZA()()()()}}function Xr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8," If you want proceed Quotation please click Generate Quotation? "),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Pleased to inform you that your support ticket is ready for quotation generation, and it does not require a billing verification workflow. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"p",181),e._uU(13," Management not set Billing Eligibility verification workflow process. "),e._UZ(14,"br")(15,"br"),e._uU(16,"You have to manually make decision whether this Ticket need to be bill to client or not. "),e.qZA(),e.TgZ(17,"div",182)(18,"button",183),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.startQuotationGenerateInCaseTrue(a.storeTicketId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(19," Yes, Generate Quotation! "),e.qZA(),e.TgZ(20,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(21," Later "),e.qZA()()()()()}}function el(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8," If you want proceed Quotation please click Generate Quotation? "),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Pleased to inform you that your support ticket is ready for quotation generation, and it does not require a billing verification workflow. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"p",181),e._uU(13," Management not set Billing Eligibility verification workflow process. "),e._UZ(14,"br")(15,"br"),e._uU(16,"You have to manually make decision whether this Ticket need to be bill to client or not. "),e.qZA(),e.TgZ(17,"div",182)(18,"button",183),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.startQuotationGenerateInCaseTrue(a.storeTicketId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(19," Yes, Generate Quotation! "),e.qZA(),e.TgZ(20,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(21," Later "),e.qZA()()()()()}}function tl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8," Quotation has been generated successfully "),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Quotation Auto-Approved by Management and Client, Ready for Service Order Generation. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"p",181),e._uU(13," Do you want to generate a Service Order? "),e.qZA(),e.TgZ(14,"div",182)(15,"button",183),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(16," Yes, Generate Service Order! "),e.qZA(),e.TgZ(17,"button",197),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Close click"))}),e._uU(18," Later "),e.qZA()()()()()}}function il(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8," If you want proceed Quotation please click Generate Quotation? "),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Pleased to inform you that your support ticket is ready for quotation generation, and it does not require a billing verification workflow. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"p",181),e._uU(13," Management not set Billing Eligibility verification workflow process. "),e._UZ(14,"br")(15,"br"),e._uU(16,"You have to manually make decision whether this Ticket need to be bill to client or not. "),e.qZA(),e.TgZ(17,"div",182)(18,"button",183),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.startQuotationGenerateInCaseTrue(a.storeTicketId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(19," Yes, Generate Quotation! "),e.qZA(),e.TgZ(20,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(21," Later "),e.qZA()()()()()}}function nl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",174)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Quotation Generated Successfully"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Awaiting Review by Account Manager/Project Manager Before Proceeding to Client Approval. "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",182)(13,"div",182)(14,"button",198),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss(a))}),e._uU(15," Ok,Done It! "),e.qZA()()()()()()}}function al(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",199)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",99),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Billing Eligibility Decision"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Are you sure you want to make this ticket non-billable and allow HelpDesk/NCP to generate a Service Order? "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",34)(13,"div",200)(14,"label",201),e._uU(15,"Remark "),e.TgZ(16,"span",202),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"textarea",203),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.billingEligibilityDecisionRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",105),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",182)(24,"button",204),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Later "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(18),e.Q6J("ngModel",t.billingEligibilityDecisionRemarkValue)("maxlength",t.maxCharsBillingEligibilityDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.billingEligibilityDecisionRemarkValue?null:t.billingEligibilityDecisionRemarkValue.length,"/",t.maxCharsBillingEligibilityDecision,""),e.xp6(4),e.Q6J("disabled",!t.billingEligibilityDecisionRemarkValue)}}function ol(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",205)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",84),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Billing Eligibility Decision"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Are you sure you want to make this ticket billable and escalate it for quotation preparation? "),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"div",34)(13,"div",200)(14,"label",201),e._uU(15,"Remark "),e.TgZ(16,"span",202),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"textarea",203),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.billingEligibilityDecisionRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",105),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",182)(24,"button",204),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Cancel "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(18),e.Q6J("ngModel",t.billingEligibilityDecisionRemarkValue)("maxlength",t.maxCharsBillingEligibilityDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.billingEligibilityDecisionRemarkValue?null:t.billingEligibilityDecisionRemarkValue.length,"/",t.maxCharsBillingEligibilityDecision,""),e.xp6(4),e.Q6J("disabled",!t.billingEligibilityDecisionRemarkValue)}}function sl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",205)(2,"div",177),e._UZ(3,"lord-icon",178),e.TgZ(4,"h4",179),e._uU(5),e.qZA(),e.TgZ(6,"p",206),e._uU(7),e.qZA(),e.TgZ(8,"div",182)(9,"button",198),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(10," Ok,Done It! "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.successDataModalIsBillingMessageObject.name," "),e.xp6(2),e.hij(" ",t.successDataModalIsBillingMessageObject.remark," ")}}function rl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",199)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",99),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Ticket Close"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Are you sure you want to close this ticket? "),e._UZ(11,"br"),e._uU(12," Once submitted, it cannot be reverted. Please enter your remark or note. "),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"div",34)(15,"div",200)(16,"textarea",203),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.updateTicKetCloseRemarkValue=a)}),e.qZA(),e.TgZ(17,"label",105),e._uU(18),e.qZA()()(),e._UZ(19,"br")(20,"br"),e.TgZ(21,"div",182)(22,"button",204),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(23," Yes, Proceed! "),e.qZA(),e.TgZ(24,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(25," Close "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(16),e.Q6J("ngModel",t.updateTicKetCloseRemarkValue)("maxlength",t.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.updateTicKetCloseRemarkValue?null:t.updateTicKetCloseRemarkValue.length,"/",t.maxCharsDecision,""),e.xp6(4),e.Q6J("disabled",!t.updateTicKetCloseRemarkValue)}}function ll(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",199)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",99),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Ticket Acknowledged"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Are you sure to confirm the resolution of the recent ticket by acknowledging its status as 'Resolved.? "),e._UZ(11,"br"),e._uU(12," Once acknowledged, The ticket proceed to escalate to the client for closure. "),e._UZ(13,"br"),e._uU(14," It cannot be reverted. Please enter your remark or note. "),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"div",34)(17,"div",200)(18,"textarea",203),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.updateTicKetAcknowledgeRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",105),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",182)(24,"button",204),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Close "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(18),e.Q6J("ngModel",t.updateTicKetAcknowledgeRemarkValue)("maxlength",t.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.updateTicKetAcknowledgeRemarkValue?null:t.updateTicKetAcknowledgeRemarkValue.length,"/",t.maxCharsDecision,""),e.xp6(4),e.Q6J("disabled",!t.updateTicKetAcknowledgeRemarkValue)}}function cl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",173)(1,"div",199)(2,"div",175)(3,"button",176),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",177)(5,"div",99),e._UZ(6,"lord-icon",178),e.qZA(),e.TgZ(7,"h4",196),e._uU(8,"Ticket Verify"),e.qZA(),e.TgZ(9,"p",180),e._uU(10," Are you sure to confirm the resolution of the recent ticket by verify its status as 'Acknowledgement Required'? "),e._UZ(11,"br"),e._uU(12," Once verify, The ticket proceed to escalate to the Acknowledgement Procced. "),e._UZ(13,"br"),e._uU(14," It cannot be reverted. Please enter your remark or note. "),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"div",34)(17,"div",200)(18,"textarea",203),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.verifyTicketRemarkValue=a)}),e.qZA(),e.TgZ(19,"label",105),e._uU(20),e.qZA()()(),e._UZ(21,"br")(22,"br"),e.TgZ(23,"div",182)(24,"button",204),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(25," Yes, Proceed! "),e.qZA(),e.TgZ(26,"button",184),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(27," Close "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(18),e.Q6J("ngModel",t.verifyTicketRemarkValue)("maxlength",t.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.verifyTicketRemarkValue?null:t.verifyTicketRemarkValue.length,"/",t.maxCharsDecision,""),e.xp6(4),e.Q6J("disabled",!t.verifyTicketRemarkValue)}}function dl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",207)(1,"h5",208),e._uU(2),e.qZA(),e.TgZ(3,"button",209),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",210)(5,"div",211)(6,"video",212),e._UZ(7,"source",130),e.qZA()()(),e.TgZ(8,"div",213)(9,"button",214),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(10," Close "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.storeInfomationVideo.preventiveTypeName," "),e.xp6(5),e.s9C("src",t.linkVideo,e.LSH)}}let pl=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P){this.router=t,this.modalService=o,this.ticketService=a,this.authService=s,this.menuService=l,this.commonFunctionService=g,this.helpDeskService=G,this.serviceOrderService=W,this.quotationService=ee,this.lightbox=te,this.spinner=P,this.activeId=1,this.imageUrl=c.N.apiUrl,this.maxCharMessage=2e3,this.breadCrumbItems=[{label:"Ticket"},{label:"Ticket View",active:!0}],this.maxCharsBillingEligibilityDecision=300,this.maxCharsDecision=300,this.ticketData=[],this.MessageContain="",this.ticketDisscusionArrayList=[],this.maintenanceWorkflowAuditList=[],this.generateServiceOrderTabShown=!0,this.generateQuotationTabShown=!1,this.selectedTicketDocumentArray=[],this.viewQuotationTabShown=!1,this.billingEligibilityDecisionRemarkValue=null,this.viewQuationApproveReviewButtons=!1,this.quotationObjectFromTheDashbaordWorkFlowTable={},this.assetTicketItem=[],this.ticketReportIncident=[],this.ticketWorkOder=[],this.updateTicketCloseVisiable=!1,this.rejectViewQuotation=!1,this.updateTicketAcknowledgeVisiable=!1,this.siteVisitDateTimeValue=!0,this.shownQuotation=!0,this.takenAction=0,this.selectePasteUplaodArray=[],this.shownVerifyButton=!1,this.selecteTicketVideoArray=[],this.ticketDisscusionTotalRecordsFromApi=0,this.ticketDisscusionFrom=0,this.ticketDisscusionTo=0,this.ticketDisscusionPageSize=10,this.totalQuotationCountList=[],this.totalQuotationCount=0,this.quotationCount=1,this.ticketQuotation={},this.ticketQuotationItem=[],this.successDataModalIsBillingMessageObject={},this.updateTicKetCloseRemarkValue="",this.verifyTicketRemarkValue="",this.mainDiscussion=1,this.MessageContainGlobal="",this.shownOffInternalChat=!0,this.shownOffGlobalChat=!0,this.ticketDisscusionTotalRecordsFromApiGlobal=0,this.ticketDisscusionFromGlobal=0,this.ticketDisscusionToGlobal=0,this.ticketDisscusionPageSizeGlobal=10,this.ticketDisscusionArrayListGlobal=[],this.blinkStateClient="end2",this.blinkStateInternal="end1",this.isPlay=!1,this.storeInfomationVideo="",this.linkVideo="",this.isProject=this.authService.getisProject(),this.storeTicketId=this.ticketService.sendTicketId?this.ticketService.sendTicketId:0,0==this.storeTicketId||null==this.storeTicketId?this.router.navigate([this.ticketService.lastStoreRouterDashboardName]):(this.getTicketDetails(this.storeTicketId),this.getV2_ServiceOrder_Tech_TaskListAndDetail(this.storeTicketId),this.getV2_MaintenanceWorkflowAudit(this.storeTicketId),this.getV2_TicketDocument(this.storeTicketId))}ngOnInit(){this.defaultNavActiveId=1}getTicketDetails(t){this.ticketService.getV2_TicketingAndIncidentListDetail({TicketId:t}).subscribe(a=>{Object.keys(a.data).forEach(s=>{console.log("ticket res",a),null===a.data[s]&&(a.data[s]=[])}),this.ticketData=a.data.mX_Ticketing?[a.data.mX_Ticketing]:[],console.log("ticket",this.ticketData),this.assetTicketItem=a.data.mX_TicketItem?a.data.mX_TicketItem:[],this.ticketReportIncident=0!=a.data.mX_ReportIncident.length?[a.data.mX_ReportIncident]:[],this.getChatData(),this.getV2_TicketImagesList(this.storeTicketId),this.getV2_TicketVideo(this.storeTicketId),this.initaliseTypeForNewTicketStatus(this.ticketData[0]?.ticketStatusId)})}getV2_ServiceOrder_Tech_TaskListAndDetail(t){this.helpDeskService.getV2_ServiceOrder_Tech_TaskListAndDetail({TicketId:t}).subscribe(a=>{Object.keys(a.list).forEach(s=>{null===a.list[s]&&(a.list[s]=[])}),this.ticketWorkOder=a.list.mX_WorkOder?a.list.mX_WorkOder:[],this.ticketWOTechAssignment=a.list.mX_WOTechAssignment?a.list.mX_WOTechAssignment:[],this.ticketWOStartEndTask=a.list.mx_WOStartEndTask?a.list.mx_WOStartEndTask:[]})}getUpdateListValue(t){this.getTicketDetails(this.storeTicketId)}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}submitChat(){if(this.MessageContain){let t={TicketId:this.storeTicketId,MessageContain:this.MessageContain,IsClient:"Client"===this.authService.getRole(),AccessGroup:this.authService.getaccessGroupName()};this.ticketService.createV2_TicketDiscussion(t).subscribe(o=>{this.takenAction=2,this.refreshThePage(),this.MessageContain="",this.success(o),this.mainDiscussion=2,this.scrollToTop()})}else this.warning("Please Put Message  ")}getV2_TicketDisscusion_ServerPaging(t=10,o=0){this.ticketService.getV2_TicketDisscusion_ServerPaging({ticketId:this.storeTicketId,displayLength:t,displayStart:o}).subscribe(s=>{s.list.length>0?(this.ticketDisscusionArrayList=s.list,this.ticketDisscusionTotalRecordsFromApi=s.list[0].totalCount,this.ticketDisscusionFrom=s.list.reduce((l,g)=>g.rowNum<l?g.rowNum:l,s.list[0].rowNum),this.ticketDisscusionTo=s.list.reduce((l,g)=>g.rowNum>l?g.rowNum:l,s.list[0].rowNum),this.ticketDisscusionPageSize=t):0==this.ticketDisscusionArrayList.length&&0==s.list.length&&(this.ticketDisscusionTotalRecordsFromApi=0,this.ticketDisscusionFrom=0,this.ticketDisscusionTo=0,this.ticketDisscusionPageSize=t)})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}warning(t){J().fire({toast:!0,position:"top-end",icon:"warning",title:t,showConfirmButton:!1,timer:3e3})}openRequestBillingEligibilityModalUp(t){this.modalService.open(t,{centered:!0,backdrop:"static",keyboard:!1})}successAfterRequstedBilling(t){this.ticketService.requestBillingEligibilityProcess_V2({ProjectId:this.ticketData[0].projectId,TicketId:t}).subscribe(a=>{0==a.isQuotationGenerate?this.isQuotationGenerateFalseModal(this.isQuotationGenerateFalse):this.isQuotationGenerateTrueModal(this.isQuotationGenerateTrue)})}goback(){this.router.navigate([this.ticketService.lastStoreRouterDashboardName])}isQuotationGenerateFalseModal(t){this.modalService.open(t,{centered:!0,backdrop:"static",keyboard:!1})}isQuotationGenerateTrueModal(t){this.modalService.open(t,{centered:!0,backdrop:"static",keyboard:!1})}startQuotationGenerateInCaseTrue(t){this.generateQuotationTabShown=!0,this.generateServiceOrderTabShown=!1,this.viewQuotationTabShown=!1,this.activeId=4}getSubmitAfterGernateServiceOrderValue(t){this.router.navigate(["/maintenace-management/dashboard/new-ticket-list"])}getupdateStatusAssetList(t){t&&(this.getTicketDetails(this.storeTicketId),this.getV2_ServiceOrder_Tech_TaskListAndDetail(this.storeTicketId),this.defaultNavActiveId=1)}initaliseTypeForNewTicketStatus(t){if(this.defaultNavActiveId=1,48==t)this.generateServiceOrderTabShown=!0,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!1;else if(51==t)this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!1;else if(53==t)this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!0,this.activeId=4,this.viewQuotationTabShown=!1;else if(54==t)this.quotationObjectFromTheDashbaordWorkFlowTable={...this.helpDeskService.workflowObject},this.quotationObjectWorkFlow={...this.ticketService.quotationObjectWorkFlow},0===this.quotationObjectWorkFlow.quotId||null==this.quotationObjectWorkFlow.quotId?this.router.navigate([this.ticketService.lastStoreRouterDashboardName]):(this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!0,this.activeId=6,this.viewQuationApproveReviewButtons=!0,this.getV2_MX_QuotationNoListOnlyByTicketId(this.storeTicketId));else if(55==t)this.quotationObjectFromTheDashbaordWorkFlowTable={...this.helpDeskService.workflowObject},this.quotationObjectWorkFlow={...this.ticketService.quotationObjectWorkFlow},0===this.quotationObjectWorkFlow.quotId||null==this.quotationObjectWorkFlow.quotId?this.router.navigate([this.ticketService.lastStoreRouterDashboardName]):(this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!0,this.activeId=6,this.viewQuationApproveReviewButtons=!0,this.getV2_MX_QuotationNoListOnlyByTicketId(this.storeTicketId));else if(52==t)this.generateServiceOrderTabShown=!0,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!0===this.ticketData[0]?.isBillingRequired;else if(29==t)"Assign Member & Site Visit Date Time"==this.helpDeskService.pageAction&&(this.siteVisitDateTimeValue=!1,this.getV2_ServiceOrderDetailOnly(this.storeTicketId));else if(31==t){if("Waiting Client to Close Ticket"==this.helpDeskService.pageAction){this.updateTicketCloseVisiable=!0,this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1;let a=JSON.parse(localStorage.getItem("currentUser")).role;this.viewQuotationTabShown="Client User"===a?"Application User"!==JSON.parse(localStorage.getItem("currentUser")).accessGroupName:"System Administrator"==a||"Asset Administrator"==a||"Management"==a}if("Waiting Internal Ticket to Close"==this.helpDeskService.pageAction){this.updateTicketCloseVisiable=!0,this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1;let a=JSON.parse(localStorage.getItem("currentUser")).role;this.viewQuotationTabShown="Client User"===a?"Application User"!==JSON.parse(localStorage.getItem("currentUser")).accessGroupName:"System Administrator"==a||"Asset Administrator"==a||"Management"==a}}else if(61==t){if("Ticket Acknowledgement for completed service order"==this.helpDeskService.pageAction){this.updateTicketAcknowledgeVisiable=!0,this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1,this.getV2_MX_QuotationNoListOnlyByTicketId(this.storeTicketId);let a=JSON.parse(localStorage.getItem("currentUser")).role;this.viewQuotationTabShown="Client User"===a?"Application User"!==JSON.parse(localStorage.getItem("currentUser")).accessGroupName:"System Administrator"==a||"Asset Administrator"==a||"Management"==a}}else if(72==t&&"Ticket Verification For Acknowledge Process"==this.helpDeskService.pageAction){this.shownVerifyButton=!0,this.generateServiceOrderTabShown=!1,this.generateQuotationTabShown=!1,this.getV2_MX_QuotationNoListOnlyByTicketId(this.storeTicketId);let a=JSON.parse(localStorage.getItem("currentUser")).role;this.viewQuotationTabShown="Client User"===a?"Application User"!==JSON.parse(localStorage.getItem("currentUser")).accessGroupName:"System Administrator"==a||"Asset Administrator"==a||"Management"==a}let o=JSON.parse(localStorage.getItem("currentUser")).role;"Client User"===o&&"Application User"===JSON.parse(localStorage.getItem("currentUser")).accessGroupName&&(this.shownQuotation=!1,this.activeId=1),"Help Desk"===o&&(this.shownQuotation=!1,this.activeId=1),"Technition"===o&&(this.shownQuotation=!1,this.activeId=1)}getV2_MX_QuotationNoListOnlyByTicketId(t){this.quotationService.getV2_MX_QuotationNoListOnlyByTicketId({TicketId:t}).subscribe(a=>{this.totalQuotationCountList=a.objList,this.totalQuotationCount=this.totalQuotationCountList.length,this.totalQuotationCount>1&&(this.rejectViewQuotation=!0,this.getV2_MX_QuotationAndItemDetails(this.totalQuotationCountList[0].quotId))})}getV2_MX_QuotationAndItemDetails(t){this.quotationService.getV2_MX_QuotationAndItemDetails({QuotId:t}).subscribe(a=>{this.ticketQuotation=a.objList.mX_Quotation,this.ticketQuotationItem=a.objList.mX_quotationItem})}nextQuotation(){this.quotationCount>1&&this.quotationCount--,this.getV2_MX_QuotationAndItemDetails(this.totalQuotationCountList[this.quotationCount-1].quotId)}previousQuotation(){this.quotationCount<this.totalQuotationCount&&this.quotationCount++,this.getV2_MX_QuotationAndItemDetails(this.totalQuotationCountList[this.quotationCount-1].quotId)}getV2_ServiceOrderDetailOnly(t){this.serviceOrderService.getV2_ServiceOrderDetailOnly({ticketId:t}).subscribe(a=>{this.serviceOrderDetailOnlyObject=a.data,this.generateServiceOrderTabShown=!0,this.generateQuotationTabShown=!1,this.viewQuotationTabShown=!0===this.ticketData[0]?.isBillingRequired,this.activeId=5})}getResponseAfterSubmitQuotation(t){52==t.ticketStatusId&&56==t.quotStatusId?this.openModalUpForQuotationApprove():54==t.ticketStatusId&&54==t.quotStatusId&&this.openModalUpForQuotationInReview()}generateServiceOrderAfterQuotation(){this.getTicketDetails(this.storeTicketId),this.viewQuotationTabShown=!0,this.generateServiceOrderTabShown=!0,this.generateQuotationTabShown=!1,this.activeId=5}openModalUpForQuotationApprove(){this.modalService.open(this.isQuotationGenerateMessageForApprove,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.generateServiceOrderAfterQuotation()},t=>{this.storeTicketId=0,this.router.navigate(["/maintenace-management/dashboard/new-ticket-list"])})}openModalUpForQuotationInReview(){this.modalService.open(this.isQuotationGenerateMessageForQuotationInReview,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{},t=>{this.storeTicketId=0,this.router.navigate(["/maintenace-management/dashboard/new-ticket-list"])})}openModalIsNoBillingEligibilityDecision(){this.billingEligibilityDecisionRemarkValue=null,this.storeWorkflowObject={},this.ticketObjectInBillingWorkFlow={},this.successDataModalIsBillingMessageObject={name:"",remark:""},this.modalService.open(this.isNoBillingEligibilityDecision,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.updateReviewerApproverBillingEligibilityProcess("Rejected")},t=>{})}openModalIsYesBillingEligibilityDecision(){this.billingEligibilityDecisionRemarkValue=null,this.storeWorkflowObject={},this.ticketObjectInBillingWorkFlow={},this.successDataModalIsBillingMessageObject={name:"",remark:""},this.modalService.open(this.isYesBillingEligibilityDecision,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.updateReviewerApproverBillingEligibilityProcess("Approved")},t=>{})}updateReviewerApproverBillingEligibilityProcess(t){this.storeWorkflowObject={...this.helpDeskService.workflowObject},this.ticketObjectInBillingWorkFlow={...this.ticketService.ticketObjectInBillingWorkFlow},this.ticketService.updateReviewerApproverBillingEligibilityProcess({MasterWorkflowItemId:this.ticketObjectInBillingWorkFlow.masterWorkflowItemId,ApproverType:this.storeWorkflowObject.approverType,ActionStatus:t,WfProcessCreationId:this.ticketObjectInBillingWorkFlow.wfProcessCreationId,WfProcessCreationDetailId:this.ticketObjectInBillingWorkFlow.wfProcessCreationDetailId,Remark:this.billingEligibilityDecisionRemarkValue}).subscribe(a=>{this.billingEligibilityDecisionRemarkValue=null,"200"==a.code&&"Success Non-Billable"==a.message?(this.successDataModalIsBillingMessageObject={name:"Ticket successfully verified Billing eligibility process.",remark:'The ticket has been updated as "Non-Billable" and is now ready for generating a Service Order.Please check under "My Task - Service Order Pending"'},this.successModalForIsBilling()):"200"==a.code&&"Success Billable"==a.message?(this.successDataModalIsBillingMessageObject={name:"Ticket successfully verified Billing eligibility process.",remark:'The ticket is eligible for billing and has been escalated to the quotation process.Please check at "My Task - Awaiting Quotation"'},this.successModalForIsBilling()):"200"==a.code&&"Success"==a.message&&(this.successDataModalIsBillingMessageObject={name:"Ticket successfully verified Billing eligibility process.",remark:"The ticket has passed billing eligibility verification and has been escalated for the next review or approval step in accordance with the workflow."},this.successModalForIsBilling())})}successModalForIsBilling(){this.modalService.open(this.successDataModalIsBilling,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.router.navigate(["/maintenace-management/dashboard/workflow-ticket-list"])},t=>{})}refreshThePage(){this.defaultNavActiveId=1,this.getTicketDetails(this.storeTicketId),this.getV2_ServiceOrder_Tech_TaskListAndDetail(this.storeTicketId),this.getChatData()}updateTicketClose(t){let o=JSON.parse(localStorage.getItem("currentUser"));this.ticketService.getV2_UpdateTicketClose({ticketId:this.ticketService.sendTicketId,ticketClosedRemark:t,ticketAcknoledgeDesig:o?.accessGroupName}).subscribe(s=>{this.success(s),this.router.navigate([this.ticketService.lastStoreRouterDashboardName])})}updateTicketAcknowledge(t){let o=JSON.parse(localStorage.getItem("currentUser"));this.ticketService.getV2_UpdateTicketAcknolodge({ticketId:this.ticketService.sendTicketId,ticketClosedRemark:t,ticketAcknoledgeDesig:o?.accessGroupName,isGlobal:this.ticketData[0].isGlobal}).subscribe(s=>{this.success(s),this.router.navigate([this.ticketService.lastStoreRouterDashboardName])})}verifyTicketAcknowledge(t){let o=JSON.parse(localStorage.getItem("currentUser"));this.ticketService.getV2_UpdateTicketVerification({ticketId:this.ticketService.sendTicketId,TicketVerifiedRemark:t,TicketVerifiedDesig:o?.accessGroupName}).subscribe(s=>{this.success(s),this.router.navigate([this.ticketService.lastStoreRouterDashboardName])})}closeTicketModalPopup(){this.modalService.open(this.iscloseTicketModalPopup,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.updateTicketClose(this.updateTicKetCloseRemarkValue)},t=>{})}acknowledgeTicketModalPopup(){this.modalService.open(this.isAcknowledgeTicketModalPopup,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.updateTicketAcknowledge(this.updateTicKetAcknowledgeRemarkValue)},t=>{})}verifyTicketModalPopup(){this.modalService.open(this.isVerifyTicketModalPopup,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{this.verifyTicketAcknowledge(this.verifyTicketRemarkValue)},t=>{})}getV2_MaintenanceWorkflowAudit(t){this.ticketService.getV2_MaintenanceWorkflowAudit({TicketId:t}).subscribe(a=>{this.maintenanceWorkflowAuditList=a.data})}ngOnDestroy(){this.ticketService.sendTicketId=0}goBack(){this.router.navigate([this.ticketService.lastStoreRouterDashboardName])}open(t){let a=[];a.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(a)}submitChatGlobal(){if(this.MessageContainGlobal){let t={TicketId:this.storeTicketId,MessageContain:this.MessageContainGlobal,IsClient:"Client"===this.authService.getRole(),AccessGroup:this.authService.getaccessGroupName()};this.ticketService.createV2_TicketDiscussionGlobal(t).subscribe(o=>{this.takenAction=1,this.refreshThePage(),this.MessageContainGlobal="",this.success(o),this.mainDiscussion=1,this.scrollToTopGlobal()})}else this.warning("Please Put Message  ")}getChatData(){"Client User"===JSON.parse(localStorage.getItem("currentUser")).role?(this.shownOffInternalChat=!1,this.shownOffGlobalChat=!0,this.mainDiscussion=1,this.getV2_TicketDisscusionGlobal_ServerPaging()):this.ticketData[0]?.isGlobal?(this.mainDiscussion=1,this.getV2_TicketDisscusion_ServerPaging(),this.getV2_TicketDisscusionGlobal_ServerPaging()):(this.mainDiscussion=2,this.shownOffGlobalChat=!1,this.getV2_TicketDisscusion_ServerPaging()),2==this.takenAction?this.mainDiscussion=2:1==this.takenAction?this.mainDiscussion=1:this.takenAction=0}getV2_TicketDisscusionGlobal_ServerPaging(t=50,o=0){this.ticketService.getV2_TicketDisscusionGlobal_ServerPaging({ticketId:this.storeTicketId,displayLength:t,displayStart:o}).subscribe(s=>{s.list.length>0?(this.ticketDisscusionArrayListGlobal=s.list,this.ticketDisscusionTotalRecordsFromApiGlobal=s.list[0].totalCount,this.ticketDisscusionFromGlobal=s.list.reduce((l,g)=>g.rowNum<l?g.rowNum:l,s.list[0].rowNum),this.ticketDisscusionToGlobal=s.list.reduce((l,g)=>g.rowNum>l?g.rowNum:l,s.list[0].rowNum),this.ticketDisscusionPageSizeGlobal=t):0==this.ticketDisscusionArrayListGlobal.length&&0==s.list.length&&(this.ticketDisscusionTotalRecordsFromApiGlobal=0,this.ticketDisscusionFromGlobal=0,this.ticketDisscusionToGlobal=0,this.ticketDisscusionPageSizeGlobal=t)})}ngAfterViewInit(){}ngAfterViewChecked(){0!=this.ticketDisscusionArrayListGlobal.length&&this.scrollFrameGlobal&&!this.scrollContainerGlobal&&(this.scrollContainerGlobal=this.scrollFrameGlobal.nativeElement),0!=this.ticketDisscusionArrayList.length&&this.scrollFrame&&!this.scrollContainer&&(this.scrollContainer=this.scrollFrame.nativeElement)}scrollToTopGlobal(){this.scrollContainerGlobal&&this.scrollContainerGlobal.scroll({top:0,left:0,behavior:"smooth"})}scrollToTop(){this.scrollContainer&&this.scrollContainer.scroll({top:0,left:0,behavior:"smooth"})}onNavChange(t){this.takenAction=1==t.activeId?2:2==t.activeId?1:0}openTheActiveTab(t){console.log(t),"Service Order"==t.title?"warning"!=t.background&&(this.generateQuotationTabShown?this.activeId=4:this.generateServiceOrderTabShown?this.activeId=5:0!=this.ticketWorkOder?.length&&0!=this.ticketData.length?this.activeId=3:(this.activeId=1,this.defaultNavActiveId=1)):"Task"==t.title?"warning"!=t.background&&0!=this.ticketWorkOder?.length&&0!=this.ticketData.length&&(this.activeId=3):"Internal Verification"==t.title?"warning"!=t.background&&(this.activeId=1,this.defaultNavActiveId=1,this.startBlinkingInternal()):"Client Verification"==t.title?"warning"!=t.background&&("Second"==t.client?(this.activeId=1,this.defaultNavActiveId=2):(this.activeId=1,this.defaultNavActiveId=1,this.startBlinkingClient())):"Billing Verification"==t.title?(this.activeId=1,this.defaultNavActiveId=3):"Ticket Created"==t.title?(this.activeId=1,this.defaultNavActiveId=1):"Quotation"==t.title?"warning"!=t.background&&0!=this.ticketQuotation?.length&&this.shownQuotation&&(this.activeId=6):"Quotation Internal Verification"==t.title||"Quotation Client Verification"==t.title?(this.activeId=1,this.defaultNavActiveId=3):"Tech Signature Process"==t.title&&"warning"!=t.background&&(this.activeId=1,this.defaultNavActiveId=2)}startBlinkingInternal(){this.blinkStateInternal="start1",setTimeout(()=>{this.blinkStateInternal="end1"},1e3)}startBlinkingClient(){this.blinkStateClient="start2",setTimeout(()=>{this.blinkStateClient="end2"},1e3)}getV2_TicketImagesList(t){console.log("ticketId",t),this.ticketService.getV2_TicketImagesList({TicketId:t}).subscribe(a=>{console.log("rss",a),this.selectePasteUplaodArray=a.objImage?a.objImage:[],this.ticketData.length&&(this.ticketData[0].pic1_URL&&this.selectePasteUplaodArray.push({imageBase64Url:this.ticketData[0].pic1_URLBase64,imageUrl:this.ticketData[0].pic1_URL,ticketId:this.ticketData[0].ticketId,ticketImageId:0}),this.ticketData[0].pic2_URL&&this.selectePasteUplaodArray.push({imageBase64Url:this.ticketData[0].pic2_URLBase64,imageUrl:this.ticketData[0].pic2_URL,ticketId:this.ticketData[0].ticketId,ticketImageId:0}))})}openAllCopyPasteImage(t,o){let a=[];t.map(s=>{a.push({src:this.imageUrl+s.imageUrl,caption:"",thumb:"thumb"})}),this.lightbox.open(a,o,{showImageNumberLabel:!0,showRotate:!0,showZoom:!0})}getV2_TicketVideo(t){this.selecteTicketVideoArray=[],this.ticketService.getV2_TicketVideo({TicketId:t}).subscribe(a=>{this.selecteTicketVideoArray=a.list?a.list:[],console.log("vdo view::",this.selecteTicketVideoArray)})}openModaVideeo(t,o){this.storeInfomationVideo=t,this.linkVideo=c.N.apiUrl+t.fileURL,this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(s=>{})}toggleVideo(){this.videoplayer.nativeElement.play()}playPause(){var t=document.getElementById("my_video_1");t.paused?t.play():t.pause()}getV2_TicketDocument(t){this.ticketService.getV2_TicketDocument({TicketId:t}).subscribe(a=>{this.selectedTicketDocumentArray=a.list?a.list:[]})}downloadFIle(t){let o=t.fileName.split(".");this.ticketService.downloadTikcetFile({FileURL:t.fileURL,ContentType:"application/"+o[o.length-1]}).subscribe(s=>{const l=new Blob([s],{type:"application/octet-stream"}),g=document.createElement("a");g.download=t.fileName,g.href=window.URL.createObjectURL(l),document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(g.href)})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(U.K),e.Y36(C.S),e.Y36(Xe.R),e.Y36(et.G),e.Y36(Ne.ey),e.Y36(qo.CK))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-ticket-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf(ms,7),e.Gf(hs,7),e.Gf(bs,7),e.Gf(fs,7),e.Gf(Ts,7),e.Gf(vs,7),e.Gf(Cs,7),e.Gf(xs,7),e.Gf(ks,7),e.Gf(ws,7),e.Gf(Ds,7),e.Gf(As,5),e.Gf(Ss,5),e.Gf(Zs,5),e.Gf(Is,5),e.Gf(ys,5)),2&o){let s;e.iGM(s=e.CRH())&&(a.isQuotationGenerateFalse=s.first),e.iGM(s=e.CRH())&&(a.isQuotationGenerateTrue=s.first),e.iGM(s=e.CRH())&&(a.isQuotationGenerateMessageForQuotationPending=s.first),e.iGM(s=e.CRH())&&(a.isQuotationGenerateMessageForApprove=s.first),e.iGM(s=e.CRH())&&(a.isQuotationGenerateMessageForQuotationInReview=s.first),e.iGM(s=e.CRH())&&(a.isNoBillingEligibilityDecision=s.first),e.iGM(s=e.CRH())&&(a.isYesBillingEligibilityDecision=s.first),e.iGM(s=e.CRH())&&(a.successDataModalIsBilling=s.first),e.iGM(s=e.CRH())&&(a.iscloseTicketModalPopup=s.first),e.iGM(s=e.CRH())&&(a.isAcknowledgeTicketModalPopup=s.first),e.iGM(s=e.CRH())&&(a.isVerifyTicketModalPopup=s.first),e.iGM(s=e.CRH())&&(a.customNav=s.first),e.iGM(s=e.CRH())&&(a.defaultNav=s.first),e.iGM(s=e.CRH())&&(a.scrollFrameGlobal=s.first),e.iGM(s=e.CRH())&&(a.scrollFrame=s.first),e.iGM(s=e.CRH())&&(a.videoplayer=s.first)}},decls:30,vars:2,consts:[["title","Ticket View",3,"breadcrumbItems"],[4,"ngIf"],["RequestBillingEligibilityModalUp",""],["isQuotationGenerateFalse",""],["isQuotationGenerateTrue",""],["isQuotationGenerateMessageForApprove",""],["isQuotationGenerateMessageForQuotationPending",""],["isQuotationGenerateMessageForQuotationInReview",""],["isNoBillingEligibilityDecision",""],["isYesBillingEligibilityDecision",""],["successDataModalIsBilling",""],["iscloseTicketModalPopup",""],["isAcknowledgeTicketModalPopup",""],["isVerifyTicketModalPopup",""],["role","document"],["VideoPlayer",""],[1,"row","mt-1"],[1,"col-lg-12"],[1,"card","mt-n4","mx-n4"],[1,"card-body","pb-0","px-4"],[1,"row","mb-4"],[1,"col-md"],[1,"row","align-items-center"],["class","col-md",4,"ngFor","ngForOf"],[1,"col-md-auto","text-end"],["href","javascript:void(0);",1,"text-primary","text-decoration-underline","fw-medium","text-end",3,"click"],[1,"ri-refresh-line","text-primary","fs-18"],["clas","col-md-12","style","overflow: auto",4,"ngIf"],["ngbNav","","role","tablist",1,"nav","nav-tabs-custom","border-bottom-0",3,"activeId"],["customNav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],["ngbNavContent",""],["class","nav-item",3,"ngbNavItem",4,"ngIf"],[1,"row"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"fw-bold"],["clas","col-md-12",2,"overflow","auto"],[3,"isBillingRequired","isGlobal","ticketStatusId","SeviceType","incindetTechSignImageURL","incindetClientSignImageURL","workFlowRequired","sendToActivingForTab"],[1,"col-xxl-8","stretch-card"],[1,"card"],["ngbNav","",1,"nav-tabs","nav-tabs-custom",3,"activeId"],["defaultNav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"d-flex","flex-row","flex-lg-column","flex-xl-row","align-items-center"],[1,"d-none1","d-sm-block","mb-0"],[1,"col-xxl-4"],["class","card ribbon-box right table-responsive",4,"ngFor","ngForOf"],[1,"col-lg-12","mt-2"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button",3,"click"],["class","card-body",4,"ngFor","ngForOf"],[1,"border-top","border-top-dashed"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId","navChange"],["nav","ngbNav"],[1,"tab-content"],[1,"card-body"],[1,"col-12","mb-3"],[1,"fw-semibold","text-uppercase","mb-3"],["class","text-muted mb-0",3,"innerHTML",4,"ngIf"],["class","text-muted mb-0",4,"ngIf"],["class","col-12 mb-3",4,"ngIf"],["class","col-sm-6 stretch-card pt-2 mb-3",4,"ngIf"],[1,"text-muted","mb-0",3,"innerHTML"],[1,"text-muted","mb-0"],[1,"col-sm-6","stretch-card","pt-2","mb-3"],[1,"card","border","shadow-none","mb-lg-0","right"],[1,"card-body","text-muted"],[1,"fs-14","mb-2"],[1,"fs-13","text-dark","mb-0"],[1,"ri-user-3-line","align-bottom"],[1,"ri-outlet-2-line","align-bottom"],[1,"fs-13","text-muted","mb-0"],[1,"ri-calendar-2-line","align-bottom"],[1,"fs-12","text-muted"],[1,"ri-edit-2-linealign-bottom"],["class","fs-14 mb-2",4,"ngIf"],[1,"ri-chat-1-line","me-1","align-bottom"],[1,"card-body","p-4"],[1,"card-title","mb-4"],["class","text-center",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"text-center"],["src","../../../../../assets/images/ticketChatpartImage.png",1,"img-fluid","rounded","chat-image"],[1,"px-3","mx-n3",2,"height","300px","overflow-y","auto"],["scrollframeGlobal",""],[4,"ngFor","ngForOf"],["class","d-flex mb-2",4,"ngIf"],["class","mt-2 text-end",4,"ngIf"],[1,"d-flex","mb-2"],[1,"flex-shrink-0"],["alt","",1,"avatar-xs","rounded-circle",3,"src"],[1,"flex-grow-1","ms-3"],[1,"fs-13"],[1,"text-muted"],[1,"mt-2","text-end"],[1,"d-flex","justify-content-end"],[1,""],[1,"ms-3","text-start"],[1,"mt-3"],[1,"row","g-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3","placeholder","Enter comments",1,"form-control","bg-light","border-light",3,"maxlength","ngModel","ngModelChange"],[1,"nopadding","clrlbl"],[1,"col-lg-12","text-end"],["href","javascript:void(0);",1,"btn","btn-success",3,"click"],[1,"ri-chat-3-line","me-1","align-bottom"],["scrollframe",""],["item",""],[1,"col-lg-12","p-4"],[3,"incidentList","ticketData"],[1,"d-none","d-sm-block","mb-0"],[3,"Data"],[3,"ngbNavItem","click"],[1,"row","me-0","ms-0"],["class","col-md-3 paddinBorh pb-2 pt-2 mb-2",4,"ngFor","ngForOf"],[1,"col-md-3","paddinBorh","pb-2","pt-2","mb-2"],["alt","img",1,"img-fluid","img-size-withd-upload",3,"src","click"],[1,"col-md-12","pb-2","pt-2","mb-2"],[1,"table-responsive","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],["colspan","2",1,"text-center"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary"],[1,"title","align-top"],[1,"fs-16","ri-download-line","text-danger","cursor",3,"click"],["controls","",1,"img-fluid","img-size-withd-upload",3,"click"],["type","video/mp4",3,"src"],[1,"card","ribbon-box","right","table-responsive"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0","me-1"],["class","ribbon ribbon-info ribbon-shape",4,"ngIf"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],[1,"fw-medium"],["id","t-client"],[1,"mb-0","fs-12"],[1,"mdi","mdi-email","me-1"],["class","badge bg-danger fs-12",4,"ngIf"],["class","badge bg-success fs-12",4,"ngIf"],["class","badge bg-warning fs-12",4,"ngIf"],[1,"fs-12"],["class","card-footer text-end",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","btn-primary","btn-label","waves-effect","waves-light","me-2",3,"click"],[1,"bx","bx-dollar","label-icon","align-middle","fs-16","me-2"],["type","button",1,"btn","btn-success","btn-label","waves-effect","waves-light",3,"click"],[1,"bx","bx-block","label-icon","align-middle","fs-16","me-2"],["type","button","class","btn btn-primary waves-effect waves-light",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","waves-effect","waves-light",3,"click"],[1,"ribbon","ribbon-info","ribbon-shape"],["class","badge bg-info-subtle text-info badge-border",4,"ngIf"],[1,"badge","bg-info-subtle","text-info","badge-border"],[1,"badge","bg-danger","fs-12"],[1,"badge","bg-success","fs-12"],[1,"badge","bg-warning","fs-12"],[1,"card-footer","text-end"],[1,"btn","btn-danger",3,"click"],[1,"d-flex","align-items-center","mb-0"],[1,"card-title","flex-grow-1","mb-2"],[3,"ticketData","assetList","mX_WorkOder","updateStatusAssetList"],[3,"mX_WOTechAssignment","mX_WorkOder","mx_WOStartEndTask","ticketData","setUpdateListValue"],[3,"ticketInfo","submitAfterQuotation"],[3,"ticketInfo","serviceOrderDetailOnlyObject","submitAfterGernateServiceOrder"],[3,"ticketInfo","quotationObjectWorkFlow","viewQuationApproveReviewButtons","ticketId","quotationId","quotationObjectFromTheDashbaordWorkFlowTable"],["class","row",4,"ngIf"],[3,"ticketInfo","quotationObject","mX_quotationItem"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-outline-primary",3,"disabled","click"],[1,"mb-1"],[1,"modal-content"],[1,"modal-body","p-5"],[1,"text-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4"],[1,"text-muted","fs-15","mb-1","text-justify"],[1,"text-muted","fs-15","mb-4","text-justify"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"avatar-lg","mx-auto"],[1,"avatar-title","bg-light","text-success","display-5","rounded-circle"],[1,"ri-mail-send-fill"],[1,"mt-4","pt-2","fs-15"],[1,"fs-20","fw-semibold"],[1,"text-muted","mb-0","mt-3","fs-13"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","button","aria-label","",1,"swal2-confirm","btn","btn-soft-danger","mb-1",3,"click"],[1,"mb-3","mt-4","text-justify"],["data-bs-dismiss","modal",1,"btn","btn-soft-danger",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"modal-body","p-5","text-center"],[1,"col-lg"],["for","remark",1,"form-label"],[1,"starRequried"],["id","exampleFormControlTextarea1","rows","4","placeholder","Enter your remark...",1,"form-control","bg-light","border-light",3,"ngModel","maxlength","ngModelChange"],[1,"btn","btn-success",3,"disabled","click"],[1,"modal-body","text-center","p-5"],[1,"text-muted","fs-15","mb-4"],[1,"modal-header","p-3","bg-primary-subtle"],["id","inviteMembersModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],["id","instructions"],["id","my_video_1","width","100%","height","267px","controls","","preload","none","autoplay","","data-setup",'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }',1,"video-js","vjs-default-skin"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(o,a){1&o&&(e._UZ(0,"app-breadcrumbs",0),e.YNc(1,Kr,29,11,"ng-container",1)(2,zr,23,0,"ng-template",null,2,e.W1O)(4,$r,18,0,"ng-template",null,3,e.W1O)(6,Xr,22,0,"ng-template",null,4,e.W1O)(8,el,22,0,"ng-template",null,4,e.W1O)(10,tl,19,0,"ng-template",null,5,e.W1O)(12,il,22,0,"ng-template",null,6,e.W1O)(14,nl,16,0,"ng-template",null,7,e.W1O)(16,al,28,5,"ng-template",null,8,e.W1O)(18,ol,28,5,"ng-template",null,9,e.W1O)(20,sl,11,2,"ng-template",null,10,e.W1O)(22,rl,26,5,"ng-template",null,11,e.W1O)(24,ll,28,5,"ng-template",null,12,e.W1O)(26,cl,28,5,"ng-template",null,13,e.W1O)(28,dl,11,2,"ng-template",14,15,e.W1O)),2&o&&(e.Q6J("breadcrumbItems",a.breadCrumbItems),e.xp6(1),e.Q6J("ngIf",0!=a.ticketData.length))},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.nD,f.On,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,se.n,No.F,Lo.L,Uo.Z,Oo.S,Wo,Ko.m,zo.n,$o.a,gs],styles:["tr[_ngcontent-%COMP%]   .fw-medium[_ngcontent-%COMP%]{width:24%!important}.wordBrrak[_ngcontent-%COMP%]{word-break:break-word}.imgHeight[_ngcontent-%COMP%]{height:200px}.img-size-withd-upload[_ngcontent-%COMP%]{width:300px;height:120px;border-radius:12px}.chat-image[_ngcontent-%COMP%]{height:79%!important;width:64%!important;opacity:.5}.paddinBorh[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px}"],data:{animation:[(0,De.X$)("blink",[(0,De.SB)("start1",(0,De.oB)({background:"lavender",opacity:.5})),(0,De.SB)("end1",(0,De.oB)({background:"inherit",opacity:1})),(0,De.eR)("start1 <=> end1",[(0,De.jt)("0.9s")])]),(0,De.X$)("blink2",[(0,De.SB)("start2",(0,De.oB)({background:"lavender",opacity:.5})),(0,De.SB)("end2",(0,De.oB)({background:"inherit",opacity:1})),(0,De.eR)("start2 <=> end2",[(0,De.jt)("0.9s")])])]}})}}return n})(),nt=(()=>{class n{constructor(t,o,a){this._http=t,this._route=o,this.authService=a,this.token="",this.token=this.authService.getAccessToken()}getAllAssetData(t){let o={displayLength:10,displayStart:0};return t&&(o.SearchCompanyId=t),this._http.post(c.N.apiUrl+"api/AssetDash/GetV2_AssetAllCountAndGraphAPI",o,{headers:(new $.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(o){return new(o||n)(e.LFG($.eN),e.LFG(p.F0),e.LFG(v.u))}}static{this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _l(n,r){1&n&&(e.TgZ(0,"h2"),e._uU(1,"0"),e.qZA())}function ul(n,r){if(1&n&&(e.TgZ(0,"h2",8),e._UZ(1,"span",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("countUp",t.value)("options",t.option)}}let gl=(()=>{class n{constructor(){this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0}}ngOnInit(){}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-crm-stat"]],inputs:{title:"title",value:"value",icon:"icon",profit:"profit"},decls:10,vars:6,consts:[[1,"col"],[1,"py-4","px-3"],[1,"text-muted","text-uppercase","fs-13"],[1,"d-flex","align-items-center"],[1,"flex-shrink-0"],[1,"flex-grow-1","ms-3"],[4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"counter-value",3,"countUp","options"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"i"),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,_l,2,0,"h2",6)(9,ul,2,2,"h2",7),e.qZA()()()()),2&o&&(e.xp6(3),e.Oqu(a.title),e.xp6(3),e.Gre("",a.icon," display-6 text-muted"),e.xp6(2),e.Q6J("ngIf",0===a.value),e.xp6(1),e.Q6J("ngIf",0!==a.value))},dependencies:[i.O5,I.P]})}}return n})();function ml(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-crm-stat",32),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("title",t.title)("value",t.value)("icon",t.icon)("profit",t.profit)}}function hl(n,r){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",33)(3,"h4",16),e._uU(4,"Expired Asset Counts"),e.qZA()(),e.TgZ(5,"div",34),e._UZ(6,"apx-chart",35),e.TgZ(7,"div",36)(8,"div",37)(9,"h2",38),e._uU(10),e.qZA(),e.TgZ(11,"div")(12,"p",39),e._uU(13,"Total Expired Assets"),e.qZA()()(),e.TgZ(14,"div",40)(15,"p",41),e._UZ(16,"i",42),e._uU(17),e.qZA(),e.TgZ(18,"div")(19,"span",43),e._uU(20),e.qZA()()(),e.TgZ(21,"div",44)(22,"p",41),e._UZ(23,"i",45),e._uU(24),e.qZA(),e.TgZ(25,"div")(26,"span",43),e._uU(27),e.qZA()()(),e.TgZ(28,"div",44)(29,"p",41),e._UZ(30,"i",46),e._uU(31),e.qZA(),e.TgZ(32,"div")(33,"span",43),e._uU(34),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("series",t.expiredAssetsCounts.series)("labels",t.expiredAssetsCounts.labels)("chart",t.expiredAssetsCounts.chart)("plotOptions",t.expiredAssetsCounts.plotOptions)("dataLabels",t.expiredAssetsCounts.dataLabels)("legend",t.expiredAssetsCounts.legend)("stroke",t.expiredAssetsCounts.stroke)("colors",t.expiredAssetsCounts.colors),e.xp6(4),e.hij(" ",t.totalExpiredAssetCounts," "),e.xp6(7),e.hij(" ",t.expiredCounts[0].label," "),e.xp6(3),e.hij("",t.expiredCounts[0].value," Assets"),e.xp6(4),e.hij(" ",t.expiredCounts[1].label," "),e.xp6(3),e.hij("",t.expiredCounts[1].value," Assets"),e.xp6(4),e.hij(" ",t.expiredCounts[2].label," "),e.xp6(3),e.hij("",t.expiredCounts[2].value," Assets")}}function bl(n,r){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",48),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",49),e.TgZ(5,"a",50),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span",51),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"div",52),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"div",52),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"div",52),e._uU(18),e.qZA()()()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.assetTagId),e.xp6(2),e.s9C("src",t.assetImagePath?o.apiUrl+t.assetImagePath:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(2),e.Oqu(t.assetName),e.xp6(2),e.Q6J("ngClass",o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(3),e.hij(" ",t.daysUntilWarrantyExpired,"days "),e.xp6(3),e.hij(" ",t.daysUntilRMAEndWarrantyExpired,"days "),e.xp6(3),e.hij(" ",t.daysUntilExtendedEndWarrantyExpired,"days ")}}function fl(n,r){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,bl,19,8,"tr",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.assetWarranty.slice(0,8))}}function Tl(n,r){1&n&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",53)(3,"div",54)(4,"p",24),e._uU(5,"No Assets are expiring currently."),e.qZA()()()()())}function vl(n,r){if(1&n&&(e.TgZ(0,"tr",24)(1,"td",48),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"img",49),e.TgZ(5,"a",50),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",51),e._uU(17),e.qZA()(),e.TgZ(18,"td")(19,"span",51),e._uU(20),e.qZA()(),e.TgZ(21,"td")(22,"span",51),e._uU(23),e.qZA()(),e.TgZ(24,"td")(25,"span",51),e._uU(26),e.qZA()()()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.assetTagId),e.xp6(2),e.s9C("src",t.assetImagePath?o.apiUrl+t.assetImagePath:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(2),e.Oqu(t.assetName),e.xp6(2),e.Oqu(t.departmentName),e.xp6(2),e.Oqu(t.empNameLoanTo),e.xp6(2),e.Oqu(t.loanOutDate),e.xp6(2),e.Oqu(t.returnDate),e.xp6(2),e.Q6J("ngClass",o.returnStatusBadgeClassesStatus(t.assetConditionStatusId)),e.xp6(1),e.Oqu(t.assetConditionStatus),e.xp6(2),e.Q6J("ngClass",o.returnworkFlowAssetStatus(t.assetWorkFlowStatusId)),e.xp6(1),e.Oqu(t.assetWorkFlowStatus),e.xp6(2),e.Q6J("ngClass",o.returnStatusBadgeClassesStatus(t.assetCollectionStatusId)),e.xp6(1),e.Oqu(t.assetCollectionStatus),e.xp6(2),e.Q6J("ngClass",o.returnStatusBadgeClassesStatus(17)),e.xp6(1),e.Oqu(t.assetStatus)}}function Cl(n,r){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,vl,27,15,"tr",47),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listAssetLoanRetun)}}function xl(n,r){1&n&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",55)(3,"div",54)(4,"p",24),e._uU(5,"No Loan Assets found."),e.qZA()()()()())}let kl=(()=>{class n{constructor(t,o,a){this.dropdownService=t,this.assetDashboardService=o,this.commonFunctionService=a,this.apiUrl=c.N.apiUrl,this.label="Asset Dashboard",this.breadCrumbItems=[{label:"Dashboard"},{label:"Asset Dashboard",active:!0}],this.totalAssetCounts=[],this.companyList=[],this.expiredCounts=[],this.totalExpiredAssetCounts=0,this.assetWarranty=[],this.listAssetLoanRetun=[]}ngOnInit(){this.getCompanyDropdown(),this.getAllCardsData()}getAllCardsData(){this.assetDashboardService.getAllAssetData(this.selectedCompanyId?this.selectedCompanyId:void 0).subscribe({next:t=>{const o=t.objAssetTotalCount;this.totalAssetCounts=[{title:"IN SERVICE ASSETS",value:o.totalInserviceAsset,icon:"ri-tools-line"},{title:"Ready Stock Assets",value:o.totalReadyStockAsset,icon:"ri-shopping-cart-2-fill",profit:"up"},{title:"Loan Assets",value:o.totalLoanAsset,icon:"ri-money-dollar-circle-line",profit:"down"},{title:"Disposed Assets",value:o.totalDisposeAsset,icon:"ri-delete-bin-5-fill",profit:"up"},{title:"Transferred Asset",value:o.totalTransferedAsset,icon:"ri-git-pull-request-line",profit:"up"}];const a=t.objExpiredAssetCount,s=Object.entries(a).map(P=>P[1]),l=Object.entries(a).map(P=>P[0].replace("count","").split(/(?=[A-Z])/).join(" "));this.expiredCounts=Object.entries(a).map(P=>({label:P[0].replace("count","").split(/(?=[A-Z])/).join(" "),value:P[1]}));let g=0;Object.values(a).map(P=>g+=P),this.totalExpiredAssetCounts=g,this.generateExpiredAssetPieChart('["--vz-primary", "--vz-success", "--vz-warning", "--vz-danger", "--vz-info"]',s.length?s:[0,0,0],l);const G=t.objCriticalAsset,te=(Object.values(G).map(P=>P),Object.keys(G).map(P=>P.replace("total","")),Object.entries(G).map(P=>({name:P[0].replace("total","").split(/(?=[A-Z])/).join(" "),data:[P[1]]})));this.generateCriticalAssetRadialGraph('["--vz-primary", "--vz-info", "--vz-danger", "--vz-success"]',te),this.assetWarranty=t.listAssetWarrenty,this.listAssetLoanRetun=t.listAssetLoanRetun}})}getCompanyDropdown(){this.dropdownService.GetCompanyListDrobDown({}).subscribe(t=>{this.companyList=t.list})}onChangeCompanyDropdown(){this.getAllCardsData()}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}generateExpiredAssetPieChart(t,o,a){t=this.getChartColorsArray(t),this.expiredAssetsCounts={series:o,labels:a,chart:{type:"donut",height:250},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"70%",labels:{show:!1}}}},dataLabels:{enabled:!1},legend:{show:!1},stroke:{lineCap:"round",width:0},colors:t}}getChartColorsArray(t){return(t=JSON.parse(t)).map(function(o){var a=o.replace(" ","");if(-1===a.indexOf(",")){var s=getComputedStyle(document.documentElement).getPropertyValue(a);return s?s=s.replace(" ",""):a}var l=o.split(",");if(2==l.length){var g=getComputedStyle(document.documentElement).getPropertyValue(l[0]);return"rgba("+g+","+l[1]+")"}return a})}generateCriticalAssetRadialGraph(t,o){t=this.getChartColorsArray(t),this.criticalAssetsRadialGraph={series:o,chart:{type:"bar",height:450,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"85%",offsetX:0}},stroke:{show:!0,width:5,colors:["transparent"]},xaxis:{categories:[""],axisTicks:{show:!0,borderType:"solid",color:"#78909C",height:16,offsetX:0,offsetY:0},title:{text:"Critical Assets",offsetX:0,offsetY:-20,style:{color:"#78909C",fontSize:"12px",fontWeight:400}}},yaxis:{labels:{formatter:function(a){return a}},tickAmount:4,min:0},fill:{opacity:1},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontWeight:500,offsetX:0,itemMargin:{horizontal:8,vertical:0},markers:{width:10,height:10}},colors:t}}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(nt),e.Y36(U.K))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-dashboard"]],decls:77,vars:22,consts:[[3,"title","breadcrumbItems"],[1,"d-flex","justify-content-between"],[1,"search-box"],[1,"input-group","me-1"],["bindLabel","companyName","bindValue","companyId","placeholder","Select Company",1,"ng-select-width",3,"items","clearable","ngModel","ngModelChange","change"],[1,"row","mt-4"],[1,"col-xl-12"],[1,"card","crm-widget"],[1,"card-body","p-0"],[1,"row","row-cols-xxl-5","row-cols-md-5","g-0"],[4,"ngFor","ngForOf"],[1,"row","asset-dashboard"],["class","col-sm-6 col-md-6 col-lg-6 col-xl-3",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-6","col-xl-3"],[1,"card","card-height-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["dir","ltr",3,"series","chart","colors","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-6"],[1,"card-body","table-card2"],[1,"table-responsive"],[1,"table","table-borderless","table-hover","table-nowrap","align-middle","mb-0"],[1,"table-light"],[1,"text-muted"],["scope","col",2,"width","20%"],["scope","col"],["scope","col",2,"width","16%"],["scope","col",2,"width","12%"],[4,"ngIf"],[1,"col-sm-12","col-md-12","col-lg-12","col-xl-12","mt-xl-0"],[1,"card-title"],[3,"title","value","icon","profit"],[1,"card-header","align-items-center","d-flex"],[1,"card-body","pt-5"],["dir","ltr","dir","ltr",1,"apex-charts",3,"series","labels","chart","plotOptions","dataLabels","legend","stroke","colors"],[1,"mt-3"],[1,"d-flex","justify-content-center","align-items-center","mb-4"],[1,"me-3","ff-secondary","mb-0"],[1,"text-muted","mb-0"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2","mt-3"],[1,"fw-medium","mb-0"],[1,"ri-checkbox-blank-circle-fill","text-success","align-middle","me-2"],[1,"text-muted","pe-5"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2"],[1,"ri-checkbox-blank-circle-fill","text-primary","align-middle","me-2"],[1,"ri-checkbox-blank-circle-fill","text-warning","align-middle","me-2"],["class","text-muted",4,"ngFor","ngForOf"],[1,"text-primary"],["alt","",1,"avatar-xs","rounded-circle","me-2",3,"src"],["href","javascript:void(0);",1,"text-body","fw-medium"],[3,"ngClass"],[1,"text-nowrap"],["colspan","6"],[1,"text-center","mt-3"],["colspan","10"]],template:function(o,a){1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1),e._UZ(2,"div"),e.TgZ(3,"div",2)(4,"div",3)(5,"ng-select",4),e.NdJ("ngModelChange",function(l){return a.selectedCompanyId=l})("change",function(){return a.onChangeCompanyDropdown()}),e.qZA()()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),e.YNc(11,ml,2,4,"div",10),e.qZA()()()()(),e.TgZ(12,"div",11),e.YNc(13,hl,35,15,"div",12),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"h4",16),e._uU(18,"Asset Critical Counts"),e.qZA()(),e.TgZ(19,"div",17),e._UZ(20,"apx-chart",18),e.qZA()()(),e.TgZ(21,"div",19)(22,"div",14)(23,"div",15)(24,"h4",16),e._uU(25,"Assets Warranty"),e.qZA()(),e.TgZ(26,"div",20)(27,"div",21)(28,"table",22)(29,"thead",23)(30,"tr",24)(31,"th",25),e._uU(32,"Asset Tag"),e.qZA(),e.TgZ(33,"th",26),e._uU(34,"Asset Name"),e.qZA(),e.TgZ(35,"th",27),e._uU(36,"Status"),e.qZA(),e.TgZ(37,"th",28),e._uU(38,"Expiry"),e.qZA(),e.TgZ(39,"th",28),e._uU(40,"RMA"),e.qZA(),e.TgZ(41,"th",28),e._uU(42,"Extended"),e.qZA()()(),e.YNc(43,fl,2,1,"tbody",29)(44,Tl,6,0,"tbody",29),e.qZA()()()()(),e.TgZ(45,"div",30)(46,"div",14)(47,"div",15)(48,"h4",31),e._uU(49,"Loan Assets"),e.qZA()(),e.TgZ(50,"div",20)(51,"div",21)(52,"table",22)(53,"thead",23)(54,"tr",24)(55,"th",26),e._uU(56,"Asset Tag"),e.qZA(),e.TgZ(57,"th",26),e._uU(58,"Asset Name"),e.qZA(),e.TgZ(59,"th",26),e._uU(60,"Department"),e.qZA(),e.TgZ(61,"th",26),e._uU(62,"Loan To"),e.qZA(),e.TgZ(63,"th",26),e._uU(64,"Loan Out Date"),e.qZA(),e.TgZ(65,"th",26),e._uU(66,"Return Date"),e.qZA(),e.TgZ(67,"th",26),e._uU(68,"Condition Status"),e.qZA(),e.TgZ(69,"th",26),e._uU(70,"Workflow Status"),e.qZA(),e.TgZ(71,"th",28),e._uU(72,"Collection Status"),e.qZA(),e.TgZ(73,"th",26),e._uU(74,"Status"),e.qZA()()(),e.YNc(75,Cl,2,1,"tbody",29)(76,xl,6,0,"tbody",29),e.qZA()()()()()()),2&o&&(e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(5),e.Q6J("items",a.companyList)("clearable",!0)("ngModel",a.selectedCompanyId),e.xp6(6),e.Q6J("ngForOf",a.totalAssetCounts),e.xp6(2),e.Q6J("ngIf",a.expiredAssetsCounts&&a.expiredAssetsCounts.series),e.xp6(7),e.Q6J("series",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.series)("chart",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.chart)("colors",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.colors)("dataLabels",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.dataLabels)("plotOptions",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.plotOptions)("yaxis",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.yaxis)("legend",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.legend)("fill",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.fill)("stroke",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.stroke)("tooltip",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.tooltip)("xaxis",null==a.criticalAssetsRadialGraph?null:a.criticalAssetsRadialGraph.xaxis),e.xp6(23),e.Q6J("ngIf",0!==a.assetWarranty.length),e.xp6(1),e.Q6J("ngIf",0===a.assetWarranty.length),e.xp6(31),e.Q6J("ngIf",0!=a.listAssetLoanRetun.length),e.xp6(1),e.Q6J("ngIf",0===a.listAssetLoanRetun.length))},dependencies:[i.mk,i.sg,i.O5,f.JJ,f.On,j.x,fe.w9,se.n,gl],styles:[".ng-select-width[_ngcontent-%COMP%]{width:350px}.asset-dashboard[_ngcontent-%COMP%]   .table-card2[_ngcontent-%COMP%]{min-height:400px!important;margin:-1rem!important}"]})}}return n})();const wl=["inputerTicketNumber"];function Dl(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",40),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Al(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",43),e._uU(5),e.qZA(),e.TgZ(6,"td",43),e._uU(7),e.qZA(),e.TgZ(8,"td",43),e._uU(9),e.qZA(),e.TgZ(10,"td",43),e._uU(11),e.qZA(),e.TgZ(12,"td",43),e._uU(13),e.qZA(),e.TgZ(14,"td",44)(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"td",44)(18,"span"),e._uU(19),e.qZA()(),e.TgZ(20,"td")(21,"span")(22,"div",45)(23,"button",46),e._UZ(24,"i",47),e.qZA(),e.TgZ(25,"ul",48)(26,"li")(27,"a",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._UZ(28,"i",50),e._uU(29," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("title",t.ticketTitle)("id","ticketTitle_"+t.ticketId),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.ticketId),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.ticketId),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("title",t.createdDate)("id","createdDate_"+t.ticketId),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(o.returnWorkFlowStatusBadgeClasses(t.ticketWorkFlowStatusId)),e.xp6(1),e.Oqu(t.ticketWorkFlowStatusName),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName)}}function Sl(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Al,30,22,"tr",41),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function Zl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",51),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Il(n,r){if(1&n&&(e.TgZ(0,"div",31)(1,"table",32)(2,"thead")(3,"tr",33)(4,"th"),e._uU(5,"TICKET NO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Create Date"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"WorkFlow Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,Dl,4,0,"ng-container",34)(24,Sl,2,1,"ng-container",34),e.qZA()()(),e.TgZ(25,"div",35)(26,"div",36)(27,"div",37),e._uU(28),e.qZA()(),e.TgZ(29,"div",36)(30,"div",38),e.YNc(31,Zl,1,5,"ngb-pagination",39),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let yl=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"WorkFlow"},{label:"WorkFlow Ticket List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchTicketName:null,TicketStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.isProject=this.authService.getisProject(),this.storeWorkflowObject={...this.helpDeskService.workflowObject},this.storeTicketStatusId=this.storeWorkflowObject.statusId?this.storeWorkflowObject.statusId:0,0==this.storeTicketStatusId||null==this.storeTicketStatusId?this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"]):(this.loadData(),this.getDropdownCompanyList(),this.breadCrumbItems=[{label:"WorkFlow"},{label:this.storeWorkflowObject.workflowName,active:!0}])}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.TicketStatusId=this.storeTicketStatusId,this.payload.searchTicketWorkFlowStatusId=this.storeWorkflowObject.ticketWorkFlowStatusId,this.ticketService.getV2_MaintenanceWorkflowTicketList(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.ticketService.sendTicketId=t.ticketId,this.ticketService.ticketObjectInBillingWorkFlow={...t},this.ticketService.lastStoreRouterDashboardName="/maintenace-management/dashboard/workflow-ticket-list",this.router.navigate(["maintenace-management/dashboard/view-new-ticket-list"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchTicketName:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchTicketName=this.typeTicketNameValue,this.loadData()}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-workflow-ticket-list"]],viewQuery:function(o,a){if(1&o&&e.Gf(wl,7),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:37,vars:18,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"fs-12","ms-1"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for ticket name",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","9",1,"text-center"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"title","id"],[1,"status"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8," Ticket List"),e.TgZ(9,"span",8),e._uU(10),e.qZA()()(),e.TgZ(11,"div",9)(12,"div",10)(13,"input",11,12),e.NdJ("ngModelChange",function(l){return a.typeTicketNameValue=l}),e.qZA(),e._UZ(15,"i",13),e.qZA()()()(),e.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(20,"div",16)(21,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(22,"div",16)(23,"ng-select",19),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(24,"div",20)(25,"div",21)(26,"button",22),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(27,"i",23),e._uU(28," Clear "),e.qZA()()()()(),e.TgZ(29,"div",24)(30,"div")(31,"ul",25,26)(33,"li",27),e.YNc(34,Il,32,7,"ng-template",28),e.qZA()(),e.TgZ(35,"div",29),e._UZ(36,"div",30),e.qZA()()()()()()),2&o){const s=e.MAs(32);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(10),e.hij(" (Waiting For ","Reviewer"==a.storeWorkflowObject.approverType?"Review":"Approve",")"),e.xp6(3),e.Q6J("ngModel",a.typeTicketNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!1)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();const ql=["inputerQuotationName"],Nl=["inputerQuotationUmber"],Ll=["inputerTicketNumber"];function Ul(n,r){if(1&n&&(e.TgZ(0,"span",35),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" (Waiting For ","Reviewer"==t.storeWorkflowObject.approverType?"Review":"Approve",")")}}function Ol(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",45),e._uU(3," No Quotation Data "),e.qZA()(),e.BQk())}function Ml(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("quotTitle_"+s.quotNo))}),e._uU(7),e.qZA(),e.TgZ(8,"td",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+s.quotNo))}),e._uU(9),e.qZA(),e.TgZ(10,"td",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+s.quotNo))}),e._uU(11),e.qZA(),e.TgZ(12,"td",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("projectName_"+s.quotNo))}),e._uU(13),e.qZA(),e.TgZ(14,"td",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("createdDate_"+s.quotNo))}),e._uU(15),e.qZA(),e.TgZ(16,"td",49)(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td",49)(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span")(24,"div",50)(25,"button",51),e._UZ(26,"i",52),e.qZA(),e.TgZ(27,"ul",53)(28,"li")(29,"a",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._UZ(30,"i",55),e._uU(31," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Oqu(t.quotNo),e.xp6(2),e.hij(" ",t.ticketNo," "),e.xp6(1),e.Q6J("id","quotTitle_"+t.quotNo),e.xp6(1),e.hij(" ",t.quotTitle," "),e.xp6(1),e.Q6J("id","companyName_"+t.quotNo),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("id","clientName_"+t.quotNo),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("id","projectName_"+t.quotNo),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("id","createdDate_"+t.quotNo),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(o.returnWorkFlowStatusBadgeClasses(t.quotationWorkflowStatusId)),e.xp6(1),e.Oqu(t.quotationWorkflowStatusName),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.quotStatusId)),e.xp6(1),e.Oqu(t.quotStatusName)}}function Vl(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ml,32,18,"tr",46),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function Ql(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",56),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Jl(n,r){if(1&n&&(e.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr",38)(4,"th"),e._uU(5,"Quotation NO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"TICKET NO"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Title"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Client"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Create Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"WorkFlow Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Ol,4,0,"ng-container",39)(26,Vl,2,1,"ng-container",39),e.qZA()()(),e.TgZ(27,"div",40)(28,"div",41)(29,"div",42),e._uU(30),e.qZA()(),e.TgZ(31,"div",41)(32,"div",43),e.YNc(33,Ql,1,5,"ngb-pagination",44),e.qZA()()()),2&n){const t=e.oxw();e.xp6(15),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let Rl=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"WorkFlow"},{label:"WorkFlow Quotation List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,QuotStatusId:null,SearchQuotName:null,SearchTicketNo:null,SearchQuotNo:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.isProject=this.authService.getisProject(),this.storeWorkflowObject={...this.helpDeskService.workflowObject},this.storeTicketStatusId=this.storeWorkflowObject.statusId?this.storeWorkflowObject.statusId:0,this.helpDeskService.pageAction?(this.getDropdownCompanyList(),this.breadCrumbItems=[{label:"WorkFlow"},{label:this.storeWorkflowObject.workflowName,active:!0}],this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole?this.disabledWithAceessGroup=!0:this.loadData()):this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"])}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){"Workflow Page"==this.helpDeskService.pageAction?(this.payload.QuotStatusId=this.storeTicketStatusId,this.payload.SearchIsComplete=!1,this.payload.searchQuotationWorkflowStatusId=this.storeWorkflowObject.ticketWorkFlowStatusId):"Waiting for Generate Invoice"==this.helpDeskService.pageAction&&(this.payload.SearchIsQuotationBilled=!1,this.payload.SearchIsComplete=!0,this.payload.QuotStatusId=56),this.ticketService.getV2_MaintenanceWorkflowQuotationList(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.ticketService.sendTicketId=t.ticketId,this.ticketService.quotationObjectWorkFlow={...t},this.ticketService.lastStoreRouterDashboardName="/maintenace-management/dashboard/quotation-ticket-list",this.router.navigate(["maintenace-management/dashboard/view-new-ticket-list"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.typeQuotationNumberValue=null,this.typeQuotationNameValue=null,this.typeTicketNameValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchQuotName:null,SearchTicketNo:null,SearchQuotNo:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe(),(0,_e.R)(this.inputerQuotationUmber.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeQuotationNumberValueChange()})).subscribe(),(0,_e.R)(this.inputerQuotationName.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeQuotationNameValueChange()})).subscribe()}onTypeQuotationNameValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchQuotName=this.typeQuotationNameValue,this.loadData()}onTypeQuotationNumberValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchQuotNo=this.typeQuotationNumberValue,this.loadData()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchTicketNo=this.typeTicketNameValue,this.loadData()}ngOnDestroy(){}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-quotation-ticket-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf(ql,7),e.Gf(Nl,7),e.Gf(Ll,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerQuotationName=s.first),e.iGM(s=e.CRH())&&(a.inputerQuotationUmber=s.first),e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:44,vars:23,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],["class","fs-12 ms-1",4,"ngIf"],[1,"col-sm-auto","col-xxl-9","d-flex","gap-2","flex-nowrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for quotation name",1,"form-control",3,"ngModel","ngModelChange"],["inputerQuotationName",""],[1,"ri-search-line","search-icon"],["type","search","name","searchTerm","placeholder","Search for quotation number",1,"form-control",3,"ngModel","ngModelChange"],["inputerQuotationUmber",""],["type","search","name","searchTerm","placeholder","Search for ticket number",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"fs-12","ms-1"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","9",1,"text-center"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"id","click"],[1,"status"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8," Quotation List"),e.YNc(9,Ul,2,1,"span",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"input",11,12),e.NdJ("ngModelChange",function(l){return a.typeQuotationNameValue=l}),e.qZA(),e._UZ(14,"i",13),e.qZA(),e.TgZ(15,"div",10)(16,"input",14,15),e.NdJ("ngModelChange",function(l){return a.typeQuotationNumberValue=l}),e.qZA(),e._UZ(18,"i",13),e.qZA(),e.TgZ(19,"div",10)(20,"input",16,17),e.NdJ("ngModelChange",function(l){return a.typeTicketNameValue=l}),e.qZA(),e._UZ(22,"i",13),e.qZA()()()(),e.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"ng-select",21),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(27,"div",20)(28,"ng-select",22),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(29,"div",20)(30,"ng-select",23),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(31,"div",24)(32,"div",25)(33,"button",26),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(34,"i",27),e._uU(35," Clear "),e.qZA()()()()(),e.TgZ(36,"div",28)(37,"div")(38,"ul",29,30)(40,"li",31),e.YNc(41,Jl,34,7,"ng-template",32),e.qZA()(),e.TgZ(42,"div",33),e._UZ(43,"div",34),e.qZA()()()()()()),2&o){const s=e.MAs(39);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(9),e.Q6J("ngIf","Workflow Page"==a.helpDeskService.pageAction),e.xp6(3),e.Q6J("ngModel",a.typeQuotationNameValue),e.xp6(4),e.Q6J("ngModel",a.typeQuotationNumberValue),e.xp6(4),e.Q6J("ngModel",a.typeTicketNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();const jl=["inputerSOTiltle"];function Pl(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",39),e._uU(3," No Service Order Data "),e.qZA()(),e.BQk())}function Fl(n,r){if(1&n&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function El(n,r){if(1&n&&(e.TgZ(0,"span",54),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function Bl(n,r){if(1&n&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function Gl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("woName_"+s.woNo))}),e._uU(7),e.qZA(),e.TgZ(8,"td",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+s.woNo))}),e._uU(9),e.qZA(),e.TgZ(10,"td",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+s.woNo))}),e._uU(11),e.qZA(),e.TgZ(12,"td",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("projectName_"+s.woNo))}),e._uU(13),e.qZA(),e.TgZ(14,"td",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("createdDate_"+s.woNo))}),e._uU(15),e.qZA(),e.TgZ(16,"td",43),e.YNc(17,Fl,2,1,"span",44)(18,El,2,1,"span",45)(19,Bl,2,1,"span",46),e.qZA(),e.TgZ(20,"td",43)(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"td")(24,"span")(25,"div",47)(26,"button",48),e._UZ(27,"i",49),e.qZA(),e.TgZ(28,"ul",50)(29,"li")(30,"a",51),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._UZ(31,"i",52),e._uU(32," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Oqu(t.woNo),e.xp6(2),e.hij(" ",t.ticketNo," "),e.xp6(1),e.Q6J("id","woName_"+t.woNo),e.xp6(1),e.hij(" ",t.woName," "),e.xp6(1),e.Q6J("id","companyName_"+t.woNo),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("id","clientName_"+t.woNo),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("id","projectName_"+t.woNo),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("id","createdDate_"+t.woNo),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Q6J("ngIf","High"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Low"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Medium"==(null==t?null:t.urgencyTypeName)),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.woStatusId)),e.xp6(1),e.Oqu(t.woStatusName)}}function Yl(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Gl,33,18,"tr",40),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.serviceOrderList)}}function Hl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",56),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Wl(n,r){if(1&n&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"SO NO."),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Ticket NO."),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Title"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Client"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Create Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Priority"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Pl,4,0,"ng-container",33)(26,Yl,2,1,"ng-container",33),e.qZA()()(),e.TgZ(27,"div",34)(28,"div",35)(29,"div",36),e._uU(30),e.qZA()(),e.TgZ(31,"div",35)(32,"div",37),e.YNc(33,Hl,1,5,"ngb-pagination",38),e.qZA()()()),2&n){const t=e.oxw();e.xp6(15),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.serviceOrderList.length),e.xp6(1),e.Q6J("ngIf",0!=t.serviceOrderList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let Kl=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.serviceOrderService=P,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"Service"},{label:"Service List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchWOName:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.serviceOrderList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.isProject=this.authService.getisProject(),this.serviceOrderStatusId=this.helpDeskService.serviceStatusId?this.helpDeskService.serviceStatusId:0,0==this.serviceOrderStatusId||null==this.serviceOrderStatusId?this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"]):(this.loadData(),this.getDropdownCompanyList())}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.SearchWOStatusId=this.serviceOrderStatusId,"Assign Member & Site Visit Date Time"==this.helpDeskService.pageAction&&(this.payload.SearchExpWrkStartDateRequired=!0),this.serviceOrderService.getWoList(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.serviceOrderList=t.list,this.serviceOrderList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.serviceOrderService.sendServicOrderId=t.soId,this.ticketService.sendTicketId=t.ticketId,this.ticketService.lastStoreRouterDashboardName="/maintenace-management/dashboard/dashboard-servicet-order-list",this.router.navigate(["maintenace-management/dashboard/view-new-ticket-list"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchWOName:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerSOTiltle.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchWOName=this.typeSONameValue,this.loadData()}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S),e.Y36(Xe.R))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashborad-service-order-list"]],viewQuery:function(o,a){if(1&o&&e.Gf(jl,7),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerSOTiltle=s.first)}},decls:35,vars:17,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for service order name",1,"form-control",3,"ngModel","ngModelChange"],["inputerSOTiltle",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","10",1,"text-center"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"id","click"],[1,"status"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Service Order List"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10,11),e.NdJ("ngModelChange",function(l){return a.typeSONameValue=l}),e.qZA(),e._UZ(13,"i",12),e.qZA()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"ng-select",16),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(18,"div",15)(19,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(20,"div",15)(21,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(22,"div",19)(23,"div",20)(24,"button",21),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(25,"i",22),e._uU(26," Clear "),e.qZA()()()()(),e.TgZ(27,"div",23)(28,"div")(29,"ul",24,25)(31,"li",26),e.YNc(32,Wl,34,7,"ng-template",27),e.qZA()(),e.TgZ(33,"div",28),e._UZ(34,"div",29),e.qZA()()()()()()),2&o){const s=e.MAs(30);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("ngModel",a.typeSONameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();const zl=["inputerTicketNumber"];function $l(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",39),e._uU(3," No Ticket Data "),e.qZA()(),e.BQk())}function Xl(n,r){1&n&&e._UZ(0,"i",55)}function ec(n,r){if(1&n&&(e.TgZ(0,"span",56),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function tc(n,r){if(1&n&&(e.TgZ(0,"span",57),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function ic(n,r){if(1&n&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.urgencyTypeName," ")}}function nc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._uU(3),e.qZA(),e.YNc(4,Xl,1,0,"i",42),e.qZA(),e.TgZ(5,"td",43),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("ticketTitle_"+s.ticketId+"_"+l))}),e._uU(6),e.qZA(),e.TgZ(7,"td",43),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("companyName_"+s.ticketId+"_"+l))}),e._uU(8),e.qZA(),e.TgZ(9,"td",43),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("clientName_"+s.ticketId+"_"+l))}),e._uU(10),e.qZA(),e.TgZ(11,"td",43),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index,g=e.oxw(3);return e.KtG(g.expandTitle("projectName_"+s.ticketId+"_"+l))}),e._uU(12),e.qZA(),e.TgZ(13,"td",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("createdDate_"+s.ticketId))}),e._uU(14),e._UZ(15,"br"),e.TgZ(16,"span",44),e._uU(17),e.qZA()(),e.TgZ(18,"td",45),e.YNc(19,ec,2,1,"span",46)(20,tc,2,1,"span",47)(21,ic,2,1,"span",48),e.qZA(),e.TgZ(22,"td",45)(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"span")(27,"div",49)(28,"button",50),e._UZ(29,"i",51),e.qZA(),e.TgZ(30,"ul",52)(31,"li")(32,"a",53),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.ticketId))}),e._UZ(33,"i",54),e._uU(34," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(3);e.xp6(3),e.Oqu(t.ticketNo),e.xp6(1),e.Q6J("ngIf",!t.isGlobal),e.xp6(1),e.Q6J("title",t.ticketTitle)("id","ticketTitle_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.ticketTitle," "),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.ticketId+"_"+o),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("title",t.createdDate)("id","createdDate_"+t.ticketId),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(3),e.Oqu(t.ticketTypeName),e.xp6(2),e.Q6J("ngIf","High"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Low"==(null==t?null:t.urgencyTypeName)),e.xp6(1),e.Q6J("ngIf","Medium"==(null==t?null:t.urgencyTypeName)),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName)}}function ac(n,r){if(1&n&&(e.ynx(0),e.YNc(1,nc,35,24,"tr",40),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function oc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",59),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function sc(n,r){if(1&n&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"TICKET NO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Title"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Create Date"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Priority"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,$l,4,0,"ng-container",33)(24,ac,2,1,"ng-container",33),e.qZA()()(),e.TgZ(25,"div",34)(26,"div",35)(27,"div",36),e._uU(28),e.qZA()(),e.TgZ(29,"div",35)(30,"div",37),e.YNc(31,oc,1,5,"ngb-pagination",38),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let rc=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"Ticket"},{label:"New Ticket List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.isProject=this.authService.getisProject(),this.storeTicketStatusId=this.helpDeskService.ticketStatusId?this.helpDeskService.ticketStatusId:0,0==this.storeTicketStatusId||null==this.storeTicketStatusId?this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"]):(this.getDropdownCompanyList(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole?(this.disabledWithAceessGroup=!0,this.loadData()):this.loadData())}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.SearchTicketStatusId=this.storeTicketStatusId,"Incident Tech Sign"==this.helpDeskService.pageAction?this.payload.SearchIncindetTechSignImageURL=!0:"Incident Client Sign"==this.helpDeskService.pageAction?this.payload.SearchIncindetClientSignImageURL=!0:"Waiting Client to Close Ticket"===this.helpDeskService.pageAction&&(this.payload.SearchOperationType="Service"),this.ticketService.getV2_TicketWithIncidentReportSignature_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.ticketService.sendTicketId=t,this.ticketService.ticketPageAction="Incident Tech Sign",this.ticketService.lastStoreTicketRouterName="/maintenace-management/dashboard/tech-sigature-ticket-list",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["/maintenace-management/corrective/ticket/ticket-view"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.typeTicketNameValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchLocationId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchTicketTitle:null,SearchTicketNo:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange(""))),this.typeTicketNameValue=null}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ue.b)(1e3),(0,Ke.U)(t=>t.target.value),(0,ge.x)((t,o)=>t===o||!t&&!o),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchTicketTitle=this.typeTicketNameValue,this.loadData()}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-ticket-list-for-signature"]],viewQuery:function(o,a){if(1&o&&e.Gf(zl,7),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:35,vars:20,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for ticket name",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","9",1,"text-center"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbTooltip","Internal","class","ri-home-gear-line align-bottom ms-2 text-info fs-15",4,"ngIf"],[1,"title",3,"title","id","click"],[1,"badge","bg-info"],[1,"status"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["ngbTooltip","Internal",1,"ri-home-gear-line","align-bottom","ms-2","text-info","fs-15"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"New Ticket List"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10,11),e.NdJ("ngModelChange",function(l){return a.typeTicketNameValue=l}),e.qZA(),e._UZ(13,"i",12),e.qZA()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"ng-select",16),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(18,"div",15)(19,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(20,"div",15)(21,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(22,"div",19)(23,"div",20)(24,"button",21),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(25,"i",22),e._uU(26," Clear "),e.qZA()()()()(),e.TgZ(27,"div",23)(28,"div")(29,"ul",24,25)(31,"li",26),e.YNc(32,sc,32,7,"ng-template",27),e.qZA()(),e.TgZ(33,"div",28),e._UZ(34,"div",29),e.qZA()()()()()()),2&o){const s=e.MAs(30);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("ngModel",a.typeTicketNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();const lc=["streetviewMap"],cc=["streetviewPano"],dc=["myMap"];function pc(n,r){if(1&n&&(e.TgZ(0,"div",16),e._UZ(1,"app-projects-stat",17),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("title",t.title)("value",t.value)("icon",t.icon)("month",t.month)("progressBar",t.progressBar)("subItem",t.subItem)}}function _c(n,r){if(1&n&&(e.TgZ(0,"span",44),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function uc(n,r){if(1&n&&(e.TgZ(0,"span",45),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function gc(n,r){if(1&n&&(e.TgZ(0,"span",46),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.taskType)}}function mc(n,r){if(1&n&&(e.TgZ(0,"span",47),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function hc(n,r){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.transactionType)}}function bc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30),e._UZ(2,"img",31),e.TgZ(3,"div")(4,"h5",32),e._uU(5),e.qZA(),e.TgZ(6,"p",33),e._uU(7),e.qZA(),e.TgZ(8,"p",34),e.YNc(9,_c,2,1,"span",35)(10,uc,2,1,"span",36)(11,gc,2,1,"span",37)(12,mc,2,1,"span",38)(13,hc,2,1,"span",39),e.qZA()()(),e.TgZ(14,"div",40)(15,"span",41),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span",41),e._uU(19),e.qZA(),e._UZ(20,"br"),e.qZA(),e.TgZ(21,"div",42)(22,"i",43),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewMaps(s))}),e.qZA()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("src",o.imgUrl+t.profileImageUrl,e.LSH),e.xp6(3),e.Oqu(t.techName),e.xp6(2),e.hij(" ",t.designationName," "),e.xp6(2),e.Q6J("ngIf","Corrective"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"===t.taskType),e.xp6(1),e.Q6J("ngIf","Preventive"!==t.taskType&&"Corrective"!==t.taskType),e.xp6(1),e.Q6J("ngIf","Check-In"===t.transactionType),e.xp6(1),e.Q6J("ngIf","Check-Out"===t.transactionType),e.xp6(3),e.hij(" Start - ",t.startDateTime," "),e.xp6(3),e.hij(" End - ",t.endDateTime||"NA"," ")}}function fc(n,r){if(1&n&&(e.ynx(0),e.YNc(1,bc,23,10,"div",28),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.technitionsAttendanceTransactionList)}}function Tc(n,r){1&n&&(e.ynx(0),e.TgZ(1,"div",49)(2,"div"),e._UZ(3,"lord-icon",50),e.qZA(),e.TgZ(4,"div",51)(5,"h5"),e._uU(6,"Sorry! No Attendance Transaction"),e.qZA()()(),e.BQk())}function vc(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ( ",null==t.storeMapData?null:t.storeMapData.techName,")")}}function Cc(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1," | "),e._UZ(2,"img",52),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE(" Check-In ( ",null==t.storeMapData?null:t.storeMapData.startLongitude," : ",null==t.storeMapData?null:t.storeMapData.startLatitude,")")}}function xc(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1," | "),e._UZ(2,"img",53),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.AsE(" Check-Out ( ",null==t.storeMapData?null:t.storeMapData.endLongitude," : ",null==t.storeMapData?null:t.storeMapData.endLatitude,")")}}function kc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-marker",54,55),e.NdJ("mapClick",function(){e.CHM(t);const a=e.MAs(1),s=e.oxw(2);return e.KtG(s.openInfoWindow_newInfo(a,"checkIn"))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("position",t.markers[0])("icon",t.getMarkerIcon())("label","Check-In")}}function wc(n,r){if(1&n&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Dc(n,r){if(1&n&&(e.TgZ(0,"span",77),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Ac(n,r){if(1&n&&(e.TgZ(0,"span",78),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Sc(n,r){if(1&n&&(e.TgZ(0,"li",72)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Checkin Address :- ",null==t.storeMapData?null:t.storeMapData.address_Start,"")}}function Zc(n,r){if(1&n&&(e.TgZ(0,"li",72)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Checkout Address :- ",null==t.storeMapData?null:t.storeMapData.address_End,"")}}function Ic(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-info-window",56),e.NdJ("closeclick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.closeInfoWindow())}),e.TgZ(1,"div",57)(2,"div",58)(3,"ul",59)(4,"li")(5,"div",60)(6,"div",61),e._UZ(7,"img",62),e.qZA(),e.TgZ(8,"div",63)(9,"h6",64),e._uU(10),e.qZA(),e.TgZ(11,"p",65),e._uU(12),e.qZA(),e.TgZ(13,"p",65),e._uU(14),e.qZA(),e.TgZ(15,"p",65),e._uU(16),e.qZA(),e.TgZ(17,"p",65),e._uU(18),e.qZA(),e.TgZ(19,"p",66),e.YNc(20,wc,2,1,"span",67)(21,Dc,2,1,"span",68)(22,Ac,2,1,"span",69),e.qZA()()()(),e.TgZ(23,"li",70),e._UZ(24,"i",71),e._uU(25),e.qZA(),e.TgZ(26,"li",72),e._UZ(27,"i",73),e._uU(28),e.qZA(),e.TgZ(29,"li",72),e._UZ(30,"i",74),e._uU(31),e.qZA(),e.YNc(32,Sc,3,1,"li",75)(33,Zc,3,1,"li",75),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.Q6J("options",t.infoWindowOptions)("position",t.markers[0])("isOpen",!0),e.xp6(7),e.Q6J("src",t.imgUrl+(null==t.storeMapData?null:t.storeMapData.profileImageUrl),e.LSH),e.xp6(3),e.hij(" ",null==t.storeMapData?null:t.storeMapData.techName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.designationName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.companyName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.clientName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.projectName," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.email," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.phoneNumber," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.startDateTime," "),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_Start),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_End)}}function yc(n,r){if(1&n&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function qc(n,r){if(1&n&&(e.TgZ(0,"span",77),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Nc(n,r){if(1&n&&(e.TgZ(0,"span",78),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",null==t.storeMapData?null:t.storeMapData.taskType," ")}}function Lc(n,r){if(1&n&&(e.TgZ(0,"li",72)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.hij("Checkin Address :- ",null==t.storeMapData?null:t.storeMapData.address_Start,"")}}function Uc(n,r){if(1&n&&(e.TgZ(0,"li",72)(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.hij("Checkout Address :- ",null==t.storeMapData?null:t.storeMapData.address_End,"")}}function Oc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-info-window",81,82),e.NdJ("closeclick",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.closeInfoWindow())}),e.TgZ(2,"div",57)(3,"div",58)(4,"ul",59)(5,"li")(6,"div",60)(7,"div",61),e._UZ(8,"img",62),e.qZA(),e.TgZ(9,"div",63)(10,"h6",83),e._uU(11),e.qZA(),e.TgZ(12,"p",84),e._uU(13),e.qZA(),e.TgZ(14,"p",84),e._uU(15),e.qZA(),e.TgZ(16,"p",84),e._uU(17),e.qZA(),e.TgZ(18,"p",84),e._uU(19),e.qZA()()()(),e.TgZ(20,"li",70),e._UZ(21,"i",71),e._uU(22),e.qZA(),e.TgZ(23,"li",72),e._UZ(24,"i",73),e._uU(25),e.qZA(),e.TgZ(26,"li",72),e._UZ(27,"i",74),e._uU(28),e.qZA(),e.TgZ(29,"li",72),e._UZ(30,"i",74),e._uU(31),e.qZA(),e.TgZ(32,"li",72),e.YNc(33,yc,2,1,"span",67)(34,qc,2,1,"span",68)(35,Nc,2,1,"span",69),e.qZA(),e.YNc(36,Lc,3,1,"li",75)(37,Uc,3,1,"li",75),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.Q6J("disableAutoPan",!0)("isOpen","checkOut"===t.infoWindowOpen),e.xp6(8),e.Q6J("src",t.imgUrl+(null==t.storeMapData?null:t.storeMapData.profileImageUrl),e.LSH),e.xp6(3),e.hij(" ",null==t.storeMapData?null:t.storeMapData.techName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.designationName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.companyName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.clientName," "),e.xp6(2),e.hij(" ",null==t.storeMapData?null:t.storeMapData.projectName," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.email," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.phoneNumber," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.startDateTime," "),e.xp6(3),e.hij("",null==t.storeMapData?null:t.storeMapData.endDateTime," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t.storeMapData?null:t.storeMapData.taskType)),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_Start),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.address_End)}}function Mc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"map-marker",54,79),e.NdJ("mapClick",function(){e.CHM(t);const a=e.MAs(1),s=e.oxw(2);return e.KtG(s.openInfoWindow_newInfo(a,"checkOut"))}),e.YNc(2,Oc,38,17,"map-info-window",80),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("position",t.markers[1])("icon",t.getMarkerIcon(1))("label","Check-Out"),e.xp6(2),e.Q6J("ngIf",(null==t.storeMapData?null:t.storeMapData.endLatitude)&&"checkOut"===t.infoWindowOpen)}}function Vc(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h4",21),e._uU(5,"Technician"),e.qZA()(),e.TgZ(6,"div",22),e.YNc(7,fc,2,1,"ng-container",23)(8,Tc,7,0,"ng-container",23),e.qZA()()(),e.TgZ(9,"div",24)(10,"div",19)(11,"div",20)(12,"h4",21),e._uU(13," Map "),e.YNc(14,vc,2,1,"span",23)(15,Cc,4,2,"span",23)(16,xc,4,2,"span",23),e.qZA()(),e.TgZ(17,"div",22)(18,"google-map",25),e.YNc(19,kc,2,3,"map-marker",26)(20,Ic,34,17,"map-info-window",27)(21,Mc,3,4,"map-marker",26),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",0!=t.technitionsAttendanceTransactionList.length),e.xp6(1),e.Q6J("ngIf",0==t.technitionsAttendanceTransactionList.length),e.xp6(6),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.techName),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.startLongitude),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.endLongitude),e.xp6(2),e.Q6J("latitude",t.latitude)("longitude",t.longitude)("options",t.mapOptions),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.startLatitude),e.xp6(1),e.Q6J("ngIf",(null==t.storeMapData?null:t.storeMapData.techName)&&"checkIn"===t.infoWindowOpen),e.xp6(1),e.Q6J("ngIf",null==t.storeMapData?null:t.storeMapData.endLatitude)}}function Qc(n,r){1&n&&e._UZ(0,"i",116)}function Jc(n,r){1&n&&e._UZ(0,"i",117)}function Rc(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"Kindly generate a service order and assign the task to support team or member for resolution."),e.qZA())}function jc(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," Haven't been any new support tickets. "),e.qZA())}function Pc(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Qc,1,0,"i",105)(8,Jc,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countNewTicket,48,"New Ticket"))}),e.TgZ(10,"h5",108),e._uU(11," New Ticket Received "),e.qZA(),e.YNc(12,Rc,2,0,"a",109)(13,jc,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countNewTicket?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(1),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countNewTicket),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countNewTicket?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countNewTicket," ")}}function Fc(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Pc,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countNewTicket)}}function Ec(n,r){1&n&&e._UZ(0,"i",116)}function Bc(n,r){1&n&&e._UZ(0,"i",117)}function Gc(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"Account/Project Manager has approved the tickets as billable."),e.qZA())}function Yc(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," No billable tickets to be generate quotation "),e.qZA())}function Hc(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Ec,1,0,"i",105)(8,Bc,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation,53,"Awaiting Quotation"))}),e.TgZ(10,"h5",108),e._uU(11," Awaiting Quotation "),e.qZA(),e.YNc(12,Gc,2,0,"a",109)(13,Yc,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(1),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation," ")}}function Wc(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Hc,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAwaitingQuotation)}}function Kc(n,r){1&n&&e._UZ(0,"i",116)}function zc(n,r){1&n&&e._UZ(0,"i",117)}function $c(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Request For New Service Order ."),e.qZA())}function Xc(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," Tickets have been approved and are Awaiting Service Order Generation. "),e.qZA())}function ed(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Kc,1,0,"i",105)(8,zc,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending,52,"Waiting For Generate New Service Order"))}),e.TgZ(10,"h5",108),e._uU(11," Waiting For Generate New Service Order "),e.qZA(),e.YNc(12,$c,2,0,"a",109)(13,Xc,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending," ")}}function td(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ed,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderPending)}}function id(n,r){1&n&&e._UZ(0,"i",116)}function nd(n,r){1&n&&e._UZ(0,"i",117)}function ad(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function od(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The service order has not yet had the expected start task date and time. "),e.qZA())}function sd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,id,1,0,"i",105)(8,nd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskServiceOrderList(a.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime,2,"Assign Member & Site Visit Date Time"))}),e.TgZ(10,"h5",108),e._uU(11," Assign Member & Site Visit Date Time "),e.qZA(),e.YNc(12,ad,2,0,"a",109)(13,od,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime," ")}}function rd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,sd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalServiceOrderWithoutExpectedDateTime)}}function ld(n,r){1&n&&e._UZ(0,"i",116)}function cd(n,r){1&n&&e._UZ(0,"i",117)}function dd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function pd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The billable tickets service order has been successfully completed.Send it to the finance department for further processing and invoice creation. "),e.qZA())}function _d(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,ld,1,0,"i",105)(8,cd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskWaitingForInvoice(a.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled,"Waiting for Generate Invoice"))}),e.TgZ(10,"h5",108),e._uU(11," Waiting for Generate Invoice "),e.qZA(),e.YNc(12,dd,2,0,"a",109)(13,pd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled," ")}}function ud(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_d,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countIsNotQuotationBilled)}}function gd(n,r){1&n&&e._UZ(0,"i",116)}function md(n,r){1&n&&e._UZ(0,"i",117)}function hd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function bd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the member or project manager. "),e.qZA())}function fd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,gd,1,0,"i",105)(8,md,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskSignatureList(31,a.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature,"Incident Tech Sign"))}),e.TgZ(10,"h5",108),e._uU(11," Incident Tech Signature "),e.qZA(),e.YNc(12,hd,2,0,"a",109)(13,bd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature," ")}}function Td(n,r){if(1&n&&(e.ynx(0),e.YNc(1,fd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalIncidentTechSignature)}}function vd(n,r){1&n&&e._UZ(0,"i",116)}function Cd(n,r){1&n&&e._UZ(0,"i",117)}function xd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function kd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function wd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,vd,1,0,"i",105)(8,Cd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskSignatureList(31,a.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature,"Incident Client Sign"))}),e.TgZ(10,"h5",108),e._uU(11," Incident Client Signature "),e.qZA(),e.YNc(12,xd,2,0,"a",109)(13,kd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature," ")}}function Dd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,wd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalIncidentClientSignature)}}function Ad(n,r){1&n&&e._UZ(0,"i",116)}function Sd(n,r){1&n&&e._UZ(0,"i",117)}function Zd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function Id(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The service order for this ticket is now complete, and the ticket is in a resolved status. Please verify the details and proceed with closing it. "),e.qZA())}function yd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Ad,1,0,"i",105)(8,Sd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose,31,"Waiting Client to Close Ticket"))}),e.TgZ(10,"h5",108),e._uU(11," Waiting Client to Close Ticket "),e.qZA(),e.YNc(12,Zd,2,0,"a",109)(13,Id,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose," ")}}function qd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,yd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForClose)}}function Nd(n,r){1&n&&e._UZ(0,"i",116)}function Ld(n,r){1&n&&e._UZ(0,"i",117)}function Ud(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function Od(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The service order for this ticket is now complete, and the ticket is in a resolved status. Please verify the details and proceed with closing it. "),e.qZA())}function Md(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Nd,1,0,"i",105)(8,Ld,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal,31,"Waiting Internal Ticket to Close"))}),e.TgZ(10,"h5",108),e._uU(11," Waiting Internal Ticket to Close "),e.qZA(),e.YNc(12,Ud,2,0,"a",109)(13,Od,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal," ")}}function Vd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Md,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketResolvedPendingForCloseInternal)}}function Qd(n,r){1&n&&e._UZ(0,"i",116)}function Jd(n,r){1&n&&e._UZ(0,"i",117)}function Rd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function jd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The service order task has been completed by our team and is awaiting acknowledgment to Resolve and escalate to closing process. "),e.qZA())}function Pd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Qd,1,0,"i",105)(8,Jd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest,61,"Ticket Acknowledgement for completed service order"))}),e.TgZ(10,"h5",108),e._uU(11," Ticket Acknowledgement for completed service order "),e.qZA(),e.YNc(12,Rd,2,0,"a",109)(13,jd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest," ")}}function Fd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Pd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketAcknowledgmentRequest)}}function Ed(n,r){1&n&&e._UZ(0,"i",116)}function Bd(n,r){1&n&&e._UZ(0,"i",117)}function Gd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function Yd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," Quotation Approval task is rejected by a reviewer or approver "),e.qZA())}function Hd(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Ed,1,0,"i",105)(8,Bd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected,57,"Total Ticket Quotation Rejected"))}),e.TgZ(10,"h5",108),e._uU(11," Total Ticket Quotation Rejected "),e.qZA(),e.YNc(12,Gd,2,0,"a",109)(13,Yd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected," ")}}function Wd(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Hd,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketQuotationRejected)}}function Kd(n,r){1&n&&e._UZ(0,"i",116)}function zd(n,r){1&n&&e._UZ(0,"i",117)}function $d(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function Xd(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The tech team has completed the schedule. Now, you are to acknowledge this schedule, escalate it to the client for verification, and subsequently close the schedule. "),e.qZA())}function ep(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,Kd,1,0,"i",105)(8,zd,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskScheduleListForAdmin(61,a.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser,"Schedule Completion Acknowlegement Admin"))}),e.TgZ(10,"h5",108),e._uU(11," Schedule Completion Acknowlegement Admin "),e.qZA(),e.YNc(12,$d,2,0,"a",109)(13,Xd,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser," ")}}function tp(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ep,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementUser)}}function ip(n,r){1&n&&e._UZ(0,"i",116)}function np(n,r){1&n&&e._UZ(0,"i",117)}function ap(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function op(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function sp(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,ip,1,0,"i",105)(8,np,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskScheduleListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient,"Schedule Completion Acknowlegement Client"))}),e.TgZ(10,"h5",108),e._uU(11," Schedule Completion Acknowlegement Client "),e.qZA(),e.YNc(12,ap,2,0,"a",109)(13,op,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient," ")}}function rp(n,r){if(1&n&&(e.ynx(0),e.YNc(1,sp,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalScheduleAcknowledgementClient)}}function lp(n,r){1&n&&e._UZ(0,"i",116)}function cp(n,r){1&n&&e._UZ(0,"i",117)}function dp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function pp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function _p(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,lp,1,0,"i",105)(8,cp,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskAuditListForAdmin(61,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin,"Audit Completion Acknowledgement  Admin"))}),e.TgZ(10,"h5",108),e._uU(11," Audit Completion Acknowledgement Admin "),e.qZA(),e.YNc(12,dp,2,0,"a",109)(13,pp,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin," ")}}function up(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_p,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin)}}function gp(n,r){1&n&&e._UZ(0,"i",116)}function mp(n,r){1&n&&e._UZ(0,"i",117)}function hp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function bp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function fp(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,gp,1,0,"i",105)(8,mp,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskAuditListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient,"Audit Completion Acknowledgement  Client"))}),e.TgZ(10,"h5",108),e._uU(11," Audit Completion Acknowledgement Client "),e.qZA(),e.YNc(12,hp,2,0,"a",109)(13,bp,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient," ")}}function Tp(n,r){if(1&n&&(e.ynx(0),e.YNc(1,fp,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient)}}function vp(n,r){1&n&&e._UZ(0,"i",116)}function Cp(n,r){1&n&&e._UZ(0,"i",117)}function xp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1,"No Transaction"),e.qZA())}function kp(n,r){1&n&&(e.TgZ(0,"a",118),e._uU(1," The member has completed the task and is now waiting for the ticket Verification For Acknowledge "),e.qZA())}function wp(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",100),e.TgZ(2,"div",101)(3,"div",102)(4,"div",103)(5,"div",104)(6,"h5",70),e.YNc(7,vp,1,0,"i",105)(8,Cp,1,0,"i",106),e.qZA()()()(),e.TgZ(9,"div",107),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.myTaskTicketList(a.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess,72,"Ticket Verification For Acknowledge Process"))}),e.TgZ(10,"h5",108),e._uU(11," Ticket Verification For Acknowledge Process "),e.qZA(),e.YNc(12,xp,2,0,"a",109)(13,kp,2,0,"a",109),e.qZA(),e.TgZ(14,"div",110)(15,"div",111)(16,"div",112)(17,"a",113)(18,"div",114)(19,"span",115),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(5);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess," ")}}function Dp(n,r){if(1&n&&(e.ynx(0),e.YNc(1,wp,21,7,"ng-container",23),e.BQk()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",0!==t.totalCountTicketServiceOrderIncident.countTotalTicketVerificationForAcknowledgeProcess)}}function Ap(n,r){if(1&n&&(e.TgZ(0,"div",98)(1,"h5",99),e._uU(2,"My Task"),e.qZA(),e.YNc(3,Fc,2,1,"ng-container",23)(4,Wc,2,1,"ng-container",23)(5,td,2,1,"ng-container",23)(6,rd,2,1,"ng-container",23)(7,ud,2,1,"ng-container",23)(8,Td,2,1,"ng-container",23)(9,Dd,2,1,"ng-container",23)(10,qd,2,1,"ng-container",23)(11,Vd,2,1,"ng-container",23)(12,Fd,2,1,"ng-container",23)(13,Wd,2,1,"ng-container",23)(14,tp,2,1,"ng-container",23)(15,rp,2,1,"ng-container",23)(16,up,2,1,"ng-container",23)(17,Tp,2,1,"ng-container",23)(18,Dp,2,1,"ng-container",23),e.qZA()),2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.newTicket),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.awaitQuotation),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.generateNewSO),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.expectedStartTaskDateTime),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.quotationToProceedFinance),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.techSignatureRequired),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.clientSignatureRequired),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pendingForCloseTicketProcess),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pendingForCloseTicketProcessInternal),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.ticketAcknowledgmentRequest),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.quotationRejected),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pmScheduleCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.pmScheduleCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.ticketVerificationForAcknowledgeProcess)}}function Sp(n,r){1&n&&(e.TgZ(0,"li",9)(1,"a",96),e._UZ(2,"i",97),e._uU(3,"My Task "),e.qZA(),e.YNc(4,Ap,19,16,"ng-template",11),e.qZA()),2&n&&e.Q6J("ngbNavItem",1)}function Zp(n,r){if(1&n&&(e.TgZ(0,"span",121),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.totalCountMaintenanceWorkflowTodoList.length)}}function Ip(n,r){1&n&&e._UZ(0,"i",116)}function yp(n,r){1&n&&e._UZ(0,"i",117)}function qp(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",101)(2,"div",102)(3,"div",103)(4,"div",104)(5,"h5",70),e.YNc(6,Ip,1,0,"i",105)(7,yp,1,0,"i",106),e.qZA()()()(),e.TgZ(8,"div",107),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.navigateMyWorkflowPageList(s))}),e.TgZ(9,"h5",108),e._uU(10),e.qZA(),e.TgZ(11,"a",118),e._uU(12),e.qZA()(),e.TgZ(13,"div",110)(14,"div",111)(15,"div",112)(16,"a",113)(17,"div",114)(18,"span",115),e._uU(19),e.qZA()()()()()()(),e._UZ(20,"hr",100),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("ngClass",0==t.apprvalReviewItemCount?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.apprvalReviewItemCount),e.xp6(1),e.Q6J("ngIf",0!=t.apprvalReviewItemCount),e.xp6(3),e.hij(" ",t.workflowName," "),e.xp6(2),e.hij(" Waiting For ",t.approverType," "),e.xp6(6),e.Q6J("ngClass",t.apprvalReviewItemCount?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.apprvalReviewItemCount," ")}}function Np(n,r){if(1&n&&(e.TgZ(0,"div",98)(1,"h5",99),e._uU(2,"WorkFlow"),e.qZA(),e._UZ(3,"hr",100),e.YNc(4,qp,21,7,"ng-container",95),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.totalCountMaintenanceWorkflowTodoList)}}function Lp(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"li",9)(2,"a",96),e._UZ(3,"i",119),e._uU(4,"WorkFlow "),e.YNc(5,Zp,2,1,"span",120),e.qZA(),e.YNc(6,Np,5,1,"ng-template",11),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountMaintenanceWorkflowTodoList.length)}}function Up(n,r){1&n&&(e.TgZ(0,"div")(1,"div",49)(2,"div"),e._UZ(3,"lord-icon",50),e.qZA(),e.TgZ(4,"div",51)(5,"h5"),e._uU(6,"Sorry! No My Task Data"),e.qZA()()()())}function Op(n,r){if(1&n&&(e.TgZ(0,"div")(1,"h6",122),e._uU(2),e.qZA(),e.TgZ(3,"div",123)(4,"p",66)(5,"span",124),e._uU(6),e.qZA(),e._uU(7," Billable "),e.qZA(),e.TgZ(8,"p",66)(9,"span",125),e._uU(10),e.qZA(),e._uU(11," Non Billable "),e.qZA(),e.TgZ(12,"p",66)(13,"span",124),e._uU(14),e.qZA(),e._uU(15," Waiting "),e.qZA()(),e._UZ(16,"hr",126),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.projectName),e.xp6(4),e.Oqu(t.isBillingRequired_1_Count),e.xp6(4),e.Oqu(t.isBillingRequired_0_Count),e.xp6(4),e.Oqu(t.isBillingRequired_Null_Count)}}function Mp(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",85)(2,"div",86)(3,"ul",87,88),e.YNc(5,Sp,5,1,"li",89)(6,Lp,7,2,"ng-container",23),e.qZA(),e.TgZ(7,"div",90)(8,"div",91),e._UZ(9,"div",14),e.qZA(),e.YNc(10,Up,7,0,"div",23),e.qZA()()(),e.TgZ(11,"div",92)(12,"div",86)(13,"div",93)(14,"h5",94),e._uU(15," Projects By Ticket (Billing) "),e.qZA()(),e.TgZ(16,"div",90),e.YNc(17,Op,17,4,"div",95),e.qZA()()()()),2&n){const t=e.MAs(4),o=e.oxw();e.xp6(3),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngIf",o.checktheRuleOfTrueValue),e.xp6(1),e.Q6J("ngIf",0!=o.totalCountMaintenanceWorkflowTodoList.length),e.xp6(3),e.Q6J("ngbNavOutlet",t),e.xp6(1),e.Q6J("ngIf",!(o.checktheRuleOfTrueValue||0!=o.totalCountMaintenanceWorkflowTodoList.length)),e.xp6(7),e.Q6J("ngForOf",o.projectList)}}function Vp(n,r){1&n&&e._UZ(0,"i",127)}function Qp(n,r){if(1&n&&(e.TgZ(0,"span",131),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.globalPostMessageValueStoreClient)}}function Jp(n,r){1&n&&e._UZ(0,"app-help-desk-internal-disscussion")}function Rp(n,r){if(1&n&&(e.TgZ(0,"div",86)(1,"ul",128,129)(3,"li",9)(4,"a",96),e._uU(5," External "),e.YNc(6,Qp,2,1,"span",130),e.qZA(),e.YNc(7,Jp,1,0,"ng-template",11),e.qZA()(),e.TgZ(8,"div",90)(9,"div",91),e._UZ(10,"div",14),e.qZA()()()),2&n){const t=e.MAs(2),o=e.oxw();e.xp6(1),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngIf","0"!=o.globalPostMessageValueStoreClient),e.xp6(4),e.Q6J("ngbNavOutlet",t)}}function jp(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"apx-chart",142),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("series",t.supportTypeBarGraph.series)("chart",t.supportTypeBarGraph.chart)("colors",t.supportTypeBarGraph.colors)("dataLabels",t.supportTypeBarGraph.dataLabels)("plotOptions",t.supportTypeBarGraph.plotOptions)("yaxis",t.supportTypeBarGraph.yaxis)("legend",t.supportTypeBarGraph.legend)("fill",t.supportTypeBarGraph.fill)("stroke",t.supportTypeBarGraph.stroke)("tooltip",t.supportTypeBarGraph.tooltip)("xaxis",t.supportTypeBarGraph.xaxis)}}function Pp(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"apx-chart",143),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("series",t.billablePieChart.series)("labels",t.billablePieChart.labels)("chart",t.billablePieChart.chart)("plotOptions",t.billablePieChart.plotOptions)("dataLabels",t.billablePieChart.dataLabels)("legend",t.billablePieChart.legend)("stroke",t.billablePieChart.stroke)("colors",t.billablePieChart.colors)}}function Fp(n,r){if(1&n&&(e.TgZ(0,"div",3)(1,"div",132)(2,"div",86)(3,"div",93)(4,"h5",94),e._uU(5,"Support Type"),e.qZA()(),e.TgZ(6,"div",90),e.YNc(7,jp,2,11,"div",23),e.qZA()()(),e.TgZ(8,"div",132)(9,"div",86)(10,"div",93)(11,"h5",94),e._uU(12,"Billable Tickets"),e.qZA()(),e.TgZ(13,"div",133),e.YNc(14,Pp,2,8,"div",23),e.TgZ(15,"div",134)(16,"div",135)(17,"div")(18,"p",66),e._uU(19),e.qZA()()(),e.TgZ(20,"div",136)(21,"p",137),e._UZ(22,"i",138),e._uU(23,"Billable "),e.qZA(),e.TgZ(24,"div")(25,"span",139),e._uU(26),e.qZA()()(),e.TgZ(27,"div",140)(28,"p",137),e._UZ(29,"i",141),e._uU(30,"Non-Billable "),e.qZA(),e.TgZ(31,"div")(32,"span",139),e._uU(33),e.qZA()()()()()()()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.supportTypeBarGraph&&t.supportTypeBarGraph.series),e.xp6(7),e.Q6J("ngIf",t.billablePieChart),e.xp6(5),e.hij(" Total - ",t.billable.countTotalIsBillingRequired_0+t.billable.countTotalIsBillingRequired_1," "),e.xp6(7),e.Oqu(t.billable.countTotalIsBillingRequired_1),e.xp6(7),e.Oqu(t.billable.countTotalIsBillingRequired_0)}}let Ep=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P,Ae){this.helpDeskService=t,this.ticketService=o,this.router=a,this.authAssetService=s,this.clientDashbaordService=l,this.datepipe=g,this.commonFunctionService=G,this.changeDetectorRef=W,this.signalRService=ee,this.platformId=te,this.mapsAPILoader=P,this.zone=Ae,this.todoList={},this.dashboadStatusCount={myRequest:0,myRequestPending:0,myRequestApprove:0,myRequestReject:0,myRequestOtherStatus:0},this.scheduleList_ByDateList=[],this.checktheRuleOfClientDashbard={userId:null,newTicket:!0,awaitQuotation:!0,generateNewSO:!0,expectedStartTaskDateTime:!0,techSignatureRequired:!0,clientSignatureRequired:!0,statusDescription:!0,quotationToProceedFinance:!0,pendingForCloseTicketProcess:!0,pendingForCloseTicketProcessInternal:!0,quotationRejected:!0,ticketAcknowledgmentRequest:!0,pmScheduleCompletionAcknowlegementAdmin:!0,pmScheduleCompletionAcknowlegementClient:!0,auditCompletionAcknowlegementAdmin:!0,auditCompletionAcknowlegementClient:!0,ticketVerificationForAcknowledgeProcess:!0},this.technitionsAttendanceTransactionList=[],this.imgUrl=c.N.apiUrl,this.longitude=101.693207,this.latitude=3.140853,this.markers=[],this.mapOptions={center:{lat:3.140853,lng:101.693207},zoom:5},this.zoom=8,this.checktheRuleOfTrueValue=!0,this.totalCountTicketServiceOrderIncident={countTotalTicket:0,countTotalSO:0,countTotalIncident:0,countNewTicket:0,countPendingTicket:0,countInProgressTicket:0,countResolvedTicket:0,countClosedTicket:0,countOnHoldTicket:0,countPendingSO:0,countInProgressSO:0,countCompletedSO:0,countOnHoldSO:0,countNewIncident:0,countPendingIncident:0,countInProgressIncident:0,countCompletedIncident:0,countOnHoldIncident:0,countResolvedIncident:0,countTotalServiceOrderPending:0,countTotalServiceOrderWithoutExpectedDateTime:0,countTotalServiceOrderWithoutAssignTechnition:0},this.totalCountMaintenanceWorkflowTodoList=[],this.supportTypeData={countTotalIsBillingRequired_1:1,countTotalIsBillingRequired_0:1},this.billable={countTotalSupportTypeOnSite:1,countTotalSupportTypeRemote:1},this.projectList=[],this.checkActive=1,this.lineCoordinates=[],this.infoWindowOpen="checkIn",this.infoWindowOptions={pixelOffset:{width:0,height:-30}},this.totalTicket7DayGraphList=[],this.totalTicketMonthlyGraph=[],this.globalPostMessageValueStoreClient="0",this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role}ngOnInit(){this.initialiseSignalRFunction(),this.breadCrumbItems=[{label:"Dashboards"},{label:"Client-Dashboard",active:!0}],this._initPanorama(),this._OverviewChart('["--vz-primary", "--vz-warning","--vz-danger","--vz-success"]'),this._status7('["--vz-success", "--vz-primary", "--vz-warning", "--vz-danger"]'),this.getV2_TotalCountTicketServiceOrderIncident(),this.getV2_MaintenanceWorkflowTodoList(),this.getV2_TechnitionsAttendanceTransaction(),this.getBillableNonBillable(),this.getV2_TotalTicket7DayGraph(),this.getV2_TotalTicketMonthlyGraph(),this.getSupportType(),this.getProjectList(),"Super Admin"!==this.authAssetService.getRole()&&this.getV2_MyTaskRulesActiveCount(),this.currentDate=new Date,this.getV2_MX_PM_ScheduleList_ByDate(new Date)}ngAfterViewInit(){}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}getV2_MX_PM_ScheduleList_ByDate(t){let o={SearchDate:this.datepipe.transform(t,"dd-MM-yyyy")};this.helpDeskService.getV2_MX_PM_ScheduleList_ByDate(o).subscribe(a=>{this.scheduleList_ByDateList=a.list})}getV2_MyTaskRulesActiveCount(){this.clientDashbaordService.getV2_MyTaskRulesActiveCount().subscribe(t=>{this.checktheRuleOfClientDashbard=t.data,this.checktheRuleOfTrueValue=Object.values(this.checktheRuleOfClientDashbard).some(o=>!0===o)})}getChartColorsArray(t){return(t=JSON.parse(t)).map(function(o){var a=o.replace(" ","");if(-1===a.indexOf(",")){var s=getComputedStyle(document.documentElement).getPropertyValue(a);return s?s=s.replace(" ",""):a}var l=o.split(",");if(2==l.length){var g=getComputedStyle(document.documentElement).getPropertyValue(l[0]);return"rgba("+g+","+l[1]+")"}return a})}setprojectvalue(t){"all"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Active Projects",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},,{name:"Zero SLA Violations",type:"bar",data:[88,2,7,67,21,11,88,9,9,81,12,35]}]),"1M"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[24,75,16,98,19,41,52,34,28,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[99.25,28.58,98.74,12.87,107.54,94.03,11.24,48.57,22.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[28,22,17,27,21,11,5,9,17,29,12,15]},{name:"Zero SLA Violations",type:"bar",data:[18,12,47,7,41,11,8,9,37,29,12,65]}]),"6M"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,75,66,78,29,41,32,44,58,52,43,77]},{name:"On-Site SLA violations",type:"area",data:[109.25,48.58,38.74,57.87,77.54,84.03,31.24,18.57,92.57,42.36,48.51,56.57]},{name:"Complition SLA violations",type:"bar",data:[12,22,17,27,1,51,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,82,5,7,2,11,78,9,77,79,12,35]}]),"1Y"==t&&(this.OverviewChart.series=[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,15,7,70,21,31,81,9,8,29,12,75]}])}_OverviewChart(t){t=this.getChartColorsArray(t),this.OverviewChart={series:[{name:"Respond SLA violations",type:"bar",data:[34,65,46,68,49,61,42,44,78,52,63,67]},{name:"On-Site SLA violations",type:"area",data:[89.25,98.58,68.74,108.87,77.54,84.03,51.24,28.57,92.57,42.36,88.51,36.57]},{name:"Complition SLA violations",type:"bar",data:[8,12,7,17,21,11,5,9,7,29,12,35]},{name:"Zero SLA Violations",type:"bar",data:[18,12,57,7,21,11,8,9,17,29,82,55]}],chart:{height:374,width:"99%",type:"line",toolbar:{show:!1}},stroke:{curve:"smooth",dashArray:[0,3,0],width:[0,1,0]},fill:{opacity:[1,.1,1]},markers:{size:[0,4,0],strokeWidth:2,hover:{size:4}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],axisTicks:{show:!1},axisBorder:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:0,right:-2,bottom:15,left:10}},legend:{show:!0,horizontalAlign:"center",offsetX:0,offsetY:-5,markers:{width:9,height:9,radius:6},itemMargin:{horizontal:10,vertical:0}},plotOptions:{bar:{columnWidth:"30%",barHeight:"70%"}},colors:t,tooltip:{shared:!0,y:[{formatter:function(o){return typeof o<"u"?o.toFixed(0):o}},{formatter:function(o){return typeof o<"u"?"$"+o.toFixed(2)+"k":o}},{formatter:function(o){return typeof o<"u"?o.toFixed(0):o}}]}}}setstatusvalue(t){"all"==t&&(this.status7.series=[125,42,58,89]),"7"==t&&(this.status7.series=[25,52,158,99]),"30"==t&&(this.status7.series=[35,22,98,99]),"90"==t&&(this.status7.series=[105,32,68,79])}_status7(t){t=this.getChartColorsArray(t),this.status7={series:[125,42,58,89],labels:["Completed","In Progress","Yet to Start","Cancelled"],chart:{type:"donut",height:230},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"90%",labels:{show:!1}}}},dataLabels:{enabled:!1},legend:{show:!1},stroke:{lineCap:"round",width:0},colors:t}}getV2_TotalCountTicketServiceOrderIncident(){this.helpDeskService.getV2_TotalCountTicketServiceOrderIncident().subscribe(t=>{this.totalCountTicketServiceOrderIncident=t.data,this.sendDataInProjectStat=[{title:"TICKETS",value:this.totalCountTicketServiceOrderIncident.countTotalTicket,icon:"briefcase",month:"Tickets this month",progressBar:[{id:1,bgColor:"bg-warning",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countNewTicket),data:"New"},{id:2,bgColor:"bg-info",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countResolvedTicket),data:"Resolved"},{id:4,bgColor:"bg-success",width:this.returnProgressBarValue(this.returnTotalCountValueOfTicket(),this.totalCountTicketServiceOrderIncident.countClosedTicket),data:"Closed"}],subItem:[{id:1,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-warning",iconClass:"warning",label:"New",statusId:48,Value:this.totalCountTicketServiceOrderIncident.countNewTicket},{id:2,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-info",iconClass:"info",label:"Resolved",statusId:31,Value:this.totalCountTicketServiceOrderIncident.countResolvedTicket},{id:4,icon:"mdi mdi-numeric-1-circle",bgColor:"bg-success",iconClass:"success",label:"Closed",statusId:32,Value:this.totalCountTicketServiceOrderIncident.countClosedTicket}]},{title:"INCIDENTS",value:this.totalCountTicketServiceOrderIncident.countTotalIncident,icon:"alert-circle",month:"Incidents this month",progressBar:[{id:1,bgColor:"bg-warning",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countPendingIncident),data:"Pending"},{id:3,bgColor:"bg-info",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countResolvedIncident),data:"Resolved"},{id:4,bgColor:"bg-success",width:this.returnProgressBarValue(this.returnTotalCountValueOfIncident(),this.totalCountTicketServiceOrderIncident.countCompletedIncident),data:"Completed"}],subItem:[{id:1,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-warning",iconClass:"warning",label:"Pending",statusId:2,Value:this.totalCountTicketServiceOrderIncident.countPendingIncident},{id:2,icon:"mdi mdi-numeric-3-circle",bgColor:"bg-info",iconClass:"info",label:"Resolved",statusId:31,Value:this.totalCountTicketServiceOrderIncident.countResolvedIncident},{id:3,icon:"mdi mdi-numeric-1-circle",bgColor:"bg-success",iconClass:"success",label:"Completed",statusId:25,Value:this.totalCountTicketServiceOrderIncident.countCompletedIncident}]}]})}returnTotalCountValueOfTicket(){return this.totalCountTicketServiceOrderIncident.countNewTicket+this.totalCountTicketServiceOrderIncident.countClosedTicket+this.totalCountTicketServiceOrderIncident.countResolvedTicket}returnTotalCountValueOfQuotation(){return this.totalCountTicketServiceOrderIncident.countQuoteInReview+this.totalCountTicketServiceOrderIncident.countQuotePending+this.totalCountTicketServiceOrderIncident.countQuoteApproved}returnTotalCountValueOfSO(){return this.totalCountTicketServiceOrderIncident.countPendingSO+this.totalCountTicketServiceOrderIncident.countInProgressSO+this.totalCountTicketServiceOrderIncident.countCompletedSO}returnTotalCountValueOfIncident(){return this.totalCountTicketServiceOrderIncident.countPendingIncident+this.totalCountTicketServiceOrderIncident.countCompletedIncident+this.totalCountTicketServiceOrderIncident.countResolvedIncident}returnProgressBarValue(t,o){return(o/t*100).toFixed(0)+"%"}myTaskTicketList(t,o,a){0!=t&&(this.helpDeskService.ticketStatusId=o,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/new-ticket-list"]))}myTaskServiceOrderList(t,o,a){0!=t&&(this.helpDeskService.serviceStatusId=o,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/dashboard-servicet-order-list"]))}myTaskAuditListForClient(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Client",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}myTaskAuditListForAdmin(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Admin",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}getV2_MaintenanceWorkflowTodoList(){this.helpDeskService.getV2_MaintenanceWorkflowTodoList().subscribe(t=>{this.totalCountMaintenanceWorkflowTodoList=t.list})}navigateMyWorkflowPageList(t){t&&(this.helpDeskService.pageAction="Workflow Page",this.helpDeskService.workflowObject={...t},9==t.masterWorkflowId?this.router.navigate(["/maintenace-management/dashboard/workflow-ticket-list"]):10==t.masterWorkflowId||11==t.masterWorkflowId?this.router.navigate(["/maintenace-management/dashboard/quotation-ticket-list"]):this.warning("No Workflow Id"))}myTaskQuestionList(t,o){0!=t&&(this.helpDeskService.pageAction=o,this.router.navigate(["/maintenace-management/dashboard/quotation-ticket-list"]))}myTaskWaitingForInvoice(t,o){0!=t&&(this.helpDeskService.pageAction=o,this.router.navigate(["/maintenace-management/dashboard/waiting-for-generate-invoice-list"]))}myTaskSignatureList(t,o,a){0!=o&&(this.helpDeskService.ticketStatusId=t,this.helpDeskService.pageAction=a,this.router.navigate(["/maintenace-management/dashboard/tech-sigature-ticket-list"]))}myTaskScheduleListForAdmin(t,o,a){0!=o&&(this.helpDeskService.scheduleStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.scheduleTypeAdminAndClient="Admin",this.router.navigate(["/maintenace-management/dashboard/schedule-list-adminandclient"]))}myTaskScheduleListForClient(t,o,a){0!=o&&(this.helpDeskService.scheduleStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.scheduleTypeAdminAndClient="Client",this.router.navigate(["/maintenace-management/dashboard/schedule-list-adminandclient"]))}warning(t){J().fire({toast:!0,position:"top-end",icon:"warning",title:t,showConfirmButton:!1,timer:3e3})}getBillableNonBillable(){this.helpDeskService.getBillableNonBillableCounts().subscribe({next:t=>{this.billable=t.data,this.generateBillablePieChart('["--vz-warning", "--vz-info"]',[this.billable.countTotalIsBillingRequired_1,this.billable.countTotalIsBillingRequired_0],["Billable","Non-Billable"])}})}getSupportType(){this.helpDeskService.getSupportTypeCounts().subscribe({next:t=>{this.supportTypeData=t.data,this.generateSupportTypeGraph('["--vz-primary", "--vz-success", "--vz-warning", "--vz-danger", "--vz-info"]',[{name:"Remote",data:[this.supportTypeData.countTotalSupportTypeRemote]},{name:"On-Site",data:[this.supportTypeData.countTotalSupportTypeOnSite]}])}})}getProjectList(){this.helpDeskService.getProjectList().subscribe({next:t=>{this.projectList=t.list}})}getV2_TechnitionsAttendanceTransaction(){this.helpDeskService.getV2_TechnitionsAttendanceTransaction().subscribe({next:t=>{this.technitionsAttendanceTransactionList=t.obj}})}generateBillablePieChart(t,o,a){t=this.getChartColorsArray(t),this.billablePieChart={series:o,labels:a,chart:{type:"donut",height:350},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"70%",labels:{show:!0}}}},dataLabels:{enabled:!1},legend:{show:!0},stroke:{lineCap:"round",width:0},colors:t}}generateSupportTypeGraph(t,o){t=this.getChartColorsArray(t),this.supportTypeBarGraph={series:o,chart:{type:"bar",height:500,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",offsetX:0}},stroke:{show:!0,width:5,colors:["transparent"]},xaxis:{categories:[""],axisTicks:{show:!0,borderType:"solid",color:"#78909C",height:16,offsetX:0,offsetY:0},title:{text:"Support Type",offsetX:0,offsetY:-20,style:{color:"#78909C",fontSize:"12px",fontWeight:400}}},yaxis:{labels:{formatter:function(a){return a}},tickAmount:4,min:0},fill:{opacity:1},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontWeight:500,offsetX:0,itemMargin:{horizontal:8,vertical:0},markers:{width:10,height:10}},colors:t}}_initPanorama(){(0,i.NF)(this.platformId)}checkdection(t){this.changeDetectorRef.detectChanges(),this.storeMapData={},this.latitude=this.latitude,this.longitude=this.longitude,this.zoom=7,this.checkActive=t}viewMaps(t){this.markers=[],this.infoWindowOpen="checkIn",this.storeMapData=t,this.changeDetectorRef.detectChanges(),this.latitude=this.storeMapData?.startLatitude?Number(this.storeMapData?.startLatitude):this.latitude,this.longitude=this.storeMapData?.startLongitude?Number(this.storeMapData?.startLongitude):this.longitude,this.zoom=12,this.mapOptions={center:{lat:this.storeMapData?.startLatitude?Number(this.storeMapData?.startLatitude):this.latitude,lng:this.storeMapData?.startLongitude?Number(this.storeMapData?.startLongitude):this.longitude},zoom:17},this.markers.push({lat:Number(this.storeMapData?.startLatitude),lng:Number(this.storeMapData?.startLongitude)}),this.storeMapData?.endLatitude&&this.markers.push({lat:Number(this.storeMapData?.endLatitude),lng:Number(this.storeMapData?.endLongitude)})}getMarkerIcon(t=0){const a={width:50,height:50,equals:s=>s.width===a.width&&s.height===a.height};return{url:0==t?"assets/images/green-dot.png":"assets/images/yellow-dot.png",scaledSize:a}}openInfoWindow(t){console.log(t,"gg")}closeInfoWindow(){this.infoWindowOpen=null}openInfoWindow_newInfo(t,o){this.infoWindowOpen=o,this.infoWindow?.open(t)}_multipleYAxisChart(t,o){t=this.getChartColorsArray(t),this.multipleYAxisChart={series:[{name:"Not Confirm",type:"column",data:o.map(a=>a.countNotConfirm)},{name:"Billable",type:"column",data:o.map(a=>a.countBillable)},{name:"Non Billable",type:"line",data:o.map(a=>a.countNonBillable)}],chart:{height:500,type:"line",stacked:!1,toolbar:{show:!0}},dataLabels:{enabled:!1},stroke:{width:[1,1,4]},xaxis:{categories:o.map(a=>a.createdTicketDate),labels:{style:{fontSize:10,colors:"#405189"}}},yaxis:[{axisTicks:{show:!0},axisBorder:{show:!0,color:"#405189"},labels:{style:{colors:"#405189"}},title:{text:"Not Confirm",style:{color:"#405189",fontWeight:600}},tooltip:{enabled:!0}},{seriesName:"Billable",opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#405189"},labels:{style:{colors:"#405189"}},title:{text:"Billable",style:{color:"#405189",fontWeight:600}}},{seriesName:"Non Billable",opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,color:"#63ad6f"},labels:{style:{colors:"#63ad6f"}},title:{text:"Non Billable",style:{color:"#63ad6f",fontWeight:600}}}],tooltip:{fixed:{enabled:!0,position:"topLeft",offsetY:30,offsetX:60}},legend:{horizontalAlign:"center",offsetX:40},colors:t}}_lineColumnAreaChart(t,o){t=this.getChartColorsArray(t),this.lineColumnAreaChart={series:[{name:"Not Confirm",type:"column",data:o.map(a=>a.countNotConfirm)},{name:"Billable",type:"area",data:o.map(a=>a.countBillable)},{name:"Non Billable",type:"line",data:o.map(a=>a.countNonBillable)}],chart:{height:500,type:"line",stacked:!1,toolbar:{show:!0}},stroke:{width:[0,2,5],curve:"smooth"},plotOptions:{bar:{columnWidth:"50%"}},fill:{opacity:[.85,.25,1],gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.85,opacityTo:.55,stops:[0,100,100,100]}},labels:o.map(a=>a.createdTicketMonth),markers:{size:0},xaxis:{type:"date"},yaxis:{title:{text:"Points"},min:0},tooltip:{shared:!0,intersect:!1},colors:t}}getV2_TotalTicket7DayGraph(){this.helpDeskService.getV2_TotalTicket7DayGraph().subscribe({next:t=>{this.totalTicket7DayGraphList=t.list,this._multipleYAxisChart('["--vz-primary", "--vz-info", "--vz-success"]',this.totalTicket7DayGraphList)}})}getV2_TotalTicketMonthlyGraph(){this.helpDeskService.getV2_TotalTicketMonthlyGraph().subscribe({next:t=>{this.totalTicketMonthlyGraph=t.list,this._lineColumnAreaChart('["--vz-primary", "--vz-success", "--vz-danger"]',this.totalTicketMonthlyGraph)}})}initialiseSignalRFunction(){this.changeDetectorRef.detectChanges(),sessionStorage.setItem("GlobalPostMessageValueClient","0"),sessionStorage.getItem("GlobalPostMessageValue")&&(this.globalPostMessageValueStoreClient=sessionStorage.getItem("GlobalPostMessageValueClient")),this.hubConnection=this.signalRService.getSignLrConnection(),this.hubConnection.on("V2_TicketingProcess",t=>{"Global Post Message"===t.action&&this.zone.run(()=>{sessionStorage.setItem("GlobalPostMessageValueClient",String(Number(sessionStorage.getItem("GlobalPostMessageValueClient"))+1)),this.globalPostMessageValueStoreClient=sessionStorage.getItem("GlobalPostMessageValueClient")})})}playSoundWav(t,o,a){return(0,Q.Z)(function*(){try{const s=new AudioContext,g=yield(yield fetch(t)).arrayBuffer(),G=yield s.decodeAudioData(g),W=s.createBufferSource();W.buffer=G;const ee=s.createGain();W.connect(ee),ee.connect(s.destination),ee.gain.value=.01*o,W.start(s.currentTime),W.stop(s.currentTime+.001*a)}catch(s){console.error("Error loading or playing sound:",s)}})()}playSong(){navigator.vibrate([300,300,300])}playBoop(){console.log("ggs"),this.playSoundWav("../../../../../assets/mixkit-long-pop-2358.wav",50,100)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(C.S),e.Y36(z.w),e.Y36(p.F0),e.Y36(v.u),e.Y36(F),e.Y36(i.uU),e.Y36(U.K),e.Y36(e.sBO),e.Y36(pe.M),e.Y36(e.Lbi),e.Y36(ce.W7),e.Y36(e.R0b))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-client-dashboard"]],viewQuery:function(o,a){if(1&o&&(e.Gf(lc,7),e.Gf(cc,7),e.Gf(dc,5),e.Gf(R.ch,5)),2&o){let s;e.iGM(s=e.CRH())&&(a.streetviewMap=s.first),e.iGM(s=e.CRH())&&(a.streetviewPano=s.first),e.iGM(s=e.CRH())&&(a.myMap=s.first),e.iGM(s=e.CRH())&&(a.infoWindow=s.first)}},decls:29,vars:10,consts:[[3,"title","breadcrumbItems"],[1,"project-wrapper"],[1,"col-md-12","col-xl-12","col-xxl-12"],[1,"row"],["class","col-xl-6 col-md-6",4,"ngFor","ngForOf"],[1,"row","align-items-center"],[1,"col"],["ngbNav","",1,"nav","nav-tabs-custom","card-header-tabs","border-bottom-0",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink","",3,"click"],["ngbNavContent",""],["class","mdi mdi-circle text-danger fs-12",4,"ngIf"],[1,"tab-content","text-muted","mt-3"],[3,"ngbNavOutlet"],["aria-live","polite","aria-atomic","true"],[1,"col-xl-6","col-md-6"],[3,"title","value","icon","month","progressBar","subItem"],[1,"col-xl-4","stretch-card"],[1,"card"],[1,"card-header","align-items-center","d-flex"],[1,"card-title","mb-0","flex-grow-1"],[1,"card-body","cardbody"],[4,"ngIf"],[1,"col-xl-8"],["width","100%","height","700px",3,"latitude","longitude","options"],[3,"position","icon","label","mapClick",4,"ngIf"],[3,"options","position","isOpen","closeclick",4,"ngIf"],["class","row mb-1",4,"ngFor","ngForOf"],[1,"row","mb-1"],[1,"col-sm-12","col-md-5","d-flex","mb-3"],["alt","",1,"avatar-xs","rounded-3","me-2",3,"src"],[1,"fs-13","mb-0"],[1,"fs-12","mb-0","text-muted"],[1,"fs-12","mb-0","d-flex"],["class","badge bg-success me-2",4,"ngIf"],["class","badge bg-primary me-2",4,"ngIf"],["class","badge bg-info me-2",4,"ngIf"],["class","badge bg-primary-subtle text-primary",4,"ngIf"],["class","badge bg-secondary-subtle text-secondary",4,"ngIf"],[1,"col-sm-9","col-md-6","mb-3"],[1,"fs-12","mb-0"],[1,"col-sm-3","col-md-1","mb-3","text-right"],[1,"ri-eye-fill","align-middle","text-success","cursor",3,"click"],[1,"badge","bg-success","me-2"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-info","me-2"],[1,"badge","bg-primary-subtle","text-primary"],[1,"badge","bg-secondary-subtle","text-secondary"],[1,"py-4","text-center"],["src","https://cdn.lordicon.com/msoeawqm.json","trigger","loop","colors","primary:#405189,secondary:#0ab39c",2,"width","72px","height","72px"],[1,"mt-4"],["src","http://maps.google.com/mapfiles/ms/icons/green-dot.png"],["src","http://maps.google.com/mapfiles/ms/icons/yellow-dot.png"],[3,"position","icon","label","mapClick"],["marker","mapMarker"],[3,"options","position","isOpen","closeclick"],[1,"card","mb-0"],[1,"card-body","mb-0"],[1,"list-unstyled","mb-0","vstack","gap-1"],[1,"d-flex","align-items-center"],[1,"flex-shrink-0"],["alt","",1,"avatar-sm","rounded",3,"src"],[1,"flex-grow-1","ms-3"],[1,"fs-15","mb-1","text-success"],[1,"text-muted","mb-0","text-success"],[1,"text-muted","mb-0"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],[1,"mb-0"],[1,"ri-mail-line","me-2","align-middle","text-muted","fs-16"],[1,"mt-0","mb-0"],[1,"ri-phone-line","me-2","align-middle","text-muted","fs-16"],[1,"ri-calendar-event-line","me-2","align-middle","text-muted","fs-16"],["class","mt-0 mb-0",4,"ngIf"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],["marker1","mapMarker"],[3,"disableAutoPan","isOpen","closeclick",4,"ngIf"],[3,"disableAutoPan","isOpen","closeclick"],["infoWindow",""],[1,"fs-15","mb-1","text-warning"],[1,"text-muted","mb-0","text-warning"],[1,"col-xl-7"],[1,"card","card-height-100"],["ngbNav","",1,"nav","nav-tabs","nav-justified","nav-border-top","nav-border-top-primary","mb-0",3,"activeId"],["todoWorkFlowTabs","ngbNav"],[3,"ngbNavItem",4,"ngIf"],[1,"card-body"],[1,"tab-content","text-muted"],[1,"col-xl-5"],[1,"card-header"],[1,"card-title","mb-0"],[4,"ngFor","ngForOf"],["ngbNavLink",""],[1,"ri-todo-line","align-middle","me-1"],[1,"card-body","my-tasks","myTaskCardBody"],[1,"card-title","mb-2"],[1,"my-3"],[1,"row","g-3","cursor"],[1,"col-auto"],[1,"avatar-sm","p-1","py-2","h-auto","rounded-3",3,"ngClass"],[1,"text-center"],["class","bx bx-bell text-success mt-2",4,"ngIf"],["class","bx bx-bell text-danger mt-2",4,"ngIf"],[1,"col","align-items-center",3,"click"],[1,"text-muted","mt-0","mb-1","fs-14"],["href","javascript:void(0);","class","text-reset fs-13 mb-0",4,"ngIf"],[1,"col-sm-auto"],[1,"avatar-group"],[1,"avatar-group-item"],["href","javascript: void(0);"],[1,"avatar-xs"],[1,"avatar-title","rounded-circle","text-white",3,"ngClass"],[1,"bx","bx-bell","text-success","mt-2"],[1,"bx","bx-bell","text-danger","mt-2"],["href","javascript:void(0);",1,"text-reset","fs-13","mb-0"],[1,"ri-stack-overflow-line","align-middle","me-1"],["class","badge bg-danger rounded-circle",4,"ngIf"],[1,"badge","bg-danger","rounded-circle"],[1,"text-muted"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"badge","bg-primary","ms-1","borderEaduis"],[1,"badge","bg-success","ms-1","borderEaduis"],[1,"mb-1","mt-1"],[1,"mdi","mdi-circle","text-danger","fs-12"],["ngbNav","",1,"nav","nav-tabs","nav-border-top","nav-border-top-primary","mb-3",3,"activeId"],["Border","ngbNav"],["class","badge align-middle ms-1 bg-danger",4,"ngIf"],[1,"badge","align-middle","ms-1","bg-danger"],[1,"col-xl-6"],[1,"card-body","pt-5"],[1,"mt-3"],[1,"d-flex","justify-content-center","align-items-center","mb-4"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2","mt-3"],[1,"fw-medium","mb-0"],[1,"ri-checkbox-blank-circle-fill","text-warning","align-middle","me-2"],[1,"text-muted","pe-5"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2"],[1,"ri-checkbox-blank-circle-fill","text-info","align-middle","me-2"],["dir","ltr",3,"series","chart","colors","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis"],["dir","ltr","dir","ltr",1,"apex-charts",3,"series","labels","chart","plotOptions","dataLabels","legend","stroke","colors"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,pc,2,6,"div",4),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"ul",7,8)(9,"li",9)(10,"a",10),e.NdJ("click",function(){return a.checkdection(1)}),e._uU(11," On Duty "),e.qZA(),e.YNc(12,Vc,22,11,"ng-template",11),e.qZA(),e.TgZ(13,"li",9)(14,"a",10),e.NdJ("click",function(){return a.checkdection(2)}),e._uU(15," My Task "),e.qZA(),e.YNc(16,Mp,18,6,"ng-template",11),e.qZA(),e.TgZ(17,"li",9)(18,"a",10),e.NdJ("click",function(){return a.checkdection(3)}),e._uU(19," Chatbot "),e.YNc(20,Vp,1,0,"i",12),e.qZA(),e.YNc(21,Rp,11,4,"ng-template",11),e.qZA(),e.TgZ(22,"li",9)(23,"a",10),e.NdJ("click",function(){return a.checkdection(4)}),e._uU(24," Graph "),e.qZA(),e.YNc(25,Fp,34,5,"ng-template",11),e.qZA()()(),e.TgZ(26,"div",13),e._UZ(27,"div",14),e.qZA()()(),e._UZ(28,"app-toasts",15)),2&o){const s=e.MAs(8);e.Q6J("title","Dashboard")("breadcrumbItems",a.breadCrumbItems),e.xp6(4),e.Q6J("ngForOf",a.sendDataInProjectStat),e.xp6(3),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(3),e.Q6J("ngIf","0"!=a.globalPostMessageValueStoreClient),e.xp6(2),e.Q6J("ngbNavItem",4),e.xp6(5),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,j.x,se.n,Y.y,R.b6,R.ch,R.O_,Ie,k],styles:[".my-tasks[_ngcontent-%COMP%]   .avatar-sm[_ngcontent-%COMP%]{height:3rem!important}.myTaskCardBody[_ngcontent-%COMP%]{height:550px;overflow-y:auto}.cardbody[_ngcontent-%COMP%]{height:700px;overflow:auto}"]})}}return n})();const Bp=["inputerQuotationName"],Gp=["inputerQuotationUmber"],Yp=["inputerTicketNumber"];function Hp(n,r){if(1&n&&(e.TgZ(0,"span",36),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" (Waiting For ","Reviewer"==t.storeWorkflowObject.approverType?"Review":"Approve",")")}}function Wp(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",46),e._uU(3," No Quotation Data "),e.qZA()(),e.BQk())}function Kp(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("quotTitle_"+s.quotNo))}),e._uU(7),e.qZA(),e.TgZ(8,"td",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+s.quotNo))}),e._uU(9),e.qZA(),e.TgZ(10,"td",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+s.quotNo))}),e._uU(11),e.qZA(),e.TgZ(12,"td",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("projectName_"+s.quotNo))}),e._uU(13),e.qZA(),e.TgZ(14,"td",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("createdDate_"+s.quotNo))}),e._uU(15),e.qZA(),e.TgZ(16,"td",50)(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td",50)(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span")(24,"div",51)(25,"button",52),e._UZ(26,"i",53),e.qZA(),e.TgZ(27,"ul",54)(28,"li")(29,"a",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s))}),e._UZ(30,"i",56),e._uU(31," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(2),e.Tol(o.getReturnQuotationNoColor(t)),e.xp6(1),e.Oqu(t.quotNo),e.xp6(2),e.hij(" ",t.ticketNo," "),e.xp6(1),e.Q6J("id","quotTitle_"+t.quotNo),e.xp6(1),e.hij(" ",t.quotTitle," "),e.xp6(1),e.Q6J("id","companyName_"+t.quotNo),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("id","clientName_"+t.quotNo),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("id","projectName_"+t.quotNo),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("id","createdDate_"+t.quotNo),e.xp6(1),e.hij(" ",t.createdDate," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.ticketStatusId)),e.xp6(1),e.Oqu(t.ticketStatusName),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.quotStatusId)),e.xp6(1),e.Oqu(t.quotStatusName)}}function zp(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Kp,32,20,"tr",47),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.ticketList)}}function $p(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",57),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Xp(n,r){if(1&n&&(e.TgZ(0,"div",37)(1,"table",38)(2,"thead")(3,"tr",39)(4,"th"),e._uU(5,"Quotation NO"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"TICKET NO"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Title"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Client"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Create Date"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Ticket Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Status"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,Wp,4,0,"ng-container",40)(26,zp,2,1,"ng-container",40),e.qZA()()(),e.TgZ(27,"div",41)(28,"div",42)(29,"div",43),e._uU(30),e.qZA()(),e.TgZ(31,"div",42)(32,"div",44),e.YNc(33,$p,1,5,"ngb-pagination",45),e.qZA()()()),2&n){const t=e.oxw();e.xp6(15),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.ticketList.length),e.xp6(1),e.Q6J("ngIf",0!=t.ticketList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function e_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"h5",59),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",60),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",61)(5,"div",1)(6,"div",62)(7,"label",63),e._uU(8,"Ticket Status "),e.qZA(),e.TgZ(9,"ng-select",64),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedTicketStatusIdValue=a)}),e.qZA()(),e.TgZ(10,"div",62)(11,"label",63),e._uU(12,"Quotation Status "),e.qZA(),e.TgZ(13,"ng-select",65),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedQuotStatusIdValue=a)}),e.qZA()()()(),e.TgZ(14,"div",66)(15,"button",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.resetSerachVariableWithModal())})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Close click"))}),e._uU(16," Clear "),e.qZA(),e.TgZ(17,"button",68),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(18," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("items",t.arrayListDropDownTicketStatus)("clearable",!1)("ngModel",t.selectedTicketStatusIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownQuotationStatus)("clearable",!1)("ngModel",t.selectedQuotStatusIdValue)}}let t_=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"Quotation"},{label:"Quotation  List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,QuotStatusId:null,SearchQuotName:null,SearchTicketNo:null,SearchQuotNo:null,SearchTicketStatusId:32,SearchQuotStatusId:null,SearchIsQuotationBilled:!1},this.invoiceProcessList=[{id:!0,name:"Complete"},{id:!1,name:"Pending"}],this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.ticketList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.arrayListDropDownQuotationStatus=[],this.isProject=this.authService.getisProject(),this.storeTicketStatusId=this.helpDeskService.pageAction?this.helpDeskService.pageAction:"",""==this.storeTicketStatusId||null==this.storeTicketStatusId?this.router.navigate(["/maintenace-management/dashboard/help-desk-dashboard"]):(this.loadData(),this.getDropdownCompanyList(),this.getDropdownTicketStatusList("TicketQuotationStatus"),this.getDropdownQuotationStatusList("QuotationStatus"))}ngOnInit(){this.breadCrumbItems=[{label:"WorkFlow"},{label:"Quotation list ",active:!0}]}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.ticketService.getV2_MaintenanceGeneralQuotationList(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.ticketList=t.list,this.ticketList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.ticketService.sendTicketId=t.ticketId,this.ticketService.ticketPageAction="Basic Quotation Page",this.ticketService.lastStoreTicketRouterName="maintenace-management/dashboard/waiting-for-generate-invoice-list",localStorage.setItem("lastStoreTicketRouterName",this.ticketService.lastStoreTicketRouterName),this.router.navigate(["maintenace-management/corrective/ticket/ticket-view"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownTicketStatusIdValue=null,this.typeQuotationNumberValue=null,this.typeQuotationNameValue=null,this.typeTicketNameValue=null,this.selectedInvoiceProcessValue=null,this.selectedQuotStatusIdValue=null,this.selectedTicketStatusIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchQuotName:null,SearchTicketNo:null,SearchQuotNo:null,SearchIsQuotationBilled:!1,SearchTicketStatusId:32,SearchQuotStatusId:null},this.page=1,this.loadData()}resetSerachVariableWithModal(){this.selectedQuotStatusIdValue=null,this.selectedTicketStatusIdValue=null,this.payload.SearchTicketStatusId=this.selectedTicketStatusIdValue,this.payload.SearchQuotStatusId=this.selectedQuotStatusIdValue,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}onDropdownInvoiceProcessChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchIsQuotationBilled=this.selectedInvoiceProcessValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnWorkFlowStatusBadgeClasses(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe(),(0,_e.R)(this.inputerQuotationUmber.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeQuotationNumberValueChange()})).subscribe(),(0,_e.R)(this.inputerQuotationName.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeQuotationNameValueChange()})).subscribe()}onTypeQuotationNameValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchQuotName=this.typeQuotationNameValue,this.loadData()}onTypeQuotationNumberValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchQuotNo=this.typeQuotationNumberValue,this.loadData()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchTicketNo=this.typeTicketNameValue,this.loadData()}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{this.submitFilterData()},o=>{this.submitFilterData()})}submitFilterData(){this.payload.SearchTicketStatusId=this.selectedTicketStatusIdValue,this.payload.SearchQuotStatusId=this.selectedQuotStatusIdValue,this.loadData()}getDropdownTicketStatusList(t){this.ticketService.getMaintenanceStatus(t).subscribe(o=>{this.arrayListDropDownTicketStatus=o})}getDropdownQuotationStatusList(t){this.ticketService.getMaintenanceStatus(t).subscribe(o=>{this.arrayListDropDownQuotationStatus=o})}getReturnQuotationNoColor(t){return 32==t.ticketStatusId&&t.isQuotationBilled?"link-danger":"link-primary"}ngOnDestroy(){}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-waitingfor-generate-invoicelist"]],viewQuery:function(o,a){if(1&o&&(e.Gf(Bp,7),e.Gf(Gp,7),e.Gf(Yp,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerQuotationName=s.first),e.iGM(s=e.CRH())&&(a.inputerQuotationUmber=s.first),e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:46,vars:20,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],["class","fs-12 ms-1",4,"ngIf"],[1,"col-sm-auto","col-xxl-9","d-flex","gap-2","flex-nowrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for quotation name",1,"form-control",3,"ngModel","ngModelChange"],["inputerQuotationName",""],[1,"ri-search-line","search-icon"],["type","search","name","searchTerm","placeholder","Search for quotation number",1,"form-control",3,"ngModel","ngModelChange"],["inputerQuotationUmber",""],["type","search","name","searchTerm","placeholder","Search for ticket number",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["filtetcontent",""],[1,"fs-12","ms-1"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","10",1,"text-center"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium",3,"click"],[1,"title",3,"id","click"],[1,"status"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-lg-6","mb-3"],["for","selectedTicketTypeId",1,"form-label","fw-semibold"],["bindLabel","assetStatus","bindValue","assetStatusId","id","ticketStatus","placeholder","Select Ticket Status","for","ticketStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","QuotationStatus","placeholder","Select Quotation Status","for","QuotationStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8," Quotation List"),e.YNc(9,Hp,2,1,"span",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"input",11,12),e.NdJ("ngModelChange",function(l){return a.typeQuotationNameValue=l}),e.qZA(),e._UZ(14,"i",13),e.qZA(),e.TgZ(15,"div",10)(16,"input",14,15),e.NdJ("ngModelChange",function(l){return a.typeQuotationNumberValue=l}),e.qZA(),e._UZ(18,"i",13),e.qZA(),e.TgZ(19,"div",10)(20,"input",16,17),e.NdJ("ngModelChange",function(l){return a.typeTicketNameValue=l}),e.qZA(),e._UZ(22,"i",13),e.qZA()()()(),e.TgZ(23,"div",18)(24,"div",19)(25,"div",20)(26,"ng-select",21),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(27,"div",20)(28,"ng-select",22),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(29,"div",20)(30,"ng-select",23),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(31,"div",24)(32,"div",25)(33,"button",26),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(34,"i",27),e._uU(35," Clear "),e.qZA()()()()(),e.TgZ(36,"div",28)(37,"div")(38,"ul",29,30)(40,"li",31),e.YNc(41,Xp,34,7,"ng-template",32),e.qZA()(),e.TgZ(42,"div",33),e._UZ(43,"div",34),e.qZA()()()()()(),e.YNc(44,e_,19,6,"ng-template",null,35,e.W1O)),2&o){const s=e.MAs(39);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(9),e.Q6J("ngIf","Workflow Page"==a.helpDeskService.pageAction),e.xp6(3),e.Q6J("ngModel",a.typeQuotationNameValue),e.xp6(4),e.Q6J("ngModel",a.typeQuotationNumberValue),e.xp6(4),e.Q6J("ngModel",a.typeTicketNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();const i_=["inputerRequesterName"],n_=["inputerCreatedDate"];function a_(n,r){1&n&&(e.TgZ(0,"th"),e._uU(1,"Client"),e.qZA())}function o_(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",38),e._uU(3," No Schedule Data "),e.qZA()(),e.BQk())}function s_(n,r){if(1&n&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function r_(n,r){if(1&n&&(e.TgZ(0,"span",54),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function l_(n,r){if(1&n&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function c_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("configPreventivePDescription_"+s.configPreventivePDescription))}),e.TgZ(2,"a",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.scheduleId))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+s.companyName))}),e._uU(5),e.qZA(),e.TgZ(6,"td",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+s.clientName))}),e._uU(7),e.qZA(),e.TgZ(8,"td",40),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("projectName_"+s.projectName))}),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"i",42),e._uU(12),e.qZA(),e.TgZ(13,"td",43),e.YNc(14,s_,2,1,"span",44)(15,r_,2,1,"span",45)(16,l_,2,1,"span",46),e.qZA(),e.TgZ(17,"td",43)(18,"span"),e._uU(19),e.qZA()(),e.TgZ(20,"td")(21,"span")(22,"div",47)(23,"button",48),e._UZ(24,"i",49),e.qZA(),e.TgZ(25,"ul",50)(26,"li")(27,"a",51),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.scheduleId))}),e._UZ(28,"i",52),e._uU(29," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("title",t.configPreventivePDescription)("id","configPreventivePDescription_"+t.configPreventivePDescription),e.xp6(2),e.Oqu(t.configPreventivePDescription),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.companyName),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.clientName),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.projectName),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(2),e.Tol(o.returnIcon(t.frequency)),e.s9C("ngbTooltip",t.frequency),e.xp6(1),e.hij(" ",t.scheduleDate," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t?null:t.supportType)),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.scheduleStatusId)),e.xp6(1),e.Oqu(t.scheduleStatusName)}}function d_(n,r){if(1&n&&(e.ynx(0),e.YNc(1,c_,30,22,"tr",39),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.preventiveScheduleList)}}function p_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",56),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function __(n,r){if(1&n&&(e.TgZ(0,"div",29)(1,"table",30)(2,"thead")(3,"tr",31)(4,"th"),e._uU(5,"Schedule Title"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.YNc(8,a_,2,0,"th",32),e.TgZ(9,"th"),e._uU(10),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Schedule Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action Type"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Status"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Action"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,o_,4,0,"ng-container",32)(21,d_,2,1,"ng-container",32),e.qZA()()(),e.TgZ(22,"div",33)(23,"div",34)(24,"div",35),e._uU(25),e.qZA()(),e.TgZ(26,"div",34)(27,"div",36),e.YNc(28,p_,1,5,"ngb-pagination",37),e.qZA()()()),2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.isProject),e.xp6(2),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.preventiveScheduleList.length),e.xp6(1),e.Q6J("ngIf",0!=t.preventiveScheduleList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function u_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"h5",58),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",59),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",60)(5,"div",1)(6,"div",61)(7,"label",62),e._uU(8,"Requester Name"),e.qZA(),e.TgZ(9,"input",63),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRequesterName=a)}),e.qZA()(),e.TgZ(10,"div",61)(11,"label",64),e._uU(12,"Requester Email"),e.qZA(),e.TgZ(13,"input",65),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedRequesterEmail=a)}),e.qZA()()()(),e.TgZ(14,"div",66)(15,"button",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.resetSerachVariable())})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Close click"))}),e._uU(16," Clear "),e.qZA(),e.TgZ(17,"button",68),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(18," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.selectedRequesterName),e.xp6(4),e.Q6J("ngModel",t.selectedRequesterEmail)}}let g_=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P,Ae){this.dropdownService=t,this.router=o,this.modalService=a,this.ticketService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.datePipe=te,this.helpDeskService=P,this.preventiveService=Ae,this.isProject=!1,this.label="Preventive Management",this.breadCrumbItems=[{label:"Schedule"},{label:"Schedule List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchRequesterEmail:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.preventiveScheduleList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.frequencyList=["Monthly","Hourly","Yearly","Quarterly"],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.isProject=this.authService.getisProject(),this.storeScheduleStatusId=this.helpDeskService.scheduleStatusId?this.helpDeskService.scheduleStatusId:0,0==this.storeScheduleStatusId||null==this.storeScheduleStatusId?this.router.navigate("Admin"==this.helpDeskService.scheduleTypeAdminAndClient?["/maintenace-management/dashboard/help-desk-dashboard"]:"Client"==this.helpDeskService.scheduleTypeAdminAndClient?["/maintenace-management/dashboard/client-dashboard"]:["/maintenace-management/dashboard/help-desk-dashboard"]):(this.getDropdownCompanyList(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole?this.disabledWithAceessGroup=!0:this.loadData())}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.searchScheduleStatusId=this.storeScheduleStatusId,"Admin"==this.helpDeskService.scheduleTypeAdminAndClient?this.payload.searchIsAcknowledgeByAdmin=!0:this.payload.SearchIsAcknowledgeByClient=!0,this.helpDeskService.getV2_MX_PM_ScheduleList_ServerPaging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.preventiveScheduleList=t.list,this.preventiveScheduleList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}loadData_celender(){this.preventiveService.getV2_MX_PM_ScheduleList_ServerPaging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.preventiveScheduleList=t.list,this.preventiveScheduleList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.preventiveService.scheduleId=t,this.router.navigate(["maintenace-management/dashboard/schedule-detail-signature-adminandclient"])}editHandler(t){this.ticketService.sendTicketId=t,this.router.navigate(["/maintenace-management/corrective/ticket/edit-ticket"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.typeFrequencyValue=null,this.typeConfigPreventivePDescription=null,this.selectedRequesterEmail=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchRequesterEmail:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerRequesterName.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeRequesterNameChange()})).subscribe()}onTypeRequesterNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchConfigPreventivePDescription=this.typeConfigPreventivePDescription,this.loadData()}onChangeFrequencyValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchFrequency=this.typeFrequencyValue,this.loadData()}submitFilterData(){this.payload.SearchConfigPreventivePDescription=this.selectedRequesterName,this.payload.SearchRequesterEmail=this.selectedRequesterEmail,this.loadData()}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{this.submitFilterData()},o=>{this.submitFilterData()})}returnIcon(t){let o;return"Quarterly"==t?o="text-danger":"Monthly"==t?o="text-info":"Hourly"==t?o="text-success":"Yearly"==t&&(o="text-primary"),"mdi-alpha-"+t[0].toLowerCase()+"-box-outline "+o}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(z.w),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(i.uU),e.Y36(C.S),e.Y36(be.W))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf(i_,7),e.Gf(n_,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerRequesterName=s.first),e.iGM(s=e.CRH())&&(a.inputerCreatedDate=s.first)}},decls:39,vars:23,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-lg-auto"],[1,"card-title","mb-0"],[1,"col-lg"],["placeholder","Select Frequency",1,"w-100","me-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Schedule Title",1,"form-control",3,"ngModel","ngModelChange"],["inputerRequesterName",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","placeholder","Select Project",1,"",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["filtetcontent",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","10",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title",3,"title","id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"mdi","me-2","fs-16",3,"ngbTooltip"],[1,"status"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-lg-6","mb-3"],["for","selectedRequesterName",1,"form-label","fw-semibold"],["type","text","name","selectedRequesterName","id","selectedRequesterName","placeholder","Requester Name ",1,"form-control",3,"ngModel","ngModelChange"],["for","selectedRequesterEmail",1,"form-label","fw-semibold"],["type","email","name","selectedRequesterEmail","id","selectedRequesterEmail","placeholder","Search Requester Email",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Schedule List"),e.qZA()(),e._UZ(9,"div",8),e.TgZ(10,"div",8)(11,"ng-select",9),e.NdJ("change",function(){return a.onChangeFrequencyValueChange()})("ngModelChange",function(l){return a.typeFrequencyValue=l}),e.qZA()(),e.TgZ(12,"div",8)(13,"div",10)(14,"input",11,12),e.NdJ("ngModelChange",function(l){return a.typeConfigPreventivePDescription=l}),e.qZA(),e._UZ(16,"i",13),e.qZA()()()(),e.TgZ(17,"div",14)(18,"div",15)(19,"div",8)(20,"ng-select",16),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(21,"div",8)(22,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(23,"div",8)(24,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(25,"div",6)(26,"button",19),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(27,"i",20),e._uU(28," Clear "),e.qZA()()()(),e.TgZ(29,"div",21)(30,"div")(31,"ul",22,23)(33,"li",24),e.YNc(34,__,29,8,"ng-template",25),e.qZA()(),e.TgZ(35,"div",26),e._UZ(36,"div",27),e.qZA()()()()()(),e.YNc(37,u_,19,2,"ng-template",null,28,e.W1O)),2&o){const s=e.MAs(32);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("items",a.frequencyList)("clearable",!0)("ngModel",a.typeFrequencyValue),e.xp6(3),e.Q6J("ngModel",a.typeConfigPreventivePDescription),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue||!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(7),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();var m_=h(7579),at=h(7930),ot=h(2341);function h_(n,r){1&n&&(e.TgZ(0,"small",19),e._uU(1," Remark is Required "),e.qZA())}function b_(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,h_,2,0,"small",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.editorText.errors?null:t.editorText.errors.required)}}function f_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=e.MAs(27);return e.KtG(a.openUpdateModal(s))}),e._uU(1," Submit "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.addTech.invalid)}}function T_(n,r){1&n&&(e.TgZ(0,"p",33),e._uU(1," The tech team has completed the schedule. Now, you are to acknowledge this schedule, escalate it to the client for verification, and subsequently close the schedule. "),e.qZA())}function v_(n,r){1&n&&(e.TgZ(0,"p",33),e._uU(1," Yes, this schedule checklist activity completed and closing. "),e.qZA())}function C_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"button",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",25)(5,"div",26),e._UZ(6,"lord-icon",27),e.qZA(),e.TgZ(7,"h4",28),e._uU(8," Are you sure you want to proceed and confirm the Digital's signature? "),e.qZA(),e.YNc(9,T_,2,0,"p",29)(10,v_,2,0,"p",29),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",30)(14,"button",31),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(15," Yes, Proceed! "),e.qZA(),e.TgZ(16,"button",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(17," Cancel "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngIf","Admin"==t.scheduleTypeAdminAndClient),e.xp6(1),e.Q6J("ngIf","Client"==t.scheduleTypeAdminAndClient)}}let x_=(()=>{class n{constructor(t,o,a,s,l,g){this.modal=t,this.formBuilder=o,this.helpDeskService=a,this.commonFunctionService=s,this.modalService=l,this.authAssetService=g,this.signtaureData=null,this.Editor=at,this.editorHeight="300px",this.maxCharsDecision=300}ngOnChanges(t){this.scheduleTypeAdminAndClient=this.helpDeskService.scheduleTypeAdminAndClient,this.getfromBinding()}ngOnInit(){this.scheduleTypeAdminAndClient=this.helpDeskService.scheduleTypeAdminAndClient,this.getfromBinding()}passBack(t){this.modal.dismiss(t)}getfromBinding(){this.addTech=this.formBuilder.group({editorText:["",f.kI.required]})}get editorText(){return this.addTech.get("editorText")}getSignData(t){this.signtaureData=t?t&&t.split(",")[1]:null}updateSignatureUserSignature(){let t={ScheduleId:this.scheduleDetails.scheduleId,ScheduleAcknoledgeRemark:this.editorText.value,ScheduleAcknoledgeSignImageURLBase64:this.signtaureData,ScheduleAcknoledgeDesig:this.authAssetService.getaccessGroupName()};this.helpDeskService.updateV2_ScheudleSignatureUser(this.commonFunctionService.clean(t)).subscribe(o=>{this.passBack(o)})}updateSignatureClientSignature(){let t={ScheduleId:this.scheduleDetails.scheduleId,ScheduleClosedRemark:this.editorText.value,ScheduleCloseSignImageURLBase64:this.signtaureData,ScheduleClosedDesig:this.authAssetService.getaccessGroupName()};this.helpDeskService.updateV2_ScheudleSignatureClient(this.commonFunctionService.clean(t)).subscribe(o=>{this.passBack(o)})}openUpdateModal(t){this.modalService.open(t,{backdrop:"static",keyboard:!1,centered:!0}).result.then(o=>{"Admin"==this.helpDeskService.scheduleTypeAdminAndClient?this.updateSignatureUserSignature():"Client"==this.helpDeskService.scheduleTypeAdminAndClient&&this.updateSignatureClientSignature()},o=>{})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(_._B),e.Y36(f.qu),e.Y36(C.S),e.Y36(U.K),e.Y36(_.FF),e.Y36(v.u))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-sehedule-signature"]],inputs:{scheduleDetails:"scheduleDetails",ticketData:"ticketData"},features:[e.TTD],decls:28,vars:10,consts:[[1,"offcanvas-header","p-3","bg-primary-subtle","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"form-label"],[2,"color","red"],["formControlName","editorText","rows","4","cols","6","placeholder","Remark",1,"form-control",3,"maxlength"],[1,"nopadding","clrlbl"],[4,"ngIf"],[1,"col-lg-12","pt-2"],[3,"sendImagedata"],[1,"offcanvas-footer","mx-3","mb-4","pb-3"],["class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn","btn-outline-danger","me-2",3,"click"],["modalUPSucss",""],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"modal-content"],[1,"modal-body","p-4"],[1,"text-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],[1,"text-center"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4","text-justify"],["class","text-muted fs-15 mb-1 text-justify",4,"ngIf"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"],[1,"text-muted","fs-15","mb-1","text-justify"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Digital Signature"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return a.passBack(!1)}),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Remark "),e.TgZ(10,"span",8),e._uU(11,"*"),e.qZA()(),e._UZ(12,"textarea",9),e.TgZ(13,"label",10),e._uU(14),e.qZA(),e.YNc(15,b_,2,1,"div",11),e.qZA(),e.TgZ(16,"div",12)(17,"label",7),e._uU(18,"Signature "),e.TgZ(19,"span",8),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"app-signature-pad",13),e.NdJ("sendImagedata",function(l){return a.getSignData(l)}),e.qZA()()()()(),e.TgZ(22,"div",14),e.YNc(23,f_,2,1,"button",15),e.TgZ(24,"button",16),e.NdJ("click",function(){return a.passBack(!1)}),e._uU(25," Cancel "),e.qZA()(),e.YNc(26,C_,18,2,"ng-template",null,17,e.W1O)),2&o&&(e.xp6(5),e.Q6J("formGroup",a.addTech),e.xp6(7),e.ekj("is-invalid",a.editorText.invalid&&a.editorText.touched)("is-valid",a.editorText.valid&&a.editorText.touched),e.Q6J("maxlength",a.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==a.editorText||null==a.editorText.value?null:a.editorText.value.length,"/",a.maxCharsDecision,""),e.xp6(1),e.Q6J("ngIf",a.editorText.invalid&&a.editorText.touched),e.xp6(8),e.Q6J("ngIf",a.signtaureData))},dependencies:[i.O5,f._Y,f.Fj,f.JJ,f.JL,f.nD,f.sg,f.u,ot.l]})}}return n})();var k_=h(6075),w_=h(6334);const D_=["customNav"],A_=["defaultNav"],S_=["videoPlayer"];function Z_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",34),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openSideColum())}),e.qZA()}}function I_(n,r){if(1&n&&(e.TgZ(0,"div",53)(1,"div",0)(2,"div",1)(3,"h6",37),e._uU(4," Verified Remark "),e.qZA(),e.TgZ(5,"p",38),e._uU(6),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.masterScheduleList.verifiedRemark||"-"," ")}}function y_(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.assetTagId," |")}}function q_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"i",75),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3),l=e.MAs(61);return e.KtG(s.openModaVideeo(a,l))}),e.qZA()}}function N_(n,r){if(1&n&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.modifiedBy," |")}}function L_(n,r){if(1&n&&(e.TgZ(0,"span",76),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.modifiedDate," ")}}function U_(n,r){if(1&n&&(e.TgZ(0,"p",44),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Note:",t.note," ")}}function O_(n,r){1&n&&e._UZ(0,"div",81)}function M_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"a",78),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.open_new(a.imgPath,s.imageUrl+(null==a?null:a.pic_url)))}),e._UZ(2,"img",79),e.qZA(),e.YNc(3,O_,1,0,"div",80),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("src",o.imageUrl+(null==t?null:t.pic_url),e.LSH),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.pic_url))}}function V_(n,r){1&n&&e._UZ(0,"div",81)}function Q_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"a",78),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.open_new(a.imgPath,s.imageUrl+(null==a?null:a.pic_url1)))}),e._UZ(2,"img",79),e.qZA(),e.YNc(3,V_,1,0,"div",80),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("src",o.imageUrl+(null==t?null:t.pic_url1),e.LSH),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.pic_url1))}}function J_(n,r){1&n&&e._UZ(0,"div",81)}function R_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",77)(1,"a",78),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.open_new(a.imgPath,s.imageUrl+(null==a?null:a.pic_url2)))}),e._UZ(2,"img",79),e.qZA(),e.YNc(3,J_,1,0,"div",80),e.qZA()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Q6J("src",o.imageUrl+(null==t?null:t.pic_url2),e.LSH),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.pic_url2))}}function j_(n,r){if(1&n&&(e.TgZ(0,"div",65)(1,"div",66)(2,"div",4)(3,"div",67)(4,"h6",68),e._uU(5),e.YNc(6,q_,1,0,"i",69),e.qZA(),e.TgZ(7,"span",58),e._uU(8),e.qZA(),e.TgZ(9,"p",44),e.YNc(10,N_,2,1,"span",70)(11,L_,2,1,"span",70),e.qZA(),e.YNc(12,U_,2,1,"p",71),e.qZA(),e.TgZ(13,"div",72)(14,"div",73),e.YNc(15,M_,4,2,"div",74)(16,Q_,4,2,"div",74)(17,R_,4,2,"div",74),e.qZA()()()()()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(5),e.hij(" ",t.preventiveTypeName," "),e.xp6(1),e.Q6J("ngIf",t.videoFileURL),e.xp6(1),e.Tol(o.returnStatusBadgeClassesStatus(t.scheduleItemCheckStatusId)),e.xp6(1),e.Oqu(t.scheduleItemCheckStatusName),e.xp6(2),e.Q6J("ngIf",t.modifiedBy),e.xp6(1),e.Q6J("ngIf",t.modifiedDate),e.xp6(1),e.Q6J("ngIf",t.note),e.xp6(3),e.Q6J("ngIf",null==t?null:t.pic_url),e.xp6(1),e.Q6J("ngIf",null==t?null:t.pic_url1),e.xp6(1),e.Q6J("ngIf",null==t?null:t.pic_url2)}}function P_(n,r){if(1&n&&(e.TgZ(0,"div",54)(1,"div",55)(2,"div",56)(3,"h6",44),e._uU(4),e.qZA(),e.TgZ(5,"p",44),e.YNc(6,y_,2,1,"span",57),e.TgZ(7,"span",58),e._uU(8),e.qZA()()(),e.TgZ(9,"div",59)(10,"div",60),e._UZ(11,"i",61),e.TgZ(12,"span",62),e._uU(13),e.qZA()(),e.TgZ(14,"div",63),e.YNc(15,j_,18,11,"div",64),e.qZA()()()()),2&n){const t=r.$implicit,o=r.index,a=e.oxw(2);e.xp6(4),e.Oqu(t.assetName),e.xp6(2),e.Q6J("ngIf",t.assetTagId),e.xp6(1),e.Tol(a.returnStatusBadgeClassesStatus(t.scheduleItemStatusId)),e.xp6(1),e.Oqu(t.scheduleItemStatusName),e.xp6(5),e.Oqu(o+1),e.xp6(2),e.Q6J("ngForOf",a.scheduleAndAssetCheckList[t.scheduleItemId])}}function F_(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",89),e._uU(2," Verified By "),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.scheduleVerifiedBy)||"-"," ")}}function E_(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",89),e._uU(2," Verified Date Time "),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.scheduleVerifiedDateTime)||"-"," ")}}function B_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",105),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openSignatureUser())}),e._uU(1," Signature Here... "),e.qZA()}}function G_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",110),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.open(a.imageUrl+a.masterScheduleList.scheduleAcknoledgeSignImageURL))}),e.qZA()}if(2&n){const t=e.oxw(5);e.hYB("src","",t.imageUrl,"",t.masterScheduleList.scheduleAcknoledgeSignImageURL,"",e.LSH)}}function Y_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",111),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.open("../../../../../assets/images/placeholderimage.png"))}),e.qZA()}}function H_(n,r){if(1&n&&(e.TgZ(0,"div",106)(1,"div",107),e.YNc(2,G_,1,2,"img",108)(3,Y_,1,0,"img",109),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.masterScheduleList.scheduleAcknoledgeSignImageURL),e.xp6(1),e.Q6J("ngIf",!t.masterScheduleList.scheduleAcknoledgeSignImageURL)}}function W_(n,r){if(1&n&&(e.TgZ(0,"div",93)(1,"div",94)(2,"div",95)(3,"h5",96),e._uU(4),e.qZA(),e.TgZ(5,"div",97)(6,"div",98),e.YNc(7,B_,2,0,"button",99)(8,H_,4,2,"div",100),e.qZA()(),e.TgZ(9,"p",101),e._uU(10),e.qZA(),e.TgZ(11,"p",102)(12,"b"),e._uU(13),e.qZA()(),e.TgZ(14,"p",103)(15,"b"),e._uU(16),e.qZA()(),e.TgZ(17,"p",104),e._uU(18),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",t.masterScheduleList.companyName," "),e.xp6(3),e.Q6J("ngIf",t.scheduleTypeAdminSignature&&!t.masterScheduleList.scheduleAcknoledgeById),e.xp6(1),e.Q6J("ngIf",t.masterScheduleList.scheduleAcknoledgeById),e.xp6(2),e.hij(" ",t.masterScheduleList.scheduleAcknoledgeDateTime," "),e.xp6(3),e.hij(" ",t.masterScheduleList.scheduleAcknoledgeBy," "),e.xp6(3),e.hij(" ",t.masterScheduleList.scheduleAcknoledgeDesig," "),e.xp6(2),e.hij(" ",t.masterScheduleList.scheduleAcknoledgeRemark," ")}}function K_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",105),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.openSignatureUser())}),e._uU(1," Signature Here... "),e.qZA()}}function z_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",110),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.open(a.imageUrl+a.masterScheduleList.scheduleCloseSignImageURL))}),e.qZA()}if(2&n){const t=e.oxw(5);e.hYB("src","",t.imageUrl,"",t.masterScheduleList.scheduleCloseSignImageURL,"",e.LSH)}}function $_(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",111),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(5);return e.KtG(a.open("../../../../../assets/images/placeholderimage.png"))}),e.qZA()}}function X_(n,r){if(1&n&&(e.TgZ(0,"div",106)(1,"div",107),e.YNc(2,z_,1,2,"img",108)(3,$_,1,0,"img",109),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",t.masterScheduleList.scheduleCloseSignImageURL),e.xp6(1),e.Q6J("ngIf",!t.masterScheduleList.scheduleCloseSignImageURL)}}function eu(n,r){if(1&n&&(e.TgZ(0,"div",36)(1,"div",94)(2,"div",95)(3,"h5",96),e._uU(4),e.qZA(),e.TgZ(5,"div",97)(6,"div",98),e.YNc(7,K_,2,0,"button",99)(8,X_,4,2,"div",100),e.qZA()(),e.TgZ(9,"p",101),e._uU(10),e.qZA(),e.TgZ(11,"p",102)(12,"b"),e._uU(13),e.qZA()(),e.TgZ(14,"p",103)(15,"b"),e._uU(16),e.qZA()(),e.TgZ(17,"p",104),e._uU(18),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",t.masterScheduleList.clientName," "),e.xp6(3),e.Q6J("ngIf",t.scheduleTypeClientSignature&&!t.masterScheduleList.scheduleClosedById),e.xp6(1),e.Q6J("ngIf",t.masterScheduleList.scheduleClosedById),e.xp6(2),e.hij(" ",t.masterScheduleList.scheduleClosedDateTime," "),e.xp6(3),e.hij(" ",t.masterScheduleList.scheduleClosedBy," "),e.xp6(3),e.hij(" ",t.masterScheduleList.scheduleClosedDesig," "),e.xp6(2),e.hij(" ",t.masterScheduleList.scheduleClosedRemark," ")}}function tu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",83)(2,"div",84)(3,"h5",85),e._uU(4,"Schedule Details"),e.qZA(),e.TgZ(5,"i",86),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.closeSideColum())}),e.qZA()(),e.TgZ(6,"div",1)(7,"div",87)(8,"table",88)(9,"tbody")(10,"tr")(11,"td",89),e._uU(12,"Schedule Start"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"td",89),e._uU(17," Maintenace Type "),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA()(),e.TgZ(20,"tr")(21,"td",89),e._uU(22,"Support Type"),e.qZA(),e.TgZ(23,"td",90),e._uU(24),e.qZA()(),e.TgZ(25,"tr")(26,"td",89),e._uU(27,"Frequency"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA()(),e.TgZ(30,"tr")(31,"td",89),e._uU(32,"Frequency Data"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA()(),e.TgZ(35,"tr")(36,"td",89),e._uU(37,"Status"),e.qZA(),e.TgZ(38,"td")(39,"span",58),e._uU(40),e.qZA()()(),e.TgZ(41,"tr")(42,"td",89),e._uU(43,"Checklist type"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.qZA()(),e.TgZ(46,"tr")(47,"td",89),e._uU(48,"Start By"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA()(),e.TgZ(51,"tr")(52,"td",89),e._uU(53," Start Date Time "),e.qZA(),e.TgZ(54,"td"),e._uU(55),e.qZA()(),e.TgZ(56,"tr")(57,"td",89),e._uU(58,"End By"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.qZA()(),e.TgZ(61,"tr")(62,"td",89),e._uU(63,"End Date Time"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.qZA()(),e.YNc(66,F_,5,1,"tr",57)(67,E_,5,1,"tr",57),e.qZA()()()()(),e.TgZ(68,"div",0)(69,"div",1)(70,"div",4),e.YNc(71,W_,19,7,"div",91)(72,eu,19,7,"div",92),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(14),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.scheduleDate)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.maintenanceType)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.supportType)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.frequency)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.frequencyData)||"-"," "),e.xp6(5),e.Tol(t.returnStatusBadgeClassesStatus(t.masterScheduleList.scheduleStatusId)),e.xp6(1),e.Oqu(t.masterScheduleList.scheduleStatusName),e.xp6(5),e.hij(" ",null==t.pm_ScheduleAndAssetCheckList[0]?null:t.pm_ScheduleAndAssetCheckList[0].preventiveCategoryName," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.startBy)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.startDateTime)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.endBy)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.endDatetime)||"-"," "),e.xp6(1),e.Q6J("ngIf",null==t.masterScheduleList?null:t.masterScheduleList.scheduleVerifiedBy),e.xp6(1),e.Q6J("ngIf",null==t.masterScheduleList?null:t.masterScheduleList.scheduleVerifiedDateTime),e.xp6(4),e.Q6J("ngIf",t.scheduleTypeAdminSignature),e.xp6(1),e.Q6J("ngIf",t.scheduleTypeClientSignature)}}function iu(n,r){if(1&n&&(e.TgZ(0,"div",4)(1,"div",35)(2,"div",4)(3,"div",36)(4,"div",0)(5,"div",1)(6,"h6",37),e._uU(7," Remark "),e.qZA(),e.TgZ(8,"p",38),e._uU(9),e.qZA()()()(),e.YNc(10,I_,7,1,"div",39),e.qZA(),e.TgZ(11,"h6",40),e._uU(12," Total Assets "),e.TgZ(13,"span",41),e._uU(14),e.qZA()(),e.TgZ(15,"div",4)(16,"div",42)(17,"div",0)(18,"div",1)(19,"p",43)(20,"b"),e._uU(21,"Pending"),e.qZA()(),e.TgZ(22,"h4",44),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",42)(25,"div",0)(26,"div",1)(27,"p",45)(28,"b"),e._uU(29,"In-Progress"),e.qZA()(),e.TgZ(30,"h4",44),e._uU(31),e.qZA()()()(),e.TgZ(32,"div",42)(33,"div",0)(34,"div",1)(35,"p",46)(36,"b"),e._uU(37,"Completed"),e.qZA()(),e.TgZ(38,"h4",44),e._uU(39),e.qZA()()()()(),e.TgZ(40,"h6",40),e._uU(41," Total Checklist "),e.TgZ(42,"span",41),e._uU(43),e.qZA()(),e.TgZ(44,"div",4)(45,"div",42)(46,"div",0)(47,"div",1)(48,"p",47)(49,"b"),e._uU(50,"Awaiting Action"),e.qZA()(),e.TgZ(51,"h4",44),e._uU(52),e.qZA()()()(),e.TgZ(53,"div",42)(54,"div",0)(55,"div",1)(56,"p",48)(57,"b"),e._uU(58,"Verified-Passed"),e.qZA()(),e.TgZ(59,"h4",44),e._uU(60),e.qZA()()()(),e.TgZ(61,"div",42)(62,"div",0)(63,"div",1)(64,"p",49)(65,"b"),e._uU(66,"Verified-Failed"),e.qZA()(),e.TgZ(67,"h4",44),e._uU(68),e.qZA()()()()(),e.TgZ(69,"div",4)(70,"div",50),e.YNc(71,P_,16,7,"div",51),e.qZA()()(),e.YNc(72,tu,73,17,"div",52),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.ekj("col-xxl-12",t.sideColumValue),e.xp6(8),e.hij(" ",t.masterScheduleList.remark||"-"," "),e.xp6(1),e.Q6J("ngIf",t.masterScheduleList.verifiedRemark),e.xp6(4),e.Oqu(null==t.assetTicketItem_new?null:t.assetTicketItem_new.length),e.xp6(9),e.hij(" ",t.scheduleAssetItemCheckStatusPending2," "),e.xp6(8),e.hij(" ",t.scheduleAssetItemCheckStatusIn_Progress30," "),e.xp6(8),e.hij(" ",t.scheduleAssetItemCheckStatusCompleted25," "),e.xp6(4),e.Oqu(null==t.pm_ScheduleAndAssetCheckList?null:t.pm_ScheduleAndAssetCheckList.length),e.xp6(9),e.hij(" ",t.scheduleItemCheckStatusAwaitingAction45," "),e.xp6(8),e.hij(" ",t.scheduleItemCheckStatusVerified_Passed24," "),e.xp6(8),e.hij(" ",t.scheduleItemCheckStatusVerified_Failed49," "),e.xp6(3),e.Q6J("ngForOf",t.assetTicketItem),e.xp6(1),e.Q6J("ngIf",!t.sideColumValue)}}function nu(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",117),e._uU(3," No Member Assign "),e.qZA()(),e.BQk())}function au(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",119)(2,"div",120),e._UZ(3,"img",121),e.TgZ(4,"div",122)(5,"a",123),e._uU(6),e.qZA()()()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",t.profileImageUrl?o.imageUrl+t.profileImageUrl:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij("",t.techName?t.techName:t.fullName," "),e.xp6(2),e.Oqu(t.designationName),e.xp6(2),e.Oqu(t.phoneNumber)}}function ou(n,r){if(1&n&&(e.ynx(0),e.YNc(1,au,11,4,"tr",118),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mX_WOTechAssignment)}}function su(n,r){if(1&n&&(e.TgZ(0,"div",4)(1,"div",3)(2,"div",112),e._UZ(3,"div")(4,"div",6),e.qZA(),e.TgZ(5,"div",113)(6,"table",114)(7,"thead",115)(8,"tr")(9,"th",116),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"th",116),e._uU(12,"Designation"),e.qZA(),e.TgZ(13,"th",116),e._uU(14,"Phone Number"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,nu,4,0,"ng-container",57)(17,ou,2,1,"ng-container",57),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(16),e.Q6J("ngIf",0==t.mX_WOTechAssignment.length),e.xp6(1),e.Q6J("ngIf",0!=t.mX_WOTechAssignment.length)}}function ru(n,r){if(1&n&&e._UZ(0,"app-task-end",124),2&n){const t=e.oxw();e.Q6J("ticketWOStartEndTask",t.mx_WOStartEndTask)}}function lu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",125)(1,"h5",126),e._uU(2),e.qZA(),e.TgZ(3,"button",127),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",128)(5,"div",129)(6,"video",130),e._UZ(7,"source",131),e.qZA()()(),e.TgZ(8,"div",132)(9,"button",133),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(10," Close "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.hij("",t.storeInfomationVideo.preventiveTypeName," "),e.xp6(5),e.s9C("src",t.linkVideo,e.LSH)}}let cu=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P){this.router=t,this.modalService=o,this.preventiveService=a,this.authService=s,this.menuService=l,this.commonFunctionService=g,this.offcanvasService=G,this.lightbox=W,this.companyService=ee,this.helpDeskService=te,this.ngZone=P,this.defaultNavActiveId=1,this.openCardWithIndex=-1,this.label="Preventive Management",this.breadCrumbItems=[{label:"Configuration"},{label:"Configuration List",active:!0}],this.activeId=1,this.imageUrl=c.N.apiUrl,this.viewQuotationTabShown=!1,this.paylod={scheduleId:null},this.assetTicketItem=[],this.masterScheduleList=[],this.pm_ScheduleAndAssetCheckList=[],this.assetTicketItem_new=[],this.scheduleItemCheckStatusAwaitingAction45=0,this.scheduleItemCheckStatusVerified_Passed24=0,this.scheduleItemCheckStatusVerified_Failed49=0,this.companyData={},this.scheduleTypeClientSignature=!1,this.scheduleTypeAdminSignature=!1,this.checkValue=!1,this.scheduleAndAssetCheckList={},this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.imgUrl=c.N.apiUrl,this.imageShown=!1,this.sideColumValue=!1,this.scheduleAssetItemCheckStatusPending2=0,this.scheduleAssetItemCheckStatusIn_Progress30=0,this.scheduleAssetItemCheckStatusCompleted25=0,this.mX_WOTechAssignment=[],this.isPlay=!1,this.storeInfomationVideo="",this.linkVideo="",this.isProject=this.authService.getisProject(),this.scheduleTypeAdminAndClient=this.helpDeskService.scheduleTypeAdminAndClient,this.storeConfigScheduleId=this.preventiveService.scheduleId?this.preventiveService.scheduleId:0,this.paylod.scheduleId=this.storeConfigScheduleId,0==this.storeConfigScheduleId||null==this.storeConfigScheduleId?this.router.navigate(["maintenace-management/dashboard/schedule-list-adminandclient"]):this.getV2_MX_PM_ScheduleAndAsset()}ngOnInit(){this.defaultNavActiveId=1}openSignatureUser(){const t=this.offcanvasService.open(x_,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas2"});t.componentInstance.scheduleDetails=this.masterScheduleList,t.result.then(o=>{this.goback()}).catch(o=>{this.goback()})}refreshThePage(){this.defaultNavActiveId=1,this.getV2_MX_PM_ScheduleAndAsset()}scrollToSection(t){const o=document.getElementById("ass"+t);o&&o.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}getV2_MX_PM_ScheduleAndAsset(){this.preventiveService.getV2_MX_PM_ScheduleAndAsset(this.paylod).subscribe(t=>{Object.keys(t.list).forEach(a=>{null===t.list[a]&&(t.list[a]=[])}),this.mX_WOTechAssignment=t.list.mX_WOTechAssignment,this.mx_WOStartEndTask=t.list.mx_WOStartEndTask,console.log("mX_WOTechAssignment",this.mX_WOTechAssignment,this.mx_WOStartEndTask," this.mx_WOStartEndTask"),this.getV2_MX_PM_ScheduleAndAssetCheckListByScheudleId(this.storeConfigScheduleId),this.masterScheduleList=t.list.schedule,this.assetTicketItem=t.list.assetList,this.assetTicketItem.forEach(a=>{a.selected=!1}),this.assetTicketItem_new=t.list.assetList,this.AssetData=t.list.assetList,this.collectionSize=t.list.assetList.length,0!=this.assetTicketItem_new.length&&this.checkTheAssetStatusValue();let o={};o.companyId=Number(this.masterScheduleList?.companyId),this.getViewData(o)}),"Admin"===this.scheduleTypeAdminAndClient?(this.scheduleTypeAdminSignature=!0,this.scheduleTypeClientSignature=!1):"Client"===this.scheduleTypeAdminAndClient?(this.scheduleTypeAdminSignature=!0,this.scheduleTypeClientSignature=!0):(this.scheduleTypeAdminSignature=!1,this.scheduleTypeClientSignature=!1)}getViewData(t){this.companyService.getCompanyDetail(t).subscribe(o=>{this.companyData=o?.data})}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openCardWithIndexOpen(t){this.assetTicketItem[t].selected=!this.assetTicketItem[t].selected}getTestBedetV2_MX_PM_ScheduleAndAssetCheckList(t){this.preventiveService.GetV2_MX_PM_ScheduleAndAssetCheckList({ScheduleItemId:t}).subscribe(a=>{this.pm_ScheduleAndAssetCheckList=a.list,a.list&&this.openModalViewSchude(a.list)},a=>{})}getV2_MX_PM_ScheduleAndAssetCheckListByScheudleId(t){this.preventiveService.getV2_MX_PM_ScheduleAndAssetCheckListByScheudleId({ScheduleId:t}).subscribe(a=>{let s=a.list;this.pm_ScheduleAndAssetCheckList=a.list,this.pm_ScheduleAndAssetCheckList.forEach(l=>{l.imgPath=[],l.imgPath.push(l.pic_url?this.imageUrl+l.pic_url:null,l.pic_url1?this.imageUrl+l.pic_url1:null,l.pic_url2?this.imageUrl+l.pic_url2:null)}),this.checkTheValue(),0!=this.pm_ScheduleAndAssetCheckList.length&&this.assetTicketItem_new.forEach(l=>{s.forEach(g=>{l.scheduleItemId==g.scheduleItemId&&(this.scheduleAndAssetCheckList[l.scheduleItemId]||(this.scheduleAndAssetCheckList[l.scheduleItemId]=[]),this.scheduleAndAssetCheckList[l.scheduleItemId].push(g))})})})}checkTheValue(){if(0!=this.pm_ScheduleAndAssetCheckList.length){this.scheduleItemCheckStatusAwaitingAction45=0,this.scheduleItemCheckStatusVerified_Passed24=0,this.scheduleItemCheckStatusVerified_Failed49=0;for(var t=0;t<this.pm_ScheduleAndAssetCheckList.length;t++){var o=this.pm_ScheduleAndAssetCheckList[t];45===o.scheduleItemCheckStatusId?this.scheduleItemCheckStatusAwaitingAction45++:49===o.scheduleItemCheckStatusId?this.scheduleItemCheckStatusVerified_Failed49++:24===o.scheduleItemCheckStatusId&&this.scheduleItemCheckStatusVerified_Passed24++}}}getAssetData(){this.assetTicketItem=this.AssetData.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.to=this.page*this.pageSize>this.AssetData.length?this.AssetData.length:this.page*this.pageSize;let t=this.page*this.pageSize-(this.pageSize-1);this.from=t<1?1:t,this.from=0==this.AssetData.length?0:this.from,this.totalRecords=this.AssetData.length,this.assetTicketItem.forEach(o=>{o.selected=!1})}openModalViewSchude(t){t.length>0&&(this.offcanvasService.open(m_.g,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas "}).componentInstance.pm_ScheduleAndAssetCheckList=t)}goback(){this.router.navigate(["maintenace-management/dashboard/schedule-list-adminandclient"])}open(t){let a=[];a.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(a)}openModalCreateConf(){const t=this.modalService.open(tt.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});t.componentInstance.title="Would you like a file with the image report?",t.componentInstance.subTitle="",t.componentInstance.buttonName="",t.componentInstance.CancelName="No !",t.result.then(o=>{o&&("success"==o?(this.imageShown=!1,this.printReport()):"close"===o&&(this.imageShown=!0,this.printReport()))})}printReport(){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{try{document.execCommand("print",!1,null)}catch{window.print()}this.ngZone.run(()=>{})},50)})}openSideColum(){this.sideColumValue=!1}closeSideColum(){this.sideColumValue=!0}checkTheAssetStatusValue(){if(0!=this.assetTicketItem_new?.length){this.scheduleAssetItemCheckStatusPending2=0,this.scheduleAssetItemCheckStatusIn_Progress30=0,this.scheduleAssetItemCheckStatusCompleted25=0;for(var t=0;t<this.assetTicketItem_new?.length;t++){var o=this.assetTicketItem_new[t];2===o.scheduleItemStatusId?this.scheduleAssetItemCheckStatusPending2++:20===o.scheduleItemStatusId?this.scheduleAssetItemCheckStatusIn_Progress30++:25===o.scheduleItemStatusId&&this.scheduleAssetItemCheckStatusCompleted25++}}}open_new(t,o){let a=[],s=0;if(t.forEach(l=>{l&&a.push({src:l,caption:"",thumb:"thumb"})}),0!=a.length)for(let l=0;l<=a.length;l++)if(a[l].src==o){s=l;break}console.log(a,s,"_albums, index"),this.lightbox.open(a,s,{wrapAround:!0,showImageNumberLabel:!0,showRotate:!0})}openModaVideeo(t,o){this.storeInfomationVideo=t,this.linkVideo=c.N.apiUrl+t.videoFileURL,this.modalService.open(o,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(s=>{})}toggleVideo(){this.videoplayer.nativeElement.play()}playPause(){var t=document.getElementById("my_video_1");t.paused?t.play():t.pause()}makeBig(){document.getElementById("my_video_1").width=560}makeSmall(){document.getElementById("my_video_1").width=320}makeNormal(){document.getElementById("my_video_1").width=420}skip(t){document.getElementById("my_video_1").currentTime+=t}restart(){document.getElementById("my_video_1").currentTime=0}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0),e.Y36(_.FF),e.Y36(be.W),e.Y36(v.u),e.Y36(he.l),e.Y36(U.K),e.Y36(_._B),e.Y36(Ne.ey),e.Y36(k_.J),e.Y36(C.S),e.Y36(e.R0b))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-schedule-details-signature"]],viewQuery:function(o,a){if(1&o&&(e.Gf(D_,5),e.Gf(A_,5),e.Gf(S_,5)),2&o){let s;e.iGM(s=e.CRH())&&(a.customNav=s.first),e.iGM(s=e.CRH())&&(a.defaultNav=s.first),e.iGM(s=e.CRH())&&(a.videoplayer=s.first)}},decls:62,vars:15,consts:[[1,"card"],[1,"card-body"],[1,"row","me-0","ms-0","ps-0","pe-0"],[1,"col-lg-12"],[1,"row"],[1,"col-sm-3"],[1,"mb-2"],["alt","logo light","height","80",1,"card-logo",3,"src"],[1,"col-sm-9","d-flex","justify-content-md-end","justify-content-sm-center"],[1,""],[1,"text-uppercase","fw-semibold","mb-0"],[1,"mb-0","pt-0","fs-20"],[1,"col-12","mt-2"],[1,"border-gradient-1"],[1,"col-12","mb-1","mt-2","p-0"],[1,"card-header"],[1,"col-12"],[1,"mt-0","mb-0"],[1,"col-6","mt-1"],[1,"mt-0","mb-0","fs-15"],[1,"col-6","mt-1","d-flex","justify-content-between"],[1,"mb-0","fs-15"],["class","ri-layout-right-line text-primary fs-15 cursor","ngbTooltip","Open Schedule Details",3,"click",4,"ngIf"],["ngbNav","",1,"nav","nav-tabs-custom","card-header-tabs","border-bottom-0",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"tab-content","text-muted","mt-3"],[3,"ngbNavOutlet"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect","mx-3",3,"click"],["role","document"],["VideoPlayer",""],["ngbTooltip","Open Schedule Details",1,"ri-layout-right-line","text-primary","fs-15","cursor",3,"click"],[1,"col-xxl-8"],[1,"col-md-12"],[1,"fw-semibold","text-uppercase","mb-3"],[1,"text-muted","mb-2"],["class","col-md-12 mt-2",4,"ngIf"],[1,"mb-1","text-dark"],[1,"badge","bg-success","ms-1"],[1,"col-sm-12","col-md-4"],[1,"text-warning","mb-0","fs-15"],[1,"mb-0"],[1,"text-info","mb-0","fs-15"],[1,"text-success","mb-0","fs-15"],[1,"mb-0","text-warning","fs-15"],[1,"mb-0","text-success","fs-15"],[1,"mb-0","text-danger","fs-15"],[1,"row","m-0","p-0"],["class","col-md-12 m-0 p-0",4,"ngFor","ngForOf"],["class","col-xxl-4",4,"ngIf"],[1,"col-md-12","mt-2"],[1,"col-md-12","m-0","p-0"],[1,"card","border","ribbon-box","right"],[1,"card-header","mb-0"],[4,"ngIf"],[1,"fs-12"],[1,"card-body","p-2"],[1,"ribbon","ribbon-info","ribbon-shape"],[1,"ri-flashlight-fill","text-white","align-bottom","me-1"],[1,"trending-ribbon-text"],[1,"row","mt-2"],["class","col-12 mb-2",4,"ngFor","ngForOf"],[1,"col-12","mb-2"],[1,"border-bottom","mb-3","pb-3"],[1,"col-md-6","mb-2"],[1,"mt-0","mb-1"],["class"," ri-video-line text-primary  align-bottom ","ngbTooltip","Play the video clip",3,"click",4,"ngIf"],["class","fs-15",4,"ngIf"],["class","mb-0",4,"ngIf"],[1,"col-md-6"],[1,"row","row-cols-2","row-cols-md-3","g-2","d-flex","justify-content-md-end"],["class","col-md-auto",4,"ngIf"],["ngbTooltip","Play the video clip",1,"ri-video-line","text-primary","align-bottom",3,"click"],[1,"fs-15"],[1,"col-md-auto"],["href","javascript: void(0);",1,"d-block",3,"click"],["alt","",1,"rounded","avatar-lg",3,"src"],["class","rounded avatar-lg",4,"ngIf"],[1,"rounded","avatar-lg"],[1,"col-xxl-4"],[1,"card","ribbon-box","right"],[1,"card-header","d-flex","justify-content-between","align-items-baseline"],[1,"card-title","mb-0"],["ngbTooltip","Close",1,"ri-close-circle-line","fs-15","text-danger","cursor",3,"click"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],[1,"fw-medium","w-10"],["id","t-client"],["class","col-md-12 mb-3",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"col-md-12","mb-3"],[1,"card","border","shadow-none","mb-lg-0","right"],[1,"card-body","text-muted"],[1,"fs-14","mb-2"],[1,"text-center","mb-1"],[1,"position-relative","d-inline-block"],["class","btn btn-success mt-2",3,"click",4,"ngIf"],["class","avatar-lg",4,"ngIf"],[1,"text-center","text-muted","mb-0"],[1,"text-center","text-dark","mb-0"],[1,"text-center","text-dark","mb-0","fs-12"],[1,"fs-10","text-muted"],[1,"btn","btn-success","mt-2",3,"click"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["class","avatar-md img-size-fixed",3,"src","click",4,"ngIf"],["src","../../../../../assets/images/placeholderimage.png","class","avatar-md img-size-fixed",3,"click",4,"ngIf"],[1,"avatar-md","img-size-fixed",3,"src","click"],["src","../../../../../assets/images/placeholderimage.png",1,"avatar-md","img-size-fixed",3,"click"],[1,"d-flex","align-items-center","justify-content-between","mb-3","mt-2"],[1,"table-responsive","table-card"],[1,"table","align-middle","mb-0"],[1,"table-light","text-muted"],["scope","col"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle","avatar-xxs",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1","ms-2"],["href","javascript:void(0);",1,"fw-medium"],[3,"ticketWOStartEndTask"],[1,"modal-header","p-3","bg-primary-subtle"],["id","inviteMembersModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],["id","instructions"],["id","my_video_1","width","100%","height","267px","controls","","preload","none","data-setup",'{ "aspectRatio":"640:267", "playbackRates": [1, 1.5, 2] }',1,"video-js","vjs-default-skin"],["type","video/mp4",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(o,a){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA()(),e.TgZ(8,"div",8)(9,"div",9)(10,"h3",10),e._uU(11),e.qZA(),e.TgZ(12,"p",11),e._uU(13),e.qZA(),e.TgZ(14,"p",11),e._uU(15),e.qZA(),e.TgZ(16,"p",11),e._uU(17),e.qZA()()(),e.TgZ(18,"div",12),e._UZ(19,"div",13),e.qZA()()(),e.TgZ(20,"div",14)(21,"div",0)(22,"div",15)(23,"div",4)(24,"div",16)(25,"h3",17)(26,"b"),e._uU(27," Title: "),e.qZA(),e._uU(28),e.qZA()(),e.TgZ(29,"div",18)(30,"p",19)(31,"b"),e._uU(32,"Client: "),e.qZA(),e._uU(33),e.qZA()(),e.TgZ(34,"div",20)(35,"p",21)(36,"b"),e._uU(37," Project: "),e.qZA(),e._uU(38),e.qZA(),e.YNc(39,Z_,1,0,"i",22),e.qZA()()(),e.TgZ(40,"div",1)(41,"ul",23,24)(43,"li",25)(44,"a",26),e._uU(45," Details "),e.qZA(),e.YNc(46,iu,73,14,"ng-template",27),e.qZA(),e.TgZ(47,"li",25)(48,"a",26),e._uU(49," Member List "),e.qZA(),e.YNc(50,su,18,2,"ng-template",27),e.qZA(),e.TgZ(51,"li",25)(52,"a",26),e._uU(53," Task List "),e.qZA(),e.YNc(54,ru,1,1,"ng-template",27),e.qZA()(),e.TgZ(55,"div",28),e._UZ(56,"div",29),e.qZA()()()()()()(),e.TgZ(57,"div",30)(58,"button",31),e.NdJ("click",function(){return a.goback()}),e._uU(59," Back "),e.qZA()(),e.YNc(60,lu,11,2,"ng-template",32,33,e.W1O)),2&o){const s=e.MAs(42);e.xp6(7),e.Q6J("src",null!=a.masterScheduleList&&a.masterScheduleList.companyLogoURL?a.imageUrl+(null==a.masterScheduleList?null:a.masterScheduleList.companyLogoURL):"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.hij(" ",null==a.masterScheduleList?null:a.masterScheduleList.companyName," "),e.xp6(2),e.hij(" ",a.companyData.address1?a.companyData.address1:""," "),e.xp6(2),e.hij(" ",a.companyData.address2?a.companyData.address2:""," "),e.xp6(2),e.AsE(" ",null!=a.companyData&&a.companyData.address3?null==a.companyData?null:a.companyData.address3:" "," ",null!=a.companyData&&a.companyData.country?null==a.companyData?null:a.companyData.country:""," "),e.xp6(11),e.hij("",null==a.masterScheduleList?null:a.masterScheduleList.configPreventivePDescription," "),e.xp6(5),e.hij("",(null==a.masterScheduleList?null:a.masterScheduleList.clientName)||"NA"," "),e.xp6(5),e.hij("",(null==a.masterScheduleList?null:a.masterScheduleList.projectName)||"NA"," "),e.xp6(1),e.Q6J("ngIf",a.sideColumValue),e.xp6(2),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(5),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,_._L,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,w_.U]})}}return n})();const du=["inputer"],pu=["assetTagId"];function _u(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",63),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(38);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function uu(n,r){if(1&n&&e._UZ(0,"i",64),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function gu(n,r){if(1&n&&e._UZ(0,"i",65),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function mu(n,r){if(1&n&&e._UZ(0,"i",66),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"On-site installation of the asset has been completed":"Asset have been collected")}}function hu(n,r){if(1&n&&e._UZ(0,"i",67),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"Currently, the asset is not installed on site":"Asset have not been collected")}}function bu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",60),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editHandler(a.id))}),e._UZ(2,"i",68),e._uU(3," Edit"),e.qZA()()}}function fu(n,r){1&n&&e._UZ(0,"li",69)}function Tu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",70),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(42);return e.KtG(s.confirm(l,null==a?null:a.id))}),e._UZ(2,"i",71),e._uU(3," Delete"),e.qZA()()}}function vu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",44)(2,"a",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("assetName_"+s.id))}),e.YNc(5,_u,2,0,"ng-container",47),e._uU(6),e.TgZ(7,"p",48),e.YNc(8,uu,1,1,"i",49)(9,gu,1,1,"i",50),e._UZ(10,"i",51),e.YNc(11,mu,1,1,"i",52)(12,hu,1,1,"i",53),e._UZ(13,"i",54),e.qZA()(),e.TgZ(14,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("companyName_"+s.id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("clientName_"+s.id))}),e._uU(17),e.qZA(),e.TgZ(18,"td",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("departmentName_"+s.id))}),e._uU(19),e.qZA(),e.TgZ(20,"td",55),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("locationName_"+s.id))}),e._uU(21),e.qZA(),e.TgZ(22,"td",44)(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"td",44)(26,"span")(27,"div",56)(28,"button",57),e._UZ(29,"i",58),e.qZA(),e.TgZ(30,"ul",59),e.YNc(31,bu,4,0,"li",47),e.TgZ(32,"li")(33,"a",60),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._UZ(34,"i",61),e._uU(35," View"),e.qZA()(),e.YNc(36,fu,1,0,"li",62)(37,Tu,4,0,"li",47),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(1),e.Q6J("title",t.assetName)("id","assetName_"+t.id),e.xp6(1),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngIf","Individual"==t.assignType),e.xp6(1),e.Q6J("ngIf","Project"==t.assignType),e.xp6(1),e.Tol(0==t.qrCodePrintCount?"text-danger":"text-success"),e.s9C("ngbTooltip",t.qrCodePrintCount),e.xp6(1),e.Q6J("ngIf",1==t.assigned),e.xp6(1),e.Q6J("ngIf",0==t.assigned),e.xp6(1),e.Tol(t.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.s9C("ngbTooltip",t.isLock?"Locked":"UnLocked"),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.id),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.id),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.id),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(1),e.Q6J("title",t.locationName)("id","locationName_"+t.id),e.xp6(1),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(7),e.Q6J("ngIf",o.returnValueMenu.edit),e.xp6(5),e.Q6J("ngIf",o.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",o.returnValueMenu.delete)}}function Cu(n,r){1&n&&(e.TgZ(0,"div",72),e._uU(1," No Asset Found "),e.qZA())}function xu(n,r){1&n&&(e._UZ(0,"i",76),e._uU(1," Prev "))}function ku(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",77))}function wu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",73),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,xu,2,0,"ng-template",74)(2,ku,2,0,"ng-template",75),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Du(n,r){if(1&n&&(e.TgZ(0,"div",34)(1,"table",35)(2,"thead")(3,"tr",36)(4,"th"),e._uU(5,"Asset No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Location"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,vu,38,33,"tr",37),e.qZA()(),e.YNc(22,Cu,2,0,"div",38),e.qZA(),e.TgZ(23,"div",39)(24,"div",40)(25,"div",41),e._uU(26),e.qZA()(),e.TgZ(27,"div",40)(28,"div",42),e.YNc(29,wu,3,5,"ngb-pagination",43),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(8),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Au(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",78)(1,"h4",79),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",80),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",81),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",82),e._UZ(7,"img",83),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function Su(n,r){1&n&&(e.TgZ(0,"h6",102),e._uU(1," Please select company from List page "),e.qZA())}function Zu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",84)(1,"h5",85),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",86),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",87),e.YNc(5,Su,2,0,"h6",88),e.TgZ(6,"div",0)(7,"div",89)(8,"label",90),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",91),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",89)(12,"label",92),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",93),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",89)(16,"label",94),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",95),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()(),e.TgZ(19,"div",89)(20,"label",96),e._uU(21,"Asset Tag Id"),e.qZA(),e.TgZ(22,"input",97,98),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.typeAssetTagIdValue=a)}),e.qZA()()()(),e.TgZ(24,"div",99)(25,"button",100),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(26," Clear "),e.qZA(),e.TgZ(27,"button",101),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(28," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedCompanyId),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedCompanyId)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue),e.xp6(4),e.Q6J("ngModel",t.typeAssetTagIdValue)}}function Iu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",103)(1,"div",78)(2,"button",104),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",87)(4,"div",105),e._UZ(5,"lord-icon",106),e.TgZ(6,"div",107)(7,"h4"),e._uU(8,"You are about to delete a Asset ?"),e.qZA(),e.TgZ(9,"p",108),e._uU(10," Deleting your asset will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",109)(12,"button",110),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",111),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",112),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let st=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.selectedCompanyId=0,this.isProject=!1,this.label="Asset Management",this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnChanges(t){this.selectedDropDownCompanyIdValue=this.selectedCompanyId?this.selectedCompanyId:null,console.log(" this.selectedDropDownCompanyIdValue",this.selectedDropDownCompanyIdValue),this.selectedCompanyId?this.onDropdownCompanyValueChange(""):this.resetSerachVariable()}ngOnInit(){this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,this.getV2_AssetStatusCount(),this.getDropdownAssetStatusList("AssetList"),"Not Delivered"===this.SearchIsDeliveredAndInstalled?localStorage.getItem("objectSerachNotDeliveredForAsset")?this.getObjectAfterRefreshNotDelivered():this.loadData():"Not Installed"===this.SearchIsDeliveredAndInstalled&&(localStorage.getItem("objectSerachNotInstalledForAsset")?this.getObjectAfterRefreshNotInstalled():this.loadData())}setObjectBeforeRefeshNotInstalled(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue),this.typeAssetNameValue&&(t.SearchAssetName=this.typeAssetNameValue),this.typeAssetTagIdValue&&(t.SearchAssetTagId=this.typeAssetTagIdValue),this.selectedDropDownLocationIdValue&&(t.SearchLocationId=this.selectedDropDownLocationIdValue),this.selectedDropDownAssetStatusIdValue&&(t.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.arrayListDropDownLocationList&&(t.arrayListDropDownLocationList=this.arrayListDropDownLocationList),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachNotInstalledForAsset",JSON.stringify(t))}getObjectAfterRefreshNotInstalled(){let t=JSON.parse(localStorage.getItem("objectSerachNotInstalledForAsset"));this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.arrayListDropDownLocationList=t.arrayListDropDownLocationList?t.arrayListDropDownLocationList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchDepartmentId?t.SearchDepartmentId:null,this.typeAssetNameValue=t.SearchAssetName?t.SearchAssetName:null,this.typeAssetTagIdValue=t.SearchAssetTagId?t.SearchAssetTagId:null,this.selectedDropDownAssetStatusIdValue=t.SearchAssetStatusId?t.SearchAssetStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchAssetName=this.typeAssetNameValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.selectedDropDownLocationIdValue=t.SearchLocationId?t.SearchLocationId:null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}setObjectBeforeRefeshNotDelivered(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue),this.typeAssetNameValue&&(t.SearchAssetName=this.typeAssetNameValue),this.typeAssetTagIdValue&&(t.SearchAssetTagId=this.typeAssetTagIdValue),this.selectedDropDownLocationIdValue&&(t.SearchLocationId=this.selectedDropDownLocationIdValue),this.selectedDropDownAssetStatusIdValue&&(t.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.arrayListDropDownLocationList&&(t.arrayListDropDownLocationList=this.arrayListDropDownLocationList),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachNotDeliveredForAsset",JSON.stringify(t))}getObjectAfterRefreshNotDelivered(){let t=JSON.parse(localStorage.getItem("objectSerachNotDeliveredForAsset"));this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.arrayListDropDownLocationList=t.arrayListDropDownLocationList?t.arrayListDropDownLocationList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchDepartmentId?t.SearchDepartmentId:null,this.typeAssetNameValue=t.SearchAssetName?t.SearchAssetName:null,this.typeAssetTagIdValue=t.SearchAssetTagId?t.SearchAssetTagId:null,this.selectedDropDownAssetStatusIdValue=t.SearchAssetStatusId?t.SearchAssetStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchAssetName=this.typeAssetNameValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.selectedDropDownLocationIdValue=t.SearchLocationId?t.SearchLocationId:null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){"Not Delivered"==this.SearchIsDeliveredAndInstalled?this.payload.SearchIsDelivered=!1:"Not Installed"==this.SearchIsDeliveredAndInstalled&&(this.payload.SearchIsInstalled=!1),this.assetService.GetV2_CommanAssetList_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength),"Not Delivered"===this.SearchIsDeliveredAndInstalled?this.setObjectBeforeRefeshNotDelivered():"Not Installed"===this.SearchIsDeliveredAndInstalled&&this.setObjectBeforeRefeshNotInstalled()})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t){this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard","Not Delivered"==this.SearchIsDeliveredAndInstalled?this.assetService.backTabs="Not Delivered":"Not Installed"==this.SearchIsDeliveredAndInstalled&&(this.assetService.backTabs="Not Installed"),this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/editasset"])}editHandler(t){"Client"!=this.currentUserRole&&(this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard","Not Delivered"==this.SearchIsDeliveredAndInstalled?this.assetService.backTabs="Not Delivered":"Not Installed"==this.SearchIsDeliveredAndInstalled&&(this.assetService.backTabs="Not Installed"),this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/editasset"]))}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=this.selectedCompanyId?this.selectedCompanyId:null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.typeAssetTagIdValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null},this.page=1,"Not Delivered"===this.SearchIsDeliveredAndInstalled?localStorage.removeItem("objectSerachNotDeliveredForAsset"):"Not Installed"===this.SearchIsDeliveredAndInstalled&&localStorage.removeItem("objectSerachNotInstalledForAsset"),this.selectedCompanyId?this.onDropdownCompanyValueChange(""):this.loadData()}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.getDropdownClientlist(),this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.typeAssetTagIdValue=null,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.typeAssetTagIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-delivered-installed"]],viewQuery:function(o,a){if(1&o&&(e.Gf(du,7),e.Gf(pu,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},inputs:{SearchIsDeliveredAndInstalled:"SearchIsDeliveredAndInstalled",selectedCompanyId:"selectedCompanyId"},features:[e.TTD],decls:43,vars:18,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","assetStatus","placeholder","Select Asset Status","for","assetStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"title","id","click"],[4,"ngIf"],[1,"d-flex","mb-0"],["class","ri-user-2-fill text-success me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-building-2-fill text-primary me-1",3,"ngbTooltip",4,"ngIf"],[1,"ri-printer-line","me-1",3,"ngbTooltip"],["class","ri-thumb-up-line text-primary me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-thumb-up-line text-danger me-1",3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[1,"title","align-top",3,"title","id","click"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["class","dropdown-divider",4,"ngIf"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"ri-user-2-fill","text-success","me-1",3,"ngbTooltip"],[1,"ri-building-2-fill","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-danger","me-1",3,"ngbTooltip"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeProjectModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","typeAssetTagId",1,"form-label","fw-semibold"],["type","search","name","assetId","id","typeAssetTagId","placeholder","Search for Asset Tag Id ",1,"form-control",3,"ngModel","ngModelChange"],["assetTagId",""],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"modal-content"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"input",9,10),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(12,"i",11),e.qZA()()()(),e.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"ng-select",15),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(17,"div",14)(18,"ng-select",16),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(19,"div",14)(20,"ng-select",17),e.NdJ("change",function(g){return a.onDropdownAssetStatusValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownAssetStatusIdValue=g}),e.qZA()(),e.TgZ(21,"div",18)(22,"div",19)(23,"button",20),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(40);return e.KtG(a.openFilter(g))}),e._UZ(24,"i",21),e._uU(25," Filters "),e.qZA(),e.TgZ(26,"button",22),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(27,"i",23),e._uU(28," Clear "),e.qZA()()()()(),e.TgZ(29,"div",24)(30,"div")(31,"ul",25,26)(33,"li",27),e.YNc(34,Du,30,7,"ng-template",28),e.qZA()(),e.TgZ(35,"div",29),e._UZ(36,"div",30),e.qZA()()()()()(),e.YNc(37,Au,8,1,"ng-template",null,31,e.W1O)(39,Zu,29,14,"ng-template",null,32,e.W1O)(41,Iu,17,0,"ng-template",null,33,e.W1O)}if(2&o){const s=e.MAs(32);e.xp6(7),e.hij(" ",a.SearchIsDeliveredAndInstalled," Asset List "),e.xp6(3),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(6),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedCompanyId)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",a.selectedDropDownAssetStatusIdValue),e.xp6(3),e.Tol(a.selectedDropDownLocationIdValue||a.selectedDropDownCategoryIdValue||a.selectedDropDownSubCategoryIdValue||a.typeAssetTagIdValue?"btn-success":"btn-primary"),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9],styles:["@media only screen and (max-width: 600px){.w-50[_ngcontent-%COMP%]{width:100%!important}}"]})}}return n})();const yu=["inputer"],qu=["assetTagId"];function Nu(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(42);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function Lu(n,r){if(1&n&&e._UZ(0,"i",66),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function Uu(n,r){if(1&n&&e._UZ(0,"i",67),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function Ou(n,r){if(1&n&&e._UZ(0,"i",68),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"On-site installation of the asset has been completed":"Asset have been collected")}}function Mu(n,r){if(1&n&&e._UZ(0,"i",69),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"Currently, the asset is not installed on site":"Asset have not been collected")}}function Vu(n,r){if(1&n&&(e.TgZ(0,"p",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",t.daysUntilWarrantyEnd<0?"text-danger":"text-muted")("ngbTooltip",t.daysUntilWarrantyEnd>0?"It will expire in "+o.removeMius(t.daysUntilWarrantyEnd)+" days.":"It has already been "+o.removeMius(t.daysUntilWarrantyEnd)+" days since it expired."),e.xp6(1),e.hij(" ",o.removeMius(t.daysUntilWarrantyEnd)," Days ")}}function Qu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",62),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editHandler(a.id))}),e._UZ(2,"i",71),e._uU(3," Edit"),e.qZA()()}}function Ju(n,r){1&n&&e._UZ(0,"li",72)}function Ru(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(46);return e.KtG(s.confirm(l,null==a?null:a.id))}),e._UZ(2,"i",74),e._uU(3," Delete"),e.qZA()()}}function ju(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",45)(2,"a",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("assetName_"+s.id))}),e.YNc(5,Nu,2,0,"ng-container",48),e._uU(6),e.TgZ(7,"p",49),e.YNc(8,Lu,1,1,"i",50)(9,Uu,1,1,"i",51),e._UZ(10,"i",52),e.YNc(11,Ou,1,1,"i",53)(12,Mu,1,1,"i",54),e._UZ(13,"i",55),e.qZA()(),e.TgZ(14,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("companyName_"+s.id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("clientName_"+s.id))}),e._uU(17),e.qZA(),e.TgZ(18,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("departmentName_"+s.id))}),e._uU(19),e.qZA(),e.TgZ(20,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("locationName_"+s.id))}),e._uU(21),e.qZA(),e.TgZ(22,"td",45)(23,"span"),e._uU(24),e.qZA(),e.YNc(25,Vu,2,3,"p",57),e.qZA(),e.TgZ(26,"td",45)(27,"span")(28,"div",58)(29,"button",59),e._UZ(30,"i",60),e.qZA(),e.TgZ(31,"ul",61),e.YNc(32,Qu,4,0,"li",48),e.TgZ(33,"li")(34,"a",62),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._UZ(35,"i",63),e._uU(36," View"),e.qZA()(),e.YNc(37,Ju,1,0,"li",64)(38,Ru,4,0,"li",48),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(1),e.Q6J("title",t.assetName)("id","assetName_"+t.id),e.xp6(1),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngIf","Individual"==t.assignType),e.xp6(1),e.Q6J("ngIf","Project"==t.assignType),e.xp6(1),e.Tol(0==t.qrCodePrintCount?"text-danger":"text-success"),e.s9C("ngbTooltip",t.qrCodePrintCount),e.xp6(1),e.Q6J("ngIf",1==t.assigned),e.xp6(1),e.Q6J("ngIf",0==t.assigned),e.xp6(1),e.Tol(t.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.s9C("ngbTooltip",t.isLock?"Locked":"UnLocked"),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.id),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.id),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.id),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(1),e.Q6J("title",t.locationName)("id","locationName_"+t.id),e.xp6(1),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(1),e.Q6J("ngIf",t.daysUntilWarrantyEnd),e.xp6(7),e.Q6J("ngIf",o.returnValueMenu.edit),e.xp6(5),e.Q6J("ngIf",o.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",o.returnValueMenu.delete)}}function Pu(n,r){1&n&&(e.TgZ(0,"div",75),e._uU(1," No Asset Found "),e.qZA())}function Fu(n,r){1&n&&(e._UZ(0,"i",79),e._uU(1," Prev "))}function Eu(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",80))}function Bu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",76),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,Fu,2,0,"ng-template",77)(2,Eu,2,0,"ng-template",78),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Gu(n,r){if(1&n&&(e.TgZ(0,"div",35)(1,"table",36)(2,"thead")(3,"tr",37)(4,"th"),e._uU(5,"Asset No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Location"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,ju,39,34,"tr",38),e.qZA()(),e.YNc(22,Pu,2,0,"div",39),e.qZA(),e.TgZ(23,"div",40)(24,"div",41)(25,"div",42),e._uU(26),e.qZA()(),e.TgZ(27,"div",41)(28,"div",43),e.YNc(29,Bu,3,5,"ngb-pagination",44),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(8),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Yu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"h4",82),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",83),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",84),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",85),e._UZ(7,"img",86),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function Hu(n,r){1&n&&(e.TgZ(0,"h6",105),e._uU(1," Please select company from List page "),e.qZA())}function Wu(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"h5",88),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",89),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",90),e.YNc(5,Hu,2,0,"h6",91),e.TgZ(6,"div",0)(7,"div",92)(8,"label",93),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",94),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",92)(12,"label",95),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",96),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",92)(16,"label",97),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",98),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()(),e.TgZ(19,"div",92)(20,"label",99),e._uU(21,"Asset Tag Id"),e.qZA(),e.TgZ(22,"input",100,101),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.typeAssetTagIdValue=a)}),e.qZA()()()(),e.TgZ(24,"div",102)(25,"button",103),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(26," Clear "),e.qZA(),e.TgZ(27,"button",104),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(28," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedDropDownCompanyIdValue),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue),e.xp6(4),e.Q6J("ngModel",t.typeAssetTagIdValue)}}function Ku(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",106)(1,"div",81)(2,"button",107),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",90)(4,"div",108),e._UZ(5,"lord-icon",109),e.TgZ(6,"div",110)(7,"h4"),e._uU(8,"You are about to delete a Asset ?"),e.qZA(),e.TgZ(9,"p",111),e._uU(10," Deleting your asset will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",112)(12,"button",113),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",114),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let zu=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.isProject=!1,this.label="Asset Management",this.selectedCompanyId=0,this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.exipredTypeList=["Within 30 Days","Expired"],this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject(),this.jsonSearchArrayObject=[{type:"input",label:"Asset Tag Id ",sendobject:"SearchAssetTagId",options:[],value:null,input_type:""}]}ngOnInit(){this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,this.getV2_AssetStatusCount(),this.getDropdownAssetStatusList("AssetList"),this.loadData()}ngOnChanges(t){this.selectedDropDownCompanyIdValue=this.selectedCompanyId,this.selectedCompanyId&&this.onDropdownCompanyValueChange("")}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.assetService.GetV2_CommanAssetListWarrenty_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t){this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="Warrenty Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/viewasset"])}editHandler(t){"Client"!=this.currentUserRole&&(this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="Warrenty Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/editasset"]))}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.typeAssetTagIdValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownExipredValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.typeAssetTagIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}onDropdownExipredValueChange(t){console.log(t,"event"),"Within 30 Days"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsExpried=!0,delete this.payload.IsFutureExpried):"Expired"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsFutureExpried=!0,delete this.payload.IsExpried):(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),delete this.payload.IsFutureExpried,delete this.payload.IsExpried),this.loadData()}removeMius(t){return t<0?String(t).replace("-",""):t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-warranty-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf(yu,7),e.Gf(qu,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},inputs:{selectedCompanyId:"selectedCompanyId"},features:[e.TTD],decls:47,vars:20,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-auto","col-xxl"],[1,"search-box","w-100"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],["id","exipred","placeholder","Select Exipred","for","exipred",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","assetStatus","placeholder","Select Asset Status","for","assetStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn","btn-primary",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"title","id","click"],[4,"ngIf"],[1,"d-flex","mb-0"],["class","ri-user-2-fill text-success me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-building-2-fill text-primary me-1",3,"ngbTooltip",4,"ngIf"],[1,"ri-printer-line","me-1",3,"ngbTooltip"],["class","ri-thumb-up-line text-primary me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-thumb-up-line text-danger me-1",3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[1,"title","align-top",3,"title","id","click"],["class","mb-0",3,"ngClass","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["class","dropdown-divider",4,"ngIf"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"ri-user-2-fill","text-success","me-1",3,"ngbTooltip"],[1,"ri-building-2-fill","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-danger","me-1",3,"ngbTooltip"],[1,"mb-0",3,"ngClass","ngbTooltip"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeProjectModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","typeAssetTagId",1,"form-label","fw-semibold"],["type","search","name","assetId","id","typeAssetTagId","placeholder","Search for Asset Tag Id ",1,"form-control",3,"ngModel","ngModelChange"],["assetTagId",""],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"modal-content"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Warranty Asset List"),e.qZA()(),e._UZ(8,"div",5),e.TgZ(9,"div",7)(10,"div",8)(11,"input",9,10),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(13,"i",11),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8)(16,"ng-select",12),e.NdJ("change",function(g){return a.onDropdownExipredValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownExipredValue=g}),e.qZA()()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"ng-select",16),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(21,"div",15)(22,"ng-select",17),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(23,"div",15)(24,"ng-select",18),e.NdJ("change",function(g){return a.onDropdownAssetStatusValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownAssetStatusIdValue=g}),e.qZA()(),e.TgZ(25,"div",19)(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(44);return e.KtG(a.openFilter(g))}),e._UZ(28,"i",22),e._uU(29," Filters "),e.qZA(),e.TgZ(30,"button",23),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(31,"i",24),e._uU(32," Clear "),e.qZA()()()()(),e.TgZ(33,"div",25)(34,"div")(35,"ul",26,27)(37,"li",28),e.YNc(38,Gu,30,7,"ng-template",29),e.qZA()(),e.TgZ(39,"div",30),e._UZ(40,"div",31),e.qZA()()()()()(),e.YNc(41,Yu,8,1,"ng-template",null,32,e.W1O)(43,Wu,29,14,"ng-template",null,33,e.W1O)(45,Ku,17,0,"ng-template",null,34,e.W1O)}if(2&o){const s=e.MAs(36);e.xp6(11),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(5),e.Q6J("items",a.exipredTypeList)("clearable",!0)("ngModel",a.selectedDropDownExipredValue),e.xp6(4),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",a.selectedDropDownAssetStatusIdValue),e.xp6(3),e.Tol(a.selectedDropDownLocationIdValue||a.selectedDropDownCategoryIdValue||a.selectedDropDownSubCategoryIdValue||a.typeAssetTagIdValue?"btn-success":"btn-primary"),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9],styles:["@media only screen and (max-width: 600px){.w-50[_ngcontent-%COMP%]{width:100%!important}}"]})}}return n})();const $u=["inputer"],Xu=["assetTagId"];function eg(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(42);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function tg(n,r){if(1&n&&e._UZ(0,"i",66),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function ig(n,r){if(1&n&&e._UZ(0,"i",67),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function ng(n,r){if(1&n&&e._UZ(0,"i",68),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"On-site installation of the asset has been completed":"Asset have been collected")}}function ag(n,r){if(1&n&&e._UZ(0,"i",69),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"Currently, the asset is not installed on site":"Asset have not been collected")}}function og(n,r){if(1&n&&(e.TgZ(0,"p",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",t.daysUntilWarrantyEnd<0?"text-danger":"text-muted")("ngbTooltip",t.daysUntilWarrantyEnd>0?"It will expire in "+o.removeMius(t.daysUntilWarrantyEnd)+" days.":"It has already been "+o.removeMius(t.daysUntilWarrantyEnd)+" days since it expired."),e.xp6(1),e.hij(" ",o.removeMius(t.daysUntilWarrantyEnd)," Days ")}}function sg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",62),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editHandler(a.id))}),e._UZ(2,"i",71),e._uU(3," Edit"),e.qZA()()}}function rg(n,r){1&n&&e._UZ(0,"li",72)}function lg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(46);return e.KtG(s.confirm(l,null==a?null:a.id))}),e._UZ(2,"i",74),e._uU(3," Delete"),e.qZA()()}}function cg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",45)(2,"a",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("assetName_"+s.id))}),e.YNc(5,eg,2,0,"ng-container",48),e._uU(6),e.TgZ(7,"p",49),e.YNc(8,tg,1,1,"i",50)(9,ig,1,1,"i",51),e._UZ(10,"i",52),e.YNc(11,ng,1,1,"i",53)(12,ag,1,1,"i",54),e._UZ(13,"i",55),e.qZA()(),e.TgZ(14,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("companyName_"+s.id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("clientName_"+s.id))}),e._uU(17),e.qZA(),e.TgZ(18,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("departmentName_"+s.id))}),e._uU(19),e.qZA(),e.TgZ(20,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("locationName_"+s.id))}),e._uU(21),e.qZA(),e.TgZ(22,"td",45)(23,"span"),e._uU(24),e.qZA(),e.YNc(25,og,2,3,"p",57),e.qZA(),e.TgZ(26,"td",45)(27,"span")(28,"div",58)(29,"button",59),e._UZ(30,"i",60),e.qZA(),e.TgZ(31,"ul",61),e.YNc(32,sg,4,0,"li",48),e.TgZ(33,"li")(34,"a",62),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._UZ(35,"i",63),e._uU(36," View"),e.qZA()(),e.YNc(37,rg,1,0,"li",64)(38,lg,4,0,"li",48),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(1),e.Q6J("title",t.assetName)("id","assetName_"+t.id),e.xp6(1),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngIf","Individual"==t.assignType),e.xp6(1),e.Q6J("ngIf","Project"==t.assignType),e.xp6(1),e.Tol(0==t.qrCodePrintCount?"text-danger":"text-success"),e.s9C("ngbTooltip",t.qrCodePrintCount),e.xp6(1),e.Q6J("ngIf",1==t.assigned),e.xp6(1),e.Q6J("ngIf",0==t.assigned),e.xp6(1),e.Tol(t.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.s9C("ngbTooltip",t.isLock?"Locked":"UnLocked"),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.id),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.id),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.id),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(1),e.Q6J("title",t.locationName)("id","locationName_"+t.id),e.xp6(1),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(1),e.Q6J("ngIf",t.daysUntilWarrantyEnd),e.xp6(7),e.Q6J("ngIf",o.returnValueMenu.edit),e.xp6(5),e.Q6J("ngIf",o.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",o.returnValueMenu.delete)}}function dg(n,r){1&n&&(e.TgZ(0,"div",75),e._uU(1," No Asset Found "),e.qZA())}function pg(n,r){1&n&&(e._UZ(0,"i",79),e._uU(1," Prev "))}function _g(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",80))}function ug(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",76),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,pg,2,0,"ng-template",77)(2,_g,2,0,"ng-template",78),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function gg(n,r){if(1&n&&(e.TgZ(0,"div",35)(1,"table",36)(2,"thead")(3,"tr",37)(4,"th"),e._uU(5,"Asset No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Location"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,cg,39,34,"tr",38),e.qZA()(),e.YNc(22,dg,2,0,"div",39),e.qZA(),e.TgZ(23,"div",40)(24,"div",41)(25,"div",42),e._uU(26),e.qZA()(),e.TgZ(27,"div",41)(28,"div",43),e.YNc(29,ug,3,5,"ngb-pagination",44),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(8),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function mg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"h4",82),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",83),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",84),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",85),e._UZ(7,"img",86),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function hg(n,r){1&n&&(e.TgZ(0,"h6",105),e._uU(1," Please select company from List page "),e.qZA())}function bg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"h5",88),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",89),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",90),e.YNc(5,hg,2,0,"h6",91),e.TgZ(6,"div",0)(7,"div",92)(8,"label",93),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",94),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",92)(12,"label",95),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",96),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",92)(16,"label",97),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",98),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()(),e.TgZ(19,"div",92)(20,"label",99),e._uU(21,"Asset Tag Id"),e.qZA(),e.TgZ(22,"input",100,101),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.typeAssetTagIdValue=a)}),e.qZA()()()(),e.TgZ(24,"div",102)(25,"button",103),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(26," Clear "),e.qZA(),e.TgZ(27,"button",104),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(28," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedDropDownCompanyIdValue),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue),e.xp6(4),e.Q6J("ngModel",t.typeAssetTagIdValue)}}function fg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",106)(1,"div",81)(2,"button",107),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",90)(4,"div",108),e._UZ(5,"lord-icon",109),e.TgZ(6,"div",110)(7,"h4"),e._uU(8,"You are about to delete a Asset ?"),e.qZA(),e.TgZ(9,"p",111),e._uU(10," Deleting your asset will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",112)(12,"button",113),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",114),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let Tg=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.isProject=!1,this.label="Asset Management",this.selectedCompanyId=0,this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.exipredTypeList=["Within 30 Days","Expired"],this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject(),this.jsonSearchArrayObject=[{type:"input",label:"Asset Tag Id ",sendobject:"SearchAssetTagId",options:[],value:null,input_type:""}]}ngOnInit(){this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,this.getV2_AssetStatusCount(),this.getDropdownAssetStatusList("AssetList"),this.loadData()}ngOnChanges(t){this.selectedDropDownCompanyIdValue=this.selectedCompanyId,this.selectedCompanyId&&this.onDropdownCompanyValueChange("")}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.assetService.GetV2_CommanAssetListExtended_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t){this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="Extended Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/viewasset"])}editHandler(t){"Client"!=this.currentUserRole&&(this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="Extended Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/editasset"]))}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.typeAssetTagIdValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownExipredValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.typeAssetTagIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}onDropdownExipredValueChange(t){console.log(t,"event"),"Within 30 Days"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsExpried=!0,delete this.payload.IsFutureExpried):"Expired"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsFutureExpried=!0,delete this.payload.IsExpried):(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),delete this.payload.IsFutureExpried,delete this.payload.IsExpried),this.loadData()}removeMius(t){return t<0?String(t).replace("-",""):t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-extended-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf($u,7),e.Gf(Xu,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},inputs:{selectedCompanyId:"selectedCompanyId"},features:[e.TTD],decls:47,vars:20,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-auto","col-xxl"],[1,"search-box","w-100"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],["id","exipred","placeholder","Select Exipred","for","exipred",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","assetStatus","placeholder","Select Asset Status","for","assetStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn","btn-primary",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"title","id","click"],[4,"ngIf"],[1,"d-flex","mb-0"],["class","ri-user-2-fill text-success me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-building-2-fill text-primary me-1",3,"ngbTooltip",4,"ngIf"],[1,"ri-printer-line","me-1",3,"ngbTooltip"],["class","ri-thumb-up-line text-primary me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-thumb-up-line text-danger me-1",3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[1,"title","align-top",3,"title","id","click"],["class","mb-0",3,"ngClass","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["class","dropdown-divider",4,"ngIf"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"ri-user-2-fill","text-success","me-1",3,"ngbTooltip"],[1,"ri-building-2-fill","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-danger","me-1",3,"ngbTooltip"],[1,"mb-0",3,"ngClass","ngbTooltip"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeProjectModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","typeAssetTagId",1,"form-label","fw-semibold"],["type","search","name","assetId","id","typeAssetTagId","placeholder","Search for Asset Tag Id ",1,"form-control",3,"ngModel","ngModelChange"],["assetTagId",""],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"modal-content"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Warranty Asset List"),e.qZA()(),e._UZ(8,"div",5),e.TgZ(9,"div",7)(10,"div",8)(11,"input",9,10),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(13,"i",11),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8)(16,"ng-select",12),e.NdJ("change",function(g){return a.onDropdownExipredValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownExipredValue=g}),e.qZA()()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"ng-select",16),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(21,"div",15)(22,"ng-select",17),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(23,"div",15)(24,"ng-select",18),e.NdJ("change",function(g){return a.onDropdownAssetStatusValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownAssetStatusIdValue=g}),e.qZA()(),e.TgZ(25,"div",19)(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(44);return e.KtG(a.openFilter(g))}),e._UZ(28,"i",22),e._uU(29," Filters "),e.qZA(),e.TgZ(30,"button",23),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(31,"i",24),e._uU(32," Clear "),e.qZA()()()()(),e.TgZ(33,"div",25)(34,"div")(35,"ul",26,27)(37,"li",28),e.YNc(38,gg,30,7,"ng-template",29),e.qZA()(),e.TgZ(39,"div",30),e._UZ(40,"div",31),e.qZA()()()()()(),e.YNc(41,mg,8,1,"ng-template",null,32,e.W1O)(43,bg,29,14,"ng-template",null,33,e.W1O)(45,fg,17,0,"ng-template",null,34,e.W1O)}if(2&o){const s=e.MAs(36);e.xp6(11),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(5),e.Q6J("items",a.exipredTypeList)("clearable",!0)("ngModel",a.selectedDropDownExipredValue),e.xp6(4),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",a.selectedDropDownAssetStatusIdValue),e.xp6(3),e.Tol(a.selectedDropDownLocationIdValue||a.selectedDropDownCategoryIdValue||a.selectedDropDownSubCategoryIdValue||a.typeAssetTagIdValue?"btn-success":"btn-primary"),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9]})}}return n})();const vg=["inputer"],Cg=["assetTagId"];function xg(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",65),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(42);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function kg(n,r){if(1&n&&e._UZ(0,"i",66),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function wg(n,r){if(1&n&&e._UZ(0,"i",67),2&n){const t=e.oxw().$implicit;e.Q6J("ngbTooltip",t.assignType)}}function Dg(n,r){if(1&n&&e._UZ(0,"i",68),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"On-site installation of the asset has been completed":"Asset have been collected")}}function Ag(n,r){if(1&n&&e._UZ(0,"i",69),2&n){const t=e.oxw().$implicit;e.s9C("ngbTooltip","Project"==t.assignType?"Currently, the asset is not installed on site":"Asset have not been collected")}}function Sg(n,r){if(1&n&&(e.TgZ(0,"p",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.Q6J("ngClass",t.daysUntilWarrantyEnd<0?"text-danger":"text-muted")("ngbTooltip",t.daysUntilWarrantyEnd>0?"It will expire in "+o.removeMius(t.daysUntilWarrantyEnd)+" days.":"It has already been "+o.removeMius(t.daysUntilWarrantyEnd)+" days since it expired."),e.xp6(1),e.hij(" ",o.removeMius(t.daysUntilWarrantyEnd)," Days ")}}function Zg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",62),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editHandler(a.id))}),e._UZ(2,"i",71),e._uU(3," Edit"),e.qZA()()}}function Ig(n,r){1&n&&e._UZ(0,"li",72)}function yg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(46);return e.KtG(s.confirm(l,null==a?null:a.id))}),e._UZ(2,"i",74),e._uU(3," Delete"),e.qZA()()}}function qg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",45)(2,"a",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("assetName_"+s.id))}),e.YNc(5,xg,2,0,"ng-container",48),e._uU(6),e.TgZ(7,"p",49),e.YNc(8,kg,1,1,"i",50)(9,wg,1,1,"i",51),e._UZ(10,"i",52),e.YNc(11,Dg,1,1,"i",53)(12,Ag,1,1,"i",54),e._UZ(13,"i",55),e.qZA()(),e.TgZ(14,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("companyName_"+s.id))}),e._uU(15),e.qZA(),e.TgZ(16,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("clientName_"+s.id))}),e._uU(17),e.qZA(),e.TgZ(18,"td",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("departmentName_"+s.id))}),e._uU(19),e.qZA(),e.TgZ(20,"td",56),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.expandTitle("locationName_"+s.id))}),e._uU(21),e.qZA(),e.TgZ(22,"td",45)(23,"span"),e._uU(24),e.qZA(),e.YNc(25,Sg,2,3,"p",57),e.qZA(),e.TgZ(26,"td",45)(27,"span")(28,"div",58)(29,"button",59),e._UZ(30,"i",60),e.qZA(),e.TgZ(31,"ul",61),e.YNc(32,Zg,4,0,"li",48),e.TgZ(33,"li")(34,"a",62),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id))}),e._UZ(35,"i",63),e._uU(36," View"),e.qZA()(),e.YNc(37,Ig,1,0,"li",64)(38,yg,4,0,"li",48),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(1),e.Q6J("title",t.assetName)("id","assetName_"+t.id),e.xp6(1),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngIf","Individual"==t.assignType),e.xp6(1),e.Q6J("ngIf","Project"==t.assignType),e.xp6(1),e.Tol(0==t.qrCodePrintCount?"text-danger":"text-success"),e.s9C("ngbTooltip",t.qrCodePrintCount),e.xp6(1),e.Q6J("ngIf",1==t.assigned),e.xp6(1),e.Q6J("ngIf",0==t.assigned),e.xp6(1),e.Tol(t.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.s9C("ngbTooltip",t.isLock?"Locked":"UnLocked"),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.id),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.id),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.id),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(1),e.Q6J("title",t.locationName)("id","locationName_"+t.id),e.xp6(1),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(1),e.Q6J("ngIf",t.daysUntilWarrantyEnd),e.xp6(7),e.Q6J("ngIf",o.returnValueMenu.edit),e.xp6(5),e.Q6J("ngIf",o.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",o.returnValueMenu.delete)}}function Ng(n,r){1&n&&(e.TgZ(0,"div",75),e._uU(1," No Asset Found "),e.qZA())}function Lg(n,r){1&n&&(e._UZ(0,"i",79),e._uU(1," Prev "))}function Ug(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",80))}function Og(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",76),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,Lg,2,0,"ng-template",77)(2,Ug,2,0,"ng-template",78),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Mg(n,r){if(1&n&&(e.TgZ(0,"div",35)(1,"table",36)(2,"thead")(3,"tr",37)(4,"th"),e._uU(5,"Asset No"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Client"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Location"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,qg,39,34,"tr",38),e.qZA()(),e.YNc(22,Ng,2,0,"div",39),e.qZA(),e.TgZ(23,"div",40)(24,"div",41)(25,"div",42),e._uU(26),e.qZA()(),e.TgZ(27,"div",41)(28,"div",43),e.YNc(29,Og,3,5,"ngb-pagination",44),e.qZA()()()),2&n){const t=e.oxw();e.xp6(13),e.Oqu(t.isProject?"Project":"Department"),e.xp6(8),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Vg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"h4",82),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",83),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",84),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",85),e._UZ(7,"img",86),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function Qg(n,r){1&n&&(e.TgZ(0,"h6",105),e._uU(1," Please select company from List page "),e.qZA())}function Jg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"h5",88),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",89),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",90),e.YNc(5,Qg,2,0,"h6",91),e.TgZ(6,"div",0)(7,"div",92)(8,"label",93),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",94),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",92)(12,"label",95),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",96),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",92)(16,"label",97),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",98),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()(),e.TgZ(19,"div",92)(20,"label",99),e._uU(21,"Asset Tag Id"),e.qZA(),e.TgZ(22,"input",100,101),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.typeAssetTagIdValue=a)}),e.qZA()()()(),e.TgZ(24,"div",102)(25,"button",103),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(26," Clear "),e.qZA(),e.TgZ(27,"button",104),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(28," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedDropDownCompanyIdValue),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue),e.xp6(4),e.Q6J("ngModel",t.typeAssetTagIdValue)}}function Rg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",106)(1,"div",81)(2,"button",107),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",90)(4,"div",108),e._UZ(5,"lord-icon",109),e.TgZ(6,"div",110)(7,"h4"),e._uU(8,"You are about to delete a Asset ?"),e.qZA(),e.TgZ(9,"p",111),e._uU(10," Deleting your asset will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",112)(12,"button",113),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",114),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let jg=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.isProject=!1,this.label="Asset Management",this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.selectedCompanyId=0,this.exipredTypeList=["Within 30 Days","Expired"],this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject(),this.jsonSearchArrayObject=[{type:"input",label:"Asset Tag Id ",sendobject:"SearchAssetTagId",options:[],value:null,input_type:""}]}ngOnInit(){this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,this.getV2_AssetStatusCount(),this.getDropdownAssetStatusList("AssetList"),this.loadData()}ngOnChanges(t){this.selectedDropDownCompanyIdValue=this.selectedCompanyId,this.selectedCompanyId&&this.onDropdownCompanyValueChange("")}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.assetService.GetV2_CommanAssetListRMA_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t){this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="RMA Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/viewasset"])}editHandler(t){"Client"!=this.currentUserRole&&(this.assetService.assetBackRoute="maintenace-management/dashboard/asset-dashboard",this.assetService.backTabs="RMA Asset",this.assetService.sendAssetId=t,this.router.navigate(["/asset-management/asset/editasset"]))}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.typeAssetTagIdValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownExipredValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedCompanyId?this.selectedCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,SearchAssetTagId:null,IsExpried:null,IsFutureExpried:null},this.page=1,this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.typeAssetTagIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}onDropdownExipredValueChange(t){console.log(t,"event"),"Within 30 Days"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsExpried=!0,delete this.payload.IsFutureExpried):"Expired"===t?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.IsFutureExpried=!0,delete this.payload.IsExpried):(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),delete this.payload.IsFutureExpried,delete this.payload.IsExpried),this.loadData()}removeMius(t){return t<0?String(t).replace("-",""):t}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-rma-list"]],viewQuery:function(o,a){if(1&o&&(e.Gf(vg,7),e.Gf(Cg,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},inputs:{selectedCompanyId:"selectedCompanyId"},features:[e.TTD],decls:47,vars:20,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-auto","col-xxl"],[1,"search-box","w-100"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],["id","exipred","placeholder","Select Exipred","for","exipred",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","assetStatus","placeholder","Select Asset Status","for","assetStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn","btn-primary",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"title",3,"title","id","click"],[4,"ngIf"],[1,"d-flex","mb-0"],["class","ri-user-2-fill text-success me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-building-2-fill text-primary me-1",3,"ngbTooltip",4,"ngIf"],[1,"ri-printer-line","me-1",3,"ngbTooltip"],["class","ri-thumb-up-line text-primary me-1",3,"ngbTooltip",4,"ngIf"],["class","ri-thumb-up-line text-danger me-1",3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[1,"title","align-top",3,"title","id","click"],["class","mb-0",3,"ngClass","ngbTooltip",4,"ngIf"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],["class","dropdown-divider",4,"ngIf"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"ri-user-2-fill","text-success","me-1",3,"ngbTooltip"],[1,"ri-building-2-fill","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-primary","me-1",3,"ngbTooltip"],[1,"ri-thumb-up-line","text-danger","me-1",3,"ngbTooltip"],[1,"mb-0",3,"ngClass","ngbTooltip"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeProjectModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","typeAssetTagId",1,"form-label","fw-semibold"],["type","search","name","assetId","id","typeAssetTagId","placeholder","Search for Asset Tag Id ",1,"form-control",3,"ngModel","ngModelChange"],["assetTagId",""],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"modal-content"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Warranty Asset List"),e.qZA()(),e._UZ(8,"div",5),e.TgZ(9,"div",7)(10,"div",8)(11,"input",9,10),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(13,"i",11),e.qZA()(),e.TgZ(14,"div",7)(15,"div",8)(16,"ng-select",12),e.NdJ("change",function(g){return a.onDropdownExipredValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownExipredValue=g}),e.qZA()()()()(),e.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"ng-select",16),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(21,"div",15)(22,"ng-select",17),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(23,"div",15)(24,"ng-select",18),e.NdJ("change",function(g){return a.onDropdownAssetStatusValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownAssetStatusIdValue=g}),e.qZA()(),e.TgZ(25,"div",19)(26,"div",20)(27,"button",21),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(44);return e.KtG(a.openFilter(g))}),e._UZ(28,"i",22),e._uU(29," Filters "),e.qZA(),e.TgZ(30,"button",23),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(31,"i",24),e._uU(32," Clear "),e.qZA()()()()(),e.TgZ(33,"div",25)(34,"div")(35,"ul",26,27)(37,"li",28),e.YNc(38,Mg,30,7,"ng-template",29),e.qZA()(),e.TgZ(39,"div",30),e._UZ(40,"div",31),e.qZA()()()()()(),e.YNc(41,Vg,8,1,"ng-template",null,32,e.W1O)(43,Jg,29,14,"ng-template",null,33,e.W1O)(45,Rg,17,0,"ng-template",null,34,e.W1O)}if(2&o){const s=e.MAs(36);e.xp6(11),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(5),e.Q6J("items",a.exipredTypeList)("clearable",!0)("ngModel",a.selectedDropDownExipredValue),e.xp6(4),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",a.selectedDropDownAssetStatusIdValue),e.xp6(3),e.Tol(a.selectedDropDownLocationIdValue||a.selectedDropDownCategoryIdValue||a.selectedDropDownSubCategoryIdValue||a.typeAssetTagIdValue?"btn-success":"btn-primary"),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9]})}}return n})();function Pg(n,r){if(1&n&&e._UZ(0,"span",27),2&n){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("countUp",t.value)("options",o.option)}}function Fg(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function Eg(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.onClickTopCard(s.statuId))}),e.TgZ(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"span",21),e._UZ(6,"i"),e.qZA()(),e.TgZ(7,"div",22)(8,"p",23),e._uU(9),e.qZA(),e.TgZ(10,"h4",24),e.YNc(11,Pg,1,2,"span",25)(12,Fg,2,0,"span",26),e.qZA()()()()()()}if(2&n){const t=r.$implicit;e.xp6(6),e.Gre("",t.icon," align-middle"),e.xp6(3),e.hij(" ",t.title," "),e.xp6(2),e.Q6J("ngIf",0!=t.value),e.xp6(1),e.Q6J("ngIf",0==t.value)}}function Bg(n,r){1&n&&e._UZ(0,"i",57)}function Gg(n,r){1&n&&e._UZ(0,"i",58)}function Yg(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function Hg(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function Wg(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",41),e.TgZ(2,"div",42)(3,"div",43)(4,"div",44)(5,"div",45)(6,"h5",24),e.YNc(7,Bg,1,0,"i",46)(8,Gg,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.myTaskAuditListForAdmin(61,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin,"Audit Completion Acknowledgement  Admin"))}),e.TgZ(10,"h5",49),e._uU(11," Audit Completion Acknowledgement Admin "),e.qZA(),e.YNc(12,Yg,2,0,"a",50)(13,Hg,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin," ")}}function Kg(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Wg,21,7,"ng-container",26),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin)}}function zg(n,r){1&n&&e._UZ(0,"i",57)}function $g(n,r){1&n&&e._UZ(0,"i",58)}function Xg(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1,"No Transaction"),e.qZA())}function em(n,r){1&n&&(e.TgZ(0,"a",59),e._uU(1," The member has completed the task and is now waiting for the incident report signature from the Client. "),e.qZA())}function tm(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"hr",41),e.TgZ(2,"div",42)(3,"div",43)(4,"div",44)(5,"div",45)(6,"h5",24),e.YNc(7,zg,1,0,"i",46)(8,$g,1,0,"i",47),e.qZA()()()(),e.TgZ(9,"div",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.myTaskAuditListForClient(62,a.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient,"Audit Completion Acknowledgement  Client"))}),e.TgZ(10,"h5",49),e._uU(11," Audit Completion Acknowledgement Client "),e.qZA(),e.YNc(12,Xg,2,0,"a",50)(13,em,2,0,"a",50),e.qZA(),e.TgZ(14,"div",51)(15,"div",52)(16,"div",53)(17,"a",54)(18,"div",55)(19,"span",56),e._uU(20),e.qZA()()()()()()(),e.BQk()}if(2&n){const t=e.oxw(4);e.xp6(4),e.Q6J("ngClass",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(4),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient),e.xp6(6),e.Q6J("ngClass",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient," ")}}function im(n,r){if(1&n&&(e.ynx(0),e.YNc(1,tm,21,7,"ng-container",26),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0!=t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient)}}function nm(n,r){1&n&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2," No task assigned."),e.qZA(),e.BQk())}function am(n,r){if(1&n&&(e.TgZ(0,"div",39)(1,"h5",40),e._uU(2,"My Task"),e.qZA(),e.YNc(3,Kg,2,1,"ng-container",26)(4,im,2,1,"ng-container",26)(5,nm,3,0,"ng-container",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementAdmin),e.xp6(1),e.Q6J("ngIf",t.checktheRuleOfClientDashbard.auditCompletionAcknowlegementClient),e.xp6(1),e.Q6J("ngIf",0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementAdmin&&0==t.totalCountTicketServiceOrderIncident.countTotalAuditCompletionAcknowlegementClient)}}function om(n,r){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.totalCountWorkflowTodoList.length)}}function sm(n,r){1&n&&e._UZ(0,"i",57)}function rm(n,r){1&n&&e._UZ(0,"i",58)}function lm(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45)(5,"h5",24),e.YNc(6,sm,1,0,"i",46)(7,rm,1,0,"i",47),e.qZA()()()(),e.TgZ(8,"div",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.navigateMyWorkflowPageList(s))}),e.TgZ(9,"h5",49),e._uU(10),e.qZA(),e.TgZ(11,"a",59),e._uU(12),e.qZA()(),e.TgZ(13,"div",51)(14,"div",52)(15,"div",53)(16,"a",54)(17,"div",55)(18,"span",56),e._uU(19),e.qZA()()()()()()(),e._UZ(20,"hr",41),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(3),e.Q6J("ngClass",0==t.assetCount?"bg-success-subtle":"bg-danger-subtle"),e.xp6(3),e.Q6J("ngIf",0==t.assetCount),e.xp6(1),e.Q6J("ngIf",0!=t.assetCount),e.xp6(3),e.hij(" ",t.workflowName," "),e.xp6(2),e.hij(" Waiting For ",t.approverType," "),e.xp6(6),e.Q6J("ngClass",t.assetCount?"bg-danger":"bg-success"),e.xp6(1),e.hij(" ",t.assetCount," ")}}function cm(n,r){if(1&n&&(e.TgZ(0,"div",39)(1,"h5",40),e._uU(2,"WorkFlow"),e.qZA(),e._UZ(3,"hr",41),e.YNc(4,lm,21,7,"ng-container",38),e.qZA()),2&n){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.totalCountWorkflowTodoList)}}function dm(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"li",11)(2,"a",12),e._UZ(3,"i",60),e._uU(4,"WorkFlow "),e.YNc(5,om,2,1,"span",61),e.qZA(),e.YNc(6,cm,5,1,"ng-template",13),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngIf",0!=t.totalCountWorkflowTodoList.length)}}function pm(n,r){if(1&n&&(e.TgZ(0,"div")(1,"h6",63),e._uU(2),e.qZA(),e.TgZ(3,"div",64)(4,"p",65)(5,"span",66),e._uU(6),e.qZA(),e._uU(7," Billable "),e.qZA(),e.TgZ(8,"p",65)(9,"span",67),e._uU(10),e.qZA(),e._uU(11," Non Billable "),e.qZA(),e.TgZ(12,"p",65)(13,"span",66),e._uU(14),e.qZA(),e._uU(15," Waiting "),e.qZA()(),e._UZ(16,"hr",68),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.projectName),e.xp6(4),e.Oqu(t.isBillingRequired_1_Count),e.xp6(4),e.Oqu(t.isBillingRequired_0_Count),e.xp6(4),e.Oqu(t.isBillingRequired_Null_Count)}}function _m(n,r){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"ul",31,32)(5,"li",11)(6,"a",12),e._UZ(7,"i",33),e._uU(8,"My Task "),e.qZA(),e.YNc(9,am,6,3,"ng-template",13),e.qZA(),e.YNc(10,dm,7,2,"ng-container",26),e.qZA(),e.TgZ(11,"div",18)(12,"div",34),e._UZ(13,"div",15),e.qZA()()()(),e.TgZ(14,"div",35)(15,"div",30)(16,"div",36)(17,"h5",37),e._uU(18,"Projects By Ticket (Billing)"),e.qZA()(),e.TgZ(19,"div",18),e.YNc(20,pm,17,4,"div",38),e.qZA()()()()),2&n){const t=e.MAs(4),o=e.oxw();e.xp6(3),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(5),e.Q6J("ngIf",0!=o.totalCountWorkflowTodoList.length),e.xp6(3),e.Q6J("ngbNavOutlet",t),e.xp6(7),e.Q6J("ngForOf",o.projectList)}}function um(n,r){if(1&n&&(e.TgZ(0,"div",70)(1,"div",30)(2,"div",72)(3,"h4",37),e._uU(4,"Expired Asset Counts"),e.qZA()(),e.TgZ(5,"div",73),e._UZ(6,"apx-chart",74),e.TgZ(7,"div",75)(8,"div",76)(9,"h2",77),e._uU(10),e.qZA(),e.TgZ(11,"div")(12,"p",65),e._uU(13,"Total Expired Assets"),e.qZA()()(),e.TgZ(14,"div",78)(15,"p",79),e._UZ(16,"i",80),e._uU(17),e.qZA(),e.TgZ(18,"div")(19,"span",81),e._uU(20),e.qZA()()(),e.TgZ(21,"div",82)(22,"p",79),e._UZ(23,"i",83),e._uU(24),e.qZA(),e.TgZ(25,"div")(26,"span",81),e._uU(27),e.qZA()()(),e.TgZ(28,"div",82)(29,"p",79),e._UZ(30,"i",84),e._uU(31),e.qZA(),e.TgZ(32,"div")(33,"span",81),e._uU(34),e.qZA()()()()()()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("series",t.expiredAssetsCounts.series)("labels",t.expiredAssetsCounts.labels)("chart",t.expiredAssetsCounts.chart)("plotOptions",t.expiredAssetsCounts.plotOptions)("dataLabels",t.expiredAssetsCounts.dataLabels)("legend",t.expiredAssetsCounts.legend)("stroke",t.expiredAssetsCounts.stroke)("colors",t.expiredAssetsCounts.colors),e.xp6(4),e.hij(" ",t.totalExpiredAssetCounts," "),e.xp6(7),e.hij(" ",t.expiredCounts[0].label," "),e.xp6(3),e.hij("",t.expiredCounts[0].value," Assets"),e.xp6(4),e.hij(" ",t.expiredCounts[1].label," "),e.xp6(3),e.hij("",t.expiredCounts[1].value," Assets"),e.xp6(4),e.hij(" ",t.expiredCounts[2].label," "),e.xp6(3),e.hij("",t.expiredCounts[2].value," Assets")}}function gm(n,r){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,um,35,15,"div",69),e.TgZ(2,"div",70)(3,"div",30)(4,"div",36)(5,"h4",37),e._uU(6,"Asset Critical Counts"),e.qZA()(),e.TgZ(7,"div",18),e._UZ(8,"apx-chart",71),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.expiredAssetsCounts&&t.expiredAssetsCounts.series),e.xp6(7),e.Q6J("series",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.series)("chart",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.chart)("colors",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.colors)("dataLabels",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.dataLabels)("plotOptions",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.plotOptions)("yaxis",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.yaxis)("legend",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.legend)("fill",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.fill)("stroke",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.stroke)("tooltip",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.tooltip)("xaxis",null==t.criticalAssetsRadialGraph?null:t.criticalAssetsRadialGraph.xaxis)}}function mm(n,r){if(1&n&&e._UZ(0,"app-asset-delivered-installed",92),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)("SearchIsDeliveredAndInstalled","Not Delivered")}}function hm(n,r){if(1&n&&e._UZ(0,"app-asset-delivered-installed",92),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)("SearchIsDeliveredAndInstalled","Not Installed")}}function bm(n,r){if(1&n&&e._UZ(0,"app-asset-critical",93),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)}}function fm(n,r){if(1&n&&e._UZ(0,"app-asset-warranty-list",93),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)}}function Tm(n,r){if(1&n&&e._UZ(0,"app-asset-extended-list",93),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)}}function vm(n,r){if(1&n&&e._UZ(0,"app-asset-rma-list",93),2&n){const t=e.oxw(2);e.Q6J("selectedCompanyId",t.selectedCompanyId)}}function Cm(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ul",85,10),e.NdJ("activeIdChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.issueAssetsActive=a)})("activeIdChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onTabChangeIssueAssetsActive(a))}),e.TgZ(2,"li",11)(3,"a",12),e._UZ(4,"i",86),e._uU(5," Without Delivery Date "),e.qZA(),e.YNc(6,mm,1,2,"ng-template",13),e.qZA(),e.TgZ(7,"li",11)(8,"a",12),e._UZ(9,"i",87),e._uU(10," Without Installation Date "),e.qZA(),e.YNc(11,hm,1,2,"ng-template",13),e.qZA(),e.TgZ(12,"li",11)(13,"a",12),e._UZ(14,"i",88),e._uU(15," Fundamental Asset "),e.qZA(),e.YNc(16,bm,1,1,"ng-template",13),e.qZA(),e.TgZ(17,"li",11)(18,"a",12),e._UZ(19,"i",89),e._uU(20," Warranty Asset "),e.qZA(),e.YNc(21,fm,1,1,"ng-template",13),e.qZA(),e.TgZ(22,"li",11)(23,"a",12),e._UZ(24,"i",90),e._uU(25," Extended Asset "),e.qZA(),e.YNc(26,Tm,1,1,"ng-template",13),e.qZA(),e.TgZ(27,"li",11)(28,"a",12),e._UZ(29,"i",91),e._uU(30," RMA Asset "),e.qZA(),e.YNc(31,vm,1,1,"ng-template",13),e.qZA()(),e.TgZ(32,"div",34),e._UZ(33,"div",15),e.qZA()}if(2&n){const t=e.MAs(1),o=e.oxw();e.Q6J("activeId",o.issueAssetsActive),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(5),e.Q6J("ngbNavItem",2),e.xp6(5),e.Q6J("ngbNavItem",3),e.xp6(5),e.Q6J("ngbNavItem",4),e.xp6(5),e.Q6J("ngbNavItem",5),e.xp6(5),e.Q6J("ngbNavItem",6),e.xp6(6),e.Q6J("ngbNavOutlet",t)}}let xm=(()=>{class n{constructor(t,o,a,s,l,g,G){this.dropdownService=t,this.assetDashboardService=o,this.commonFunctionService=a,this.helpDeskService=s,this.router=l,this.assetService=g,this.dropdownServices=G,this.companyList=[],this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0},this.totalAssetCounts=[],this.expiredCounts=[],this.totalExpiredAssetCounts=0,this.assetWarranty=[],this.listAssetLoanRetun=[],this.apiUrl=c.N.apiUrl,this.checktheRuleOfClientDashbard={userId:null,newTicket:!0,awaitQuotation:!0,generateNewSO:!0,expectedStartTaskDateTime:!0,techSignatureRequired:!0,clientSignatureRequired:!0,statusDescription:!0,quotationToProceedFinance:!0,pendingForCloseTicketProcess:!0,quotationRejected:!0,ticketAcknowledgmentRequest:!0,pmScheduleCompletionAcknowlegementAdmin:!0,pmScheduleCompletionAcknowlegementClient:!0,auditCompletionAcknowlegementAdmin:!0,auditCompletionAcknowlegementClient:!0},this.issueAssetsActive=1,this.maintabsActive=1,this.totalCountTicketServiceOrderIncident={},this.totalCountWorkflowTodoList=[],this.projectList=[],this.arrayListDropDownClientList=[],this.arrayListDropDownCategoryList=[]}ngOnInit(){this.breadCrumbItems=[{label:"Dashboard"},{label:"Asset Dashboard",active:!0}],this.getCompanyDropdown(),this.getV2_TotalCountTicketServiceOrderIncident(),this.getProjectList(),this.getV2_DashboardTodoList(),localStorage.getItem("onTabChangeMaintabsActive")&&(this.maintabsActive=Number(localStorage.getItem("onTabChangeMaintabsActive"))),this.assetService.backTabs&&(this.maintabsActive=3,this.issueAssetsActive="Not Delivered"==this.assetService.backTabs?1:"Not Installed"==this.assetService.backTabs?2:"Warrenty Asset"===this.assetService.backTabs?4:"Extended Asset"===this.assetService.backTabs?5:"RMA Asset"==this.assetService.backTabs?6:1),localStorage.getItem("onTabChangeIssueAssetsActive")&&(this.issueAssetsActive=Number(localStorage.getItem("onTabChangeIssueAssetsActive")))}getCompanyDropdown(){this.dropdownService.GetCompanyListDrobDown({}).subscribe(t=>{this.companyList=t.list,0!=this.companyList.length&&(this.selectedCompanyId=localStorage.getItem("storeCompanyId")?Number(localStorage.getItem("storeCompanyId")):this.companyList[0].companyId,localStorage.setItem("storeCompanyId",this.selectedCompanyId),this.getAllCardsData())})}onChangeCompanyDropdown(){this.selectedCompanyId?localStorage.setItem("storeCompanyId",this.selectedCompanyId):localStorage.removeItem("storeCompanyId"),this.getAllCardsData()}getAllCardsData(){this.assetDashboardService.getAllAssetData(this.selectedCompanyId?this.selectedCompanyId:void 0).subscribe({next:t=>{const o=t.objAssetTotalCount;this.totalAssetCounts=[{title:"READY STOCK ",value:o.totalReadyStockAsset,icon:"ri-shopping-cart-2-fill",statuId:11},{title:"IN-SERVICE",value:o.totalInserviceAsset,icon:"ri-tools-line",statuId:3},{title:"Disposed ",value:o.totalDisposeAsset,icon:"ri-delete-bin-5-fill",statuId:null},{title:"Delivered",value:o.totalDeliveredAsset,icon:"ri-money-dollar-circle-line",statuId:64},{title:"Installed/Assigned",value:o.totalInstalledAsset,icon:"ri-git-pull-request-line",statuId:null}];const a=t.objExpiredAssetCount,s=Object.entries(a).map(P=>P[1]),l=Object.entries(a).map(P=>P[0].replace("count","").split(/(?=[A-Z])/).join(" "));this.expiredCounts=Object.entries(a).map(P=>({label:P[0].replace("count","").split(/(?=[A-Z])/).join(" "),value:P[1]}));let g=0;Object.values(a).map(P=>g+=P),this.totalExpiredAssetCounts=g,this.generateExpiredAssetPieChart('["--vz-primary", "--vz-success", "--vz-warning", "--vz-danger", "--vz-info"]',s.length?s:[0,0,0],l);const G=t.objCriticalAsset,te=(Object.values(G).map(P=>P),Object.keys(G).map(P=>P.replace("total","")),Object.entries(G).map(P=>({name:P[0].replace("total","").split(/(?=[A-Z])/).join(" "),data:[P[1]]})));this.generateCriticalAssetRadialGraph('["--vz-primary", "--vz-info", "--vz-danger", "--vz-success"]',te),this.assetWarranty=t.listAssetWarrenty,this.listAssetLoanRetun=t.listAssetLoanRetun}})}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}generateExpiredAssetPieChart(t,o,a){t=this.getChartColorsArray(t),this.expiredAssetsCounts={series:o,labels:a,chart:{type:"donut",height:250},plotOptions:{pie:{offsetX:0,offsetY:0,donut:{size:"70%",labels:{show:!1}}}},dataLabels:{enabled:!1},legend:{show:!1},stroke:{lineCap:"round",width:0},colors:t}}getChartColorsArray(t){return(t=JSON.parse(t)).map(function(o){var a=o.replace(" ","");if(-1===a.indexOf(",")){var s=getComputedStyle(document.documentElement).getPropertyValue(a);return s?s=s.replace(" ",""):a}var l=o.split(",");if(2==l.length){var g=getComputedStyle(document.documentElement).getPropertyValue(l[0]);return"rgba("+g+","+l[1]+")"}return a})}generateCriticalAssetRadialGraph(t,o){t=this.getChartColorsArray(t),this.criticalAssetsRadialGraph={series:o,chart:{type:"bar",height:450,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"85%",offsetX:0}},stroke:{show:!0,width:5,colors:["transparent"]},xaxis:{categories:[""],axisTicks:{show:!0,borderType:"solid",color:"#78909C",height:16,offsetX:0,offsetY:0},title:{text:"Critical Assets",offsetX:0,offsetY:-20,style:{color:"#78909C",fontSize:"12px",fontWeight:400}}},yaxis:{labels:{formatter:function(a){return a}},tickAmount:4,min:0},fill:{opacity:1},legend:{show:!0,position:"bottom",horizontalAlign:"center",fontWeight:500,offsetX:0,itemMargin:{horizontal:8,vertical:0},markers:{width:10,height:10}},colors:t}}getV2_TotalCountTicketServiceOrderIncident(){this.helpDeskService.getV2_TotalCountTicketServiceOrderIncident().subscribe(t=>{this.totalCountTicketServiceOrderIncident=t.data})}myTaskAuditListForClient(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Client",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}myTaskAuditListForAdmin(t,o,a){0!=o&&(this.helpDeskService.auditStatusId=t,this.helpDeskService.pageAction=a,this.helpDeskService.auditTypeAdminAndClient="Admin",this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]))}getV2_DashboardTodoList(){this.helpDeskService.getV2_DashboardTodoList().subscribe(t=>{this.totalCountWorkflowTodoList=t.data})}navigateMyWorkflowPageList(t){t&&(this.helpDeskService.pageAction="Workflow Page",this.helpDeskService.workflowObject={...t},1==t.masterWorkflowId&&this.router.navigate(["/maintenace-management/dashboard/asset-list-dashboard"]))}getProjectList(){this.helpDeskService.getProjectList().subscribe({next:t=>{this.projectList=t.list}})}onTabChangeIssueAssetsActive(t){localStorage.setItem("onTabChangeIssueAssetsActive",String(t))}onTabChangeMaintabsActive(t){localStorage.setItem("onTabChangeMaintabsActive",String(t))}onClickTopCard(t){if(localStorage.removeItem("objectSerachForAsset"),localStorage.getItem("storeCompanyId"))localStorage.getItem("storeCompanyId"),this.getDropdownClientlist(t);else{let o={};t&&(o.SearchAssetStatusId=t),localStorage.setItem("objectSerachForAsset",JSON.stringify(o)),this.router.navigate(["/asset-management/asset/listasset"])}}getDropdownClientlist(t){let o={SearchCompanyId:Number(localStorage.getItem("storeCompanyId"))};this.dropdownServices.GetClientListDrobDown(o).subscribe(a=>{this.arrayListDropDownClientList=a.list,this.getDropdownCategoryList(t)})}getDropdownCategoryList(t){let o={SearchCompanyId:Number(localStorage.getItem("storeCompanyId"))};this.dropdownServices.GetCategoryListDrobDown(o).subscribe(a=>{this.arrayListDropDownCategoryList=a.list;let s={};localStorage.getItem("storeCompanyId")&&(s.SearchCompanyId=Number(localStorage.getItem("storeCompanyId"))),this.arrayListDropDownClientList&&(s.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownCategoryList&&(s.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),t&&(s.SearchAssetStatusId=t),localStorage.setItem("objectSerachForAsset",JSON.stringify(s)),this.router.navigate(["/asset-management/asset/listasset"])})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(nt),e.Y36(U.K),e.Y36(C.S),e.Y36(p.F0),e.Y36(ke.d),e.Y36(oe.V))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-asset-dashbaord"]],decls:26,vars:11,consts:[[3,"title","breadcrumbItems"],[1,"d-flex","justify-content-between"],[1,"search-box"],[1,"input-group","me-1"],["bindLabel","companyName","bindValue","companyId","placeholder","Select Company",1,"ng-select-width",3,"items","clearable","ngModel","ngModelChange","change"],[1,"row","mt-4"],["class","col-lg",3,"click",4,"ngFor","ngForOf"],[1,"row","align-items-center"],[1,"col"],["ngbNav","",1,"nav","nav-tabs-custom","card-header-tabs","border-bottom-0",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"tab-content","text-muted","mt-3"],[3,"ngbNavOutlet"],[1,"col-lg",3,"click"],[1,"card"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","bg-light","text-primary","rounded-circle","fs-3"],[1,"flex-grow-1","ms-3"],[1,"text-uppercase","fw-semibold","fs-12","text-muted","mb-1"],[1,"mb-0"],["class","counter-value cursor",3,"countUp","options",4,"ngIf"],[4,"ngIf"],[1,"counter-value","cursor",3,"countUp","options"],[1,"row"],[1,"col-xl-7"],[1,"card","card-height-100"],["ngbNav","",1,"nav","nav-tabs","nav-justified","nav-border-top","nav-border-top-primary","mb-0",3,"activeId"],["todoWorkFlowTabs","ngbNav"],[1,"ri-todo-line","align-middle","me-1"],[1,"tab-content","text-muted"],[1,"col-xl-5"],[1,"card-header"],[1,"card-title","mb-0"],[4,"ngFor","ngForOf"],[1,"card-body","my-tasks","myTaskCardBody"],[1,"card-title","mb-2"],[1,"my-3"],[1,"row","g-3","cursor"],[1,"col-auto"],[1,"avatar-sm","p-1","py-2","h-auto","rounded-3",3,"ngClass"],[1,"text-center"],["class","bx bx-bell text-success mt-2",4,"ngIf"],["class","bx bx-bell text-danger mt-2",4,"ngIf"],[1,"col","align-items-center",3,"click"],[1,"text-muted","mt-0","mb-1","fs-14"],["href","javascript:void(0);","class","text-reset fs-13 mb-0",4,"ngIf"],[1,"col-sm-auto"],[1,"avatar-group"],[1,"avatar-group-item"],["href","javascript: void(0);"],[1,"avatar-xs"],[1,"avatar-title","rounded-circle","text-white",3,"ngClass"],[1,"bx","bx-bell","text-success","mt-2"],[1,"bx","bx-bell","text-danger","mt-2"],["href","javascript:void(0);",1,"text-reset","fs-13","mb-0"],[1,"ri-stack-overflow-line","align-middle","me-1"],["class","badge bg-danger rounded-circle",4,"ngIf"],[1,"badge","bg-danger","rounded-circle"],[1,"text-muted"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"text-muted","mb-0"],[1,"badge","bg-primary","ms-1","borderEaduis"],[1,"badge","bg-success","ms-1","borderEaduis"],[1,"mb-1","mt-1"],["class","col-sm-6 col-md-6 col-lg-6",4,"ngIf"],[1,"col-sm-6","col-md-6","col-lg-6"],["dir","ltr",3,"series","chart","colors","dataLabels","plotOptions","yaxis","legend","fill","stroke","tooltip","xaxis"],[1,"card-header","align-items-center","d-flex"],[1,"card-body","pt-5"],["dir","ltr","dir","ltr",1,"apex-charts",3,"series","labels","chart","plotOptions","dataLabels","legend","stroke","colors"],[1,"mt-3"],[1,"d-flex","justify-content-center","align-items-center","mb-4"],[1,"me-3","ff-secondary","mb-0"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2","mt-3"],[1,"fw-medium","mb-0"],[1,"ri-checkbox-blank-circle-fill","text-success","align-middle","me-2"],[1,"text-muted","pe-5"],[1,"d-flex","justify-content-between","border-bottom","border-bottom-dashed","py-2"],[1,"ri-checkbox-blank-circle-fill","text-primary","align-middle","me-2"],[1,"ri-checkbox-blank-circle-fill","text-warning","align-middle","me-2"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-0",3,"activeId","activeIdChange"],[1,"ri-store-2-fill","me-1","align-bottom"],[1,"ri-checkbox-circle-line","me-1","align-bottom"],[1,"ri-close-circle-line","me-1","align-bottom"],[1,"ri-award-line","me-1","align-bottom"],[1,"ri-alarm-warning-line","me-1","align-bottom"],[1,"ri-group-2-line","me-1","align-bottom"],[3,"selectedCompanyId","SearchIsDeliveredAndInstalled"],[3,"selectedCompanyId"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1),e._UZ(2,"div"),e.TgZ(3,"div",2)(4,"div",3)(5,"ng-select",4),e.NdJ("ngModelChange",function(l){return a.selectedCompanyId=l})("change",function(){return a.onChangeCompanyDropdown()}),e.qZA()()()(),e.TgZ(6,"div",5),e.YNc(7,Eg,13,6,"div",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8)(10,"ul",9,10),e.NdJ("activeIdChange",function(l){return a.maintabsActive=l})("activeIdChange",function(l){return a.onTabChangeMaintabsActive(l)}),e.TgZ(12,"li",11)(13,"a",12),e._uU(14," My Task "),e.qZA(),e.YNc(15,_m,21,5,"ng-template",13),e.qZA(),e.TgZ(16,"li",11)(17,"a",12),e._uU(18," Graph "),e.qZA(),e.YNc(19,gm,9,12,"ng-template",13),e.qZA(),e.TgZ(20,"li",11)(21,"a",12),e._uU(22," Accessible Resource"),e.qZA(),e.YNc(23,Cm,34,8,"ng-template",13),e.qZA()(),e.TgZ(24,"div",14),e._UZ(25,"div",15),e.qZA()()()),2&o){const s=e.MAs(11);e.Q6J("title","Dashboard")("breadcrumbItems",a.breadCrumbItems),e.xp6(5),e.Q6J("items",a.companyList)("clearable",!0)("ngModel",a.selectedCompanyId),e.xp6(2),e.Q6J("ngForOf",a.totalAssetCounts),e.xp6(3),e.Q6J("activeId",a.maintabsActive),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(5),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.mk,i.sg,i.O5,f.JJ,f.On,I.P,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,j.x,fe.w9,se.n,st,ie,zu,Tg,jg],styles:[".ng-select-width[_ngcontent-%COMP%]{width:380px}@media only screen and (max-width: 600px){.ng-select-width[_ngcontent-%COMP%]{width:unset}}"]})}}return n})();const km=["inputerTicketNumber"];function wm(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",39),e._uU(3,"No Audit Data"),e.qZA()(),e.BQk())}function Dm(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("audit_"+s.assetAuditName))}),e.TgZ(2,"a",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.assetAuditId))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+s.assetAuditId))}),e._uU(5),e.qZA(),e.TgZ(6,"td",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+s.assetAuditId))}),e._uU(7),e.qZA(),e.TgZ(8,"td",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expandTitle("departmentName_"+s.assetAuditId))}),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td",43),e._uU(13),e.qZA(),e.TgZ(14,"td",43)(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"span")(19,"div",44)(20,"button",45),e._UZ(21,"i",46),e.qZA(),e.TgZ(22,"ul",47)(23,"li")(24,"a",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.viewHandler(s.assetAuditId))}),e._UZ(25,"i",49),e._uU(26," View "),e.qZA()()()()()()()}if(2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("title",t.assetAuditName)("id","audit_"+t.assetAuditName),e.xp6(2),e.Oqu(t.assetAuditName),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.assetAuditId),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.assetAuditId),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.departmentName)("id","departmentName_"+t.assetAuditId),e.xp6(1),e.hij(" ",t.departmentName," "),e.xp6(2),e.hij(" ",t.createdDate," "),e.xp6(2),e.hij(" ",null==t?null:t.fullName," "),e.xp6(2),e.Tol(o.returnStatusBadgeClassesStatus(t.auditStatusId)),e.xp6(1),e.Oqu(t.assetStatus)}}function Am(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Dm,27,17,"tr",40),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.auditList)}}function Sm(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",50),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Zm(n,r){if(1&n&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"Audit Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Client"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Create Date"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Created by"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,wm,4,0,"ng-container",33)(22,Am,2,1,"ng-container",33),e.qZA()()(),e.TgZ(23,"div",34)(24,"div",35)(25,"div",36),e._uU(26),e.qZA()(),e.TgZ(27,"div",35)(28,"div",37),e.YNc(29,Sm,1,5,"ngb-pagination",38),e.qZA()()()),2&n){const t=e.oxw();e.xp6(11),e.Oqu(t.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngIf",0==t.auditList.length),e.xp6(1),e.Q6J("ngIf",0!=t.auditList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}let Im=(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te){this.dropdownService=t,this.router=o,this.modalService=a,this.auditService=s,this.authService=l,this.menuService=g,this.formBuilder=G,this.commonFunctionService=W,this.dropdownServices=ee,this.helpDeskService=te,this.isProject=!1,this.label="Help-Desk",this.breadCrumbItems=[{label:"Audit"},{label:"New Audit List",active:!0}],this.payload={SelfAudit:0,SearchYear:(new Date).getFullYear(),SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,displayLength:10,displayStart:0,SearchAssetAuditName:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.auditList=[],this.page=1,this.collectionSize=0,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDateValue=(new Date).getFullYear(),this.yearsList=[],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.isProject=this.authService.getisProject(),this.storeAuditStatusId=this.helpDeskService.auditStatusId?this.helpDeskService.auditStatusId:0;for(let ye=(new Date).getFullYear();ye>=2e3;ye--)this.yearsList.push(ye);0==this.storeAuditStatusId||null==this.storeAuditStatusId?this.router.navigate(["maintenace-management/dashboard/asset-dashboard"]):(this.getDropdownCompanyList(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole?this.disabledWithAceessGroup=!0:this.loadData())}ngOnInit(){}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.SearchAuditStatusId=this.storeAuditStatusId,this.auditService.getMasterAssetAudit_Paging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.auditList=t.list,this.auditList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t){this.auditService.auditId=t,this.router.navigate(["maintenace-management/dashboard/view-audit-list"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownTicketStatus=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDateValue=(new Date).getFullYear(),this.payload={SelfAudit:0,SearchYear:(new Date).getFullYear(),SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchAssetAuditName:null,displayLength:10,displayStart:0},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,_e.R)(this.inputerTicketNumber.nativeElement,"input").pipe((0,ue.b)(1e3),(0,Ke.U)(t=>t.target.value),(0,ge.x)((t,o)=>t===o||!t&&!o),(0,me.b)(t=>{this.onTypeTicketNameChange()})).subscribe()}onTypeTicketNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetAuditName=this.typeAuditNameValue,this.loadData()}onDropdownYearValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchYear=this.selectedDateValue,this.loadData()}ngOnDestroy(){}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(V.C),e.Y36(v.u),e.Y36(he.l),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit-list"]],viewQuery:function(o,a){if(1&o&&e.Gf(km,7),2&o){let s;e.iGM(s=e.CRH())&&(a.inputerTicketNumber=s.first)}},decls:38,vars:23,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm"],[1,"card-title","mb-0"],[1,"col-lg"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for audit name",1,"form-control",3,"ngModel","ngModelChange"],["inputerTicketNumber",""],[1,"ri-search-line","search-icon"],["id","yearStatus","placeholder","Select Year","for","yearStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],[1,"col-lg-auto","text-end"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","9",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title",3,"title","id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"status"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Audit List"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10,11),e.NdJ("ngModelChange",function(l){return a.typeAuditNameValue=l}),e.qZA(),e._UZ(13,"i",12),e.qZA()(),e.TgZ(14,"div",8)(15,"div",9)(16,"ng-select",13),e.NdJ("change",function(l){return a.onDropdownYearValueChange(l)})("ngModelChange",function(l){return a.selectedDateValue=l}),e.qZA()()()()(),e.TgZ(17,"div",14)(18,"div",15)(19,"div",8)(20,"ng-select",16),e.NdJ("change",function(l){return a.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(21,"div",8)(22,"ng-select",17),e.NdJ("change",function(l){return a.onDropdownClientValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(23,"div",8)(24,"ng-select",18),e.NdJ("change",function(l){return a.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return a.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(25,"div",19)(26,"div",20)(27,"button",21),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(28,"i",22),e._uU(29," Clear "),e.qZA()()()()(),e.TgZ(30,"div",23)(31,"div")(32,"ul",24,25)(34,"li",26),e.YNc(35,Zm,30,7,"ng-template",27),e.qZA()(),e.TgZ(36,"div",28),e._UZ(37,"div",29),e.qZA()()()()()()),2&o){const s=e.MAs(33);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("ngModel",a.typeAuditNameValue),e.xp6(5),e.Q6J("items",a.yearsList)("clearable",!0)("ngModel",a.selectedDateValue),e.xp6(4),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,fe.w9,se.n]})}}return n})();function ym(n,r){1&n&&(e.TgZ(0,"small",19),e._uU(1," Remark is Required "),e.qZA())}function qm(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ym,2,0,"small",18),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.editorText.errors?null:t.editorText.errors.required)}}function Nm(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=e.MAs(27);return e.KtG(a.openUpdateModal(s))}),e._uU(1," Submit "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.addTech.invalid)}}function Lm(n,r){1&n&&(e.TgZ(0,"p",33),e._uU(1," The tech team has completed the Audit. Now, you are to acknowledge this Audit, escalate it to the client for verification, and subsequently close the Audit. "),e.qZA())}function Um(n,r){1&n&&(e.TgZ(0,"p",33),e._uU(1," Yes, this Audit checklist activity completed and closing. "),e.qZA())}function Om(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22)(2,"div",23)(3,"button",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",25)(5,"div",26),e._UZ(6,"lord-icon",27),e.qZA(),e.TgZ(7,"h4",28),e._uU(8," Are you sure you want to proceed and confirm the Digital's signature? "),e.qZA(),e.YNc(9,Lm,2,0,"p",29)(10,Um,2,0,"p",29),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",30)(14,"button",31),e.NdJ("click",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.close("Ok",a))}),e._uU(15," Yes, Proceed! "),e.qZA(),e.TgZ(16,"button",32),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e._uU(17," Cancel "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngIf","Admin"==t.auditTypeAdminAndClient),e.xp6(1),e.Q6J("ngIf","Client"==t.auditTypeAdminAndClient)}}let Mm=(()=>{class n{constructor(t,o,a,s,l,g,G,W){this.modal=t,this.formBuilder=o,this.helpDeskService=a,this.commonFunctionService=s,this.modalService=l,this.authAssetService=g,this.lightbox=G,this.auditService=W,this.signtaureData=null,this.Editor=at,this.editorHeight="300px",this.maxCharsDecision=300}ngOnChanges(t){this.auditTypeAdminAndClient=this.helpDeskService.auditTypeAdminAndClient,this.getfromBinding()}ngOnInit(){this.auditTypeAdminAndClient=this.helpDeskService.auditTypeAdminAndClient,this.getfromBinding()}passBack(t){this.modal.dismiss(t)}getfromBinding(){this.addTech=this.formBuilder.group({editorText:["",f.kI.required]})}get editorText(){return this.addTech.get("editorText")}getSignData(t){this.signtaureData=t?t&&t.split(",")[1]:null}updateSignatureUserSignature(){let t={AcknowledgeRemark:this.editorText.value,AssetAuditId:this.auditDetails.assetAuditId,AcknowledSignImageURLBase64:this.signtaureData,AcknowledDesig:this.authAssetService.getaccessGroupName()};this.auditService.UpdateV2_AuditAcknowledge(this.commonFunctionService.clean(t)).subscribe(o=>{this.passBack(o)})}updateSignatureClientSignature(){let t={AssetAuditId:this.auditDetails.assetAuditId,VerifiedRemark:this.editorText.value,VerifiedSignImageURLBase64:this.signtaureData,VerifiedDesig:this.authAssetService.getaccessGroupName()};this.auditService.UpdateV2_AuditApprove(this.commonFunctionService.clean(t)).subscribe(o=>{this.passBack(o)})}openUpdateModal(t){this.modalService.open(t,{backdrop:"static",keyboard:!1,centered:!0}).result.then(o=>{"Admin"==this.helpDeskService.auditTypeAdminAndClient?this.updateSignatureUserSignature():"Client"==this.helpDeskService.auditTypeAdminAndClient&&this.updateSignatureClientSignature()},o=>{})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(_._B),e.Y36(f.qu),e.Y36(C.S),e.Y36(U.K),e.Y36(_.FF),e.Y36(v.u),e.Y36(Ne.ey),e.Y36(V.C))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit-signature"]],inputs:{auditDetails:"auditDetails"},features:[e.TTD],decls:28,vars:10,consts:[[1,"offcanvas-header","p-3","bg-primary-subtle","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"form-label"],[2,"color","red"],["formControlName","editorText","rows","4","cols","6","placeholder","Remark",1,"form-control",3,"maxlength"],[1,"nopadding","clrlbl"],[4,"ngIf"],[1,"col-lg-12","pt-2"],[3,"sendImagedata"],[1,"offcanvas-footer","mx-3","mb-4","pb-3"],["class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn","btn-outline-danger","me-2",3,"click"],["modalUPSucss",""],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"modal-content"],[1,"modal-body","p-4"],[1,"text-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],[1,"text-center"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4","text-justify"],["class","text-muted fs-15 mb-1 text-justify",4,"ngIf"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"],[1,"text-muted","fs-15","mb-1","text-justify"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Digital Signature"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return a.passBack(!1)}),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Remark "),e.TgZ(10,"span",8),e._uU(11,"*"),e.qZA()(),e._UZ(12,"textarea",9),e.TgZ(13,"label",10),e._uU(14),e.qZA(),e.YNc(15,qm,2,1,"div",11),e.qZA(),e.TgZ(16,"div",12)(17,"label",7),e._uU(18,"Signature "),e.TgZ(19,"span",8),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"app-signature-pad",13),e.NdJ("sendImagedata",function(l){return a.getSignData(l)}),e.qZA()()()()(),e.TgZ(22,"div",14),e.YNc(23,Nm,2,1,"button",15),e.TgZ(24,"button",16),e.NdJ("click",function(){return a.passBack(!1)}),e._uU(25," Cancel "),e.qZA()(),e.YNc(26,Om,18,2,"ng-template",null,17,e.W1O)),2&o&&(e.xp6(5),e.Q6J("formGroup",a.addTech),e.xp6(7),e.ekj("is-invalid",a.editorText.invalid&&a.editorText.touched)("is-valid",a.editorText.valid&&a.editorText.touched),e.Q6J("maxlength",a.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==a.editorText||null==a.editorText.value?null:a.editorText.value.length,"/",a.maxCharsDecision,""),e.xp6(1),e.Q6J("ngIf",a.editorText.invalid&&a.editorText.touched),e.xp6(8),e.Q6J("ngIf",a.signtaureData))},dependencies:[i.O5,f._Y,f.Fj,f.JJ,f.JL,f.nD,f.sg,f.u,ot.l]})}}return n})();var Vm=h(859),rt=h(9417),Qm=h(2293),Jm=h(6372);const Rm=["customNav"],jm=["defaultNav"];function Pm(n,r){if(1&n&&e._UZ(0,"span",57),2&n){const t=e.oxw(2);e.Q6J("countUp",t.auditData.audited)("options",t.option)}}function Fm(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function Em(n,r){if(1&n&&e._UZ(0,"span",57),2&n){const t=e.oxw(2);e.Q6J("countUp",t.auditData.pending)("options",t.option)}}function Bm(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function Gm(n,r){if(1&n&&e._UZ(0,"span",57),2&n){const t=e.oxw(2);e.Q6J("countUp",t.auditData.notMatch)("options",t.option)}}function Ym(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function Hm(n,r){if(1&n&&e._UZ(0,"span",57),2&n){const t=e.oxw(2);e.Q6J("countUp",t.auditData.notFound)("options",t.option)}}function Wm(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"0"),e.qZA())}function Km(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openSignatureUser())}),e._uU(1," Signature Here... "),e.qZA()}}function zm(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",75),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.open(a.imageUrl+a.auditData.acknowledSignImageURL))}),e.qZA()}if(2&n){const t=e.oxw(4);e.hYB("src","",t.imageUrl,"",t.auditData.acknowledSignImageURL,"",e.LSH)}}function $m(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",76),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.open("../../../../../assets/images/placeholderimage.png"))}),e.qZA()}}function Xm(n,r){if(1&n&&(e.TgZ(0,"div",71)(1,"div",72),e.YNc(2,zm,1,2,"img",73)(3,$m,1,0,"img",74),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.auditData.acknowledSignImageURL),e.xp6(1),e.Q6J("ngIf",!t.auditData.acknowledSignImageURL)}}function e1(n,r){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"h5",61),e._uU(4),e.qZA(),e.TgZ(5,"div",62)(6,"div",63),e.YNc(7,Km,2,0,"button",64)(8,Xm,4,2,"div",65),e.qZA()(),e.TgZ(9,"p",66),e._uU(10),e.qZA(),e.TgZ(11,"p",67)(12,"b"),e._uU(13),e.qZA()(),e.TgZ(14,"p",68)(15,"b"),e._uU(16),e.qZA()(),e.TgZ(17,"p",69),e._uU(18),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.auditData.companyName," "),e.xp6(3),e.Q6J("ngIf",t.auditTypeAdminSignature&&!t.auditData.acknowledgeById),e.xp6(1),e.Q6J("ngIf",t.auditData.acknowledgeById),e.xp6(2),e.hij(" ",t.auditData.acknowledgeDateTime," "),e.xp6(3),e.hij(" ",t.auditData.acknowledgeBy," "),e.xp6(3),e.hij(" ",t.auditData.acknowledDesig," "),e.xp6(2),e.hij(" ",t.auditData.acknowledgeRemark," ")}}function t1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.openSignatureUser())}),e._uU(1," Signature Here... "),e.qZA()}}function i1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",75),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.open(a.imageUrl+a.auditData.verifiedSignImageURL))}),e.qZA()}if(2&n){const t=e.oxw(4);e.hYB("src","",t.imageUrl,"",t.auditData.verifiedSignImageURL,"",e.LSH)}}function n1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"img",76),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(4);return e.KtG(a.open("../../../../../assets/images/placeholderimage.png"))}),e.qZA()}}function a1(n,r){if(1&n&&(e.TgZ(0,"div",71)(1,"div",72),e.YNc(2,i1,1,2,"img",73)(3,n1,1,0,"img",74),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.auditData.verifiedSignImageURL),e.xp6(1),e.Q6J("ngIf",!t.auditData.verifiedSignImageURL)}}function o1(n,r){if(1&n&&(e.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"h5",61),e._uU(4),e.qZA(),e.TgZ(5,"div",62)(6,"div",63),e.YNc(7,t1,2,0,"button",64)(8,a1,4,2,"div",65),e.qZA()(),e.TgZ(9,"p",66),e._uU(10),e.qZA(),e.TgZ(11,"p",67)(12,"b"),e._uU(13),e.qZA()(),e.TgZ(14,"p",68)(15,"b"),e._uU(16),e.qZA()(),e.TgZ(17,"p",69),e._uU(18),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.auditData.clientName," "),e.xp6(3),e.Q6J("ngIf",t.auditTypeClientSignature&&!t.auditData.verifiedById),e.xp6(1),e.Q6J("ngIf",t.auditData.verifiedById),e.xp6(2),e.hij(" ",t.auditData.verifiedDateTime," "),e.xp6(3),e.hij(" ",t.auditData.verifiedBy," "),e.xp6(3),e.hij(" ",t.auditData.verifiedDesig," "),e.xp6(2),e.hij(" ",t.auditData.verifiedRemark," ")}}function s1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",30)(2,"div",31)(3,"div",32)(4,"h6",33),e._uU(5,"Audit Overview"),e.qZA()(),e.TgZ(6,"div",34)(7,"div",25)(8,"div",35)(9,"div",31)(10,"div",34)(11,"div",36)(12,"div",37)(13,"span",38),e._UZ(14,"i",39),e.qZA()(),e.TgZ(15,"div",40)(16,"p",41),e._uU(17," Audited "),e.qZA(),e.TgZ(18,"h4",42),e.YNc(19,Pm,1,2,"span",43)(20,Fm,2,0,"span",44),e.qZA()(),e._UZ(21,"div",45),e.qZA()()()(),e.TgZ(22,"div",35)(23,"div",31)(24,"div",34)(25,"div",36)(26,"div",37)(27,"span",38),e._UZ(28,"i",46),e.qZA()(),e.TgZ(29,"div",40)(30,"p",47),e._uU(31," Pending "),e.qZA(),e.TgZ(32,"h4",42),e.YNc(33,Em,1,2,"span",43)(34,Bm,2,0,"span",44),e.qZA()(),e._UZ(35,"div",45),e.qZA()()()(),e.TgZ(36,"div",48)(37,"div",31)(38,"div",34)(39,"div",36)(40,"div",37)(41,"span",38),e._UZ(42,"i",49),e.qZA()(),e.TgZ(43,"div",40)(44,"p",50),e._uU(45," Not Match "),e.qZA(),e.TgZ(46,"h4",42),e.YNc(47,Gm,1,2,"span",43)(48,Ym,2,0,"span",44),e.qZA()(),e._UZ(49,"div",45),e.qZA()()()(),e.TgZ(50,"div",48)(51,"div",31)(52,"div",34)(53,"div",36)(54,"div",37)(55,"span",38),e._UZ(56,"i",51),e.qZA()(),e.TgZ(57,"div",40)(58,"p",52),e._uU(59," Not Found "),e.qZA(),e.TgZ(60,"h4",42),e.YNc(61,Hm,1,2,"span",43)(62,Wm,2,0,"span",44),e.qZA()(),e._UZ(63,"div",45),e.qZA()()()()()()()(),e.TgZ(64,"div",53)(65,"div",31)(66,"div",32)(67,"h6",33),e._uU(68,"Signature"),e.qZA()(),e.TgZ(69,"div",34)(70,"div",25),e.YNc(71,e1,19,7,"div",54)(72,o1,19,7,"div",54),e.qZA()()()()(),e.TgZ(73,"div",55)(74,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goBack())}),e._uU(75," Back "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(19),e.Q6J("ngIf",0!=t.auditData.audited),e.xp6(1),e.Q6J("ngIf",0==t.auditData.audited),e.xp6(13),e.Q6J("ngIf",0!=t.auditData.pending),e.xp6(1),e.Q6J("ngIf",0==t.auditData.pending),e.xp6(13),e.Q6J("ngIf",0!=t.auditData.notMatch),e.xp6(1),e.Q6J("ngIf",0==t.auditData.notMatch),e.xp6(13),e.Q6J("ngIf",0!=t.auditData.notFound),e.xp6(1),e.Q6J("ngIf",0==t.auditData.notFound),e.xp6(9),e.Q6J("ngIf",t.auditTypeAdminSignature),e.xp6(1),e.Q6J("ngIf",t.auditTypeClientSignature)}}function r1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",2)(2,"div",31)(3,"div",34),e._UZ(4,"app-asset-audit-view",77),e.qZA()()()(),e.TgZ(5,"div",55)(6,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.goBack())}),e._uU(7," Back "),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("auditId",t.assetAuditId)}}function l1(n,r){1&n&&(e.TgZ(0,"li",19)(1,"a",20),e._uU(2," Assets "),e.qZA(),e.YNc(3,r1,8,1,"ng-template",21),e.qZA()),2&n&&e.Q6J("ngbNavItem",2)}function c1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),s=e.MAs(58);return e.KtG(a.openModalTechnician(s))}),e._UZ(1,"i",87),e._uU(2," Add Member "),e.qZA()}}function d1(n,r){1&n&&(e.TgZ(0,"th",84),e._uU(1," Action "),e.qZA())}function p1(n,r){1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",88),e._uU(3," No Member Assign "),e.qZA()(),e.BQk())}function _1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",95),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw(3);return e.KtG(s.openModalDeleteConf(a))}),e._UZ(1,"i",96),e.qZA()}}function u1(n,r){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,_1,2,0,"a",94),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!t.isTechAvailable)}}function g1(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"th",90)(2,"div",36),e._UZ(3,"img",91),e.TgZ(4,"div",92)(5,"a",93),e._uU(6),e.qZA()()()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,u1,2,1,"td",44),e.qZA()),2&n){const t=r.$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",t.profileImageUrl?o.imageUrl+t.profileImageUrl:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij("",t.techName?t.techName:t.fullName," "),e.xp6(2),e.Oqu(t.designationName),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(1),e.Q6J("ngIf",o.deleteButtonAddButtonShown)}}function m1(n,r){if(1&n&&(e.ynx(0),e.YNc(1,g1,12,5,"tr",89),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mX_WOTechAssignment)}}function h1(n,r){if(1&n&&(e.TgZ(0,"div",31)(1,"div",34)(2,"div",25)(3,"div",2)(4,"div",78),e._UZ(5,"div"),e.TgZ(6,"div",79),e.YNc(7,c1,3,0,"button",80),e.qZA()(),e.TgZ(8,"div",81)(9,"table",82)(10,"thead",83)(11,"tr")(12,"th",84),e._uU(13,"Name"),e.qZA(),e.TgZ(14,"th",84),e._uU(15,"Designation"),e.qZA(),e.TgZ(16,"th",84),e._uU(17,"Phone Number"),e.qZA(),e.YNc(18,d1,2,0,"th",85),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,p1,4,0,"ng-container",44)(21,m1,2,1,"ng-container",44),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.deleteButtonAddButtonShown),e.xp6(11),e.Q6J("ngIf",t.deleteButtonAddButtonShown),e.xp6(2),e.Q6J("ngIf",0==t.mX_WOTechAssignment.length),e.xp6(1),e.Q6J("ngIf",0!=t.mX_WOTechAssignment.length)}}function b1(n,r){if(1&n&&(e.TgZ(0,"div",31)(1,"div",34),e._UZ(2,"app-task-end-audit",97),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ticketWOStartEndTask",t.mx_WOStartEndTask)}}function f1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",111),e.NdJ("click",function(){const a=e.CHM(t),s=a.index,l=a.$implicit,g=e.oxw(2);return e.KtG(g.selectTechnician(g.filteredTechnicianList,s,l))}),e.TgZ(2,"div",112)(3,"div",113)(4,"div",114)(5,"label",115)(6,"input",116),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).index,g=e.oxw(2);return e.KtG(g.filteredTechnicianList[l].checked=a)}),e.qZA(),e._UZ(7,"i",117),e.qZA()()()(),e.TgZ(8,"div",118),e._UZ(9,"img",119),e.qZA(),e.TgZ(10,"div",120)(11,"h5",121)(12,"a",122),e._uU(13),e.qZA(),e.TgZ(14,"p",123),e._uU(15),e.qZA()()(),e.TgZ(16,"div",124)(17,"p",42)(18,"span"),e._UZ(19,"i",125),e._uU(20),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(2);e.xp6(6),e.s9C("value",t),e.Q6J("ngModel",a.filteredTechnicianList[o].checked)("disabled",a.filteredTechnicianList[o].disabled),e.xp6(3),e.s9C("src",t.profileImageUrl?a.imageUrl+t.profileImageUrl:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.hij(" ",t.fullName," "),e.xp6(2),e.hij("Role:",t.roleName,""),e.xp6(5),e.Oqu(t.phoneNumber)}}function T1(n,r){1&n&&(e.TgZ(0,"div",126)(1,"p"),e._uU(2,"No Member Found"),e.qZA()())}function v1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",98)(1,"h5",99),e._uU(2,"Add Members"),e.qZA(),e.TgZ(3,"button",100),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",101)(5,"div",102)(6,"input",103),e.NdJ("keyup",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.filterTechnician(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.technicianSearchText=a)}),e.qZA(),e._UZ(7,"i",104),e.qZA(),e.TgZ(8,"ngx-simplebar",105)(9,"div",106),e.YNc(10,f1,21,7,"div",89)(11,T1,3,0,"div",107),e.qZA()()(),e.TgZ(12,"div",108)(13,"button",109),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",110),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.sweetAlertUpdateTechinionDetails())}),e._uU(16," Submit "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.technicianSearchText),e.xp6(4),e.Q6J("ngForOf",t.filteredTechnicianList),e.xp6(1),e.Q6J("ngIf",t.technicianList&&t.filteredTechnicianList&&t.technicianSearchText.length>0?!t.filteredTechnicianList.length:!t.technicianList.length),e.xp6(4),e.Q6J("disabled",0==t.selectedTech.length)}}const x1=["inputer"],k1=["assetTagId"];function w1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModalSucccessWithRemarkMulti("Approver"))}),e._uU(1," Approver "),e.qZA()}}function D1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openModalSucccessWithRemarkMulti("Reviewer"))}),e._uU(1," Reviewer "),e.qZA()}}function A1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,w1,2,0,"button",37)(2,D1,2,0,"button",37),e.TgZ(3,"button",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalSucccessWithRemarkMulti("Reject"))}),e._uU(4," Reject "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","Approver"==t.storeApproverType),e.xp6(1),e.Q6J("ngIf","Reviewer"==t.storeApproverType)}}function S1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"input",53),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCheckboxChange(a))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.checkUncheckAll())}}function Z1(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"i",64),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2),l=e.MAs(43);return e.KtG(s.viewQrCodeImage(l,a))}),e.qZA(),e.BQk()}}function I1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",66),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.openModalSucccessWithRemark(a,"Approver"))}),e._UZ(1,"i",67),e._uU(2," Approver "),e.qZA()}}function y1(n,r){if(1&n&&(e.TgZ(0,"li"),e.YNc(1,I1,3,0,"a",65),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","Approver"==t.storeApproverType)}}function q1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",66),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,s=e.oxw(2);return e.KtG(s.openModalSucccessWithRemark(a,"Reviewer"))}),e._UZ(1,"i",67),e._uU(2," Review "),e.qZA()}}function N1(n,r){if(1&n&&(e.TgZ(0,"li"),e.YNc(1,q1,3,0,"a",65),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","Reviewer"==t.storeApproverType)}}function L1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"a",68),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.openModalSucccessWithRemark(a,"Reject"))}),e._UZ(2,"i",69),e._uU(3," Reject "),e.qZA()()}}function U1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"th",54)(2,"div",52)(3,"input",55),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).index,g=e.oxw(2);return e.KtG(g.assetList[l].checked=a)})("change",function(){const a=e.CHM(t),s=a.index,l=a.$implicit,g=e.oxw(2);return e.KtG(g.getAssetlistChecked(g.assetList[s].checked,l))}),e.qZA()()(),e.TgZ(4,"td",56)(5,"a",57),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id,s))}),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e.YNc(8,Z1,2,0,"ng-container",13),e._uU(9),e.qZA(),e.TgZ(10,"td",56),e._uU(11),e.qZA(),e.TgZ(12,"td",56),e._uU(13),e.qZA(),e.TgZ(14,"td",56),e._uU(15),e.qZA(),e.TgZ(16,"td",56),e._uU(17),e.qZA(),e.TgZ(18,"td",56)(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"td",56)(22,"span")(23,"div",58)(24,"button",59),e._UZ(25,"i",60),e.qZA(),e.TgZ(26,"ul",61)(27,"li")(28,"a",62),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.viewHandler(s.id,s))}),e._UZ(29,"i",63),e._uU(30," View "),e.qZA()(),e.YNc(31,y1,2,1,"li",13)(32,N1,2,1,"li",13)(33,L1,4,0,"li",13),e.qZA()()()()()}if(2&n){const t=r.$implicit,o=r.index,a=e.oxw(2);e.xp6(3),e.s9C("value",t.id),e.Q6J("ngModel",a.assetList[o].checked),e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(2),e.Q6J("ngIf",null==t?null:t.qrCodeImgPath),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(2),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.clientName," "),e.xp6(2),e.hij(" ",t.departmentName," "),e.xp6(2),e.hij(" ",t.locationName," "),e.xp6(2),e.Tol(a.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus),e.xp6(11),e.Q6J("ngIf",!a.assetList[o].checked),e.xp6(1),e.Q6J("ngIf",!a.assetList[o].checked),e.xp6(1),e.Q6J("ngIf",!a.assetList[o].checked)}}function O1(n,r){1&n&&(e.TgZ(0,"div",70),e._uU(1," No Asset Found "),e.qZA())}function M1(n,r){1&n&&(e._UZ(0,"i",74),e._uU(1," Prev "))}function V1(n,r){1&n&&(e._uU(0," Next "),e._UZ(1,"i",75))}function Q1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-pagination",71),e.NdJ("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=a)})("pageChange",function(a){e.CHM(t);const s=e.oxw(2);return e.KtG(s.OnChangesPage(a))}),e.YNc(1,M1,2,0,"ng-template",72)(2,V1,2,0,"ng-template",73),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function J1(n,r){if(1&n&&(e.TgZ(0,"div",40)(1,"table",41)(2,"thead")(3,"tr",42)(4,"th",43),e.YNc(5,S1,2,1,"div",44),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset No"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Asset"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Company"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Client"),e.qZA(),e.TgZ(14,"th"),e._uU(15),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Location"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,U1,34,15,"tr",45),e.qZA()(),e.YNc(24,O1,2,0,"div",46),e.qZA(),e.TgZ(25,"div",47)(26,"div",48)(27,"div",49),e._uU(28),e.qZA()(),e.TgZ(29,"div",48)(30,"div",50),e.YNc(31,Q1,3,5,"ngb-pagination",51),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",0!=t.assetList.length),e.xp6(10),e.Oqu(t.isProject?"Project":"Department"),e.xp6(8),e.Q6J("ngForOf",t.assetList),e.xp6(1),e.Q6J("ngIf",0===t.assetList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function R1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"h4",77),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",78),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.TgZ(4,"span",79),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",80),e._UZ(7,"img",81),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("src",t.imageUrl+(null==t.assetQrData?null:t.assetQrData.qrCodeImgPath),e.LSH)}}function j1(n,r){1&n&&(e.TgZ(0,"h6",97),e._uU(1," Please select company from List page "),e.qZA())}function P1(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82)(1,"h5",83),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",84),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",85),e.YNc(5,j1,2,0,"h6",86),e.TgZ(6,"div",1)(7,"div",87)(8,"label",88),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"ng-select",89),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownLocationValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownLocationIdValue=a)}),e.qZA()(),e.TgZ(11,"div",87)(12,"label",90),e._uU(13,"Category"),e.qZA(),e.TgZ(14,"ng-select",91),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownCategoryIdValue=a)}),e.qZA()(),e.TgZ(15,"div",87)(16,"label",92),e._uU(17,"Sub Category"),e.qZA(),e.TgZ(18,"ng-select",93),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onDropdownSubCategoryValueChange(a))})("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.selectedDropDownSubCategoryIdValue=a)}),e.qZA()()()(),e.TgZ(19,"div",94)(20,"button",95),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.clearAdvanceSearch(s))}),e._uU(21," Clear "),e.qZA(),e.TgZ(22,"button",96),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.submitAdvanceSearch(s))}),e._uU(23," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.selectedDropDownCompanyIdValue),e.xp6(5),e.Q6J("items",t.arrayListDropDownLocationList)("disabled",!t.selectedDropDownProjectOrDeparmentIdValue)("clearable",!1)("ngModel",t.selectedDropDownLocationIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownCategoryList)("disabled",!t.selectedDropDownCompanyIdValue)("clearable",!1)("ngModel",t.selectedDropDownCategoryIdValue),e.xp6(4),e.Q6J("items",t.arrayListDropDownSubCategoryList)("disabled",!t.selectedDropDownCategoryIdValue)("clearable",!1)("ngModel",t.selectedDropDownSubCategoryIdValue)}}function E1(n,r){if(1&n&&(e.TgZ(0,"div")(1,"span",16),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("#",t.assetDetailsObj.assetTagId,"")}}function B1(n,r){1&n&&e._UZ(0,"div",17)}function G1(n,r){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ","Project"==t.assetDetailsObj.assignType?"On-site installation of the asset has been completed":"Asset have been collected"," ")}}function Y1(n,r){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ","Project"==t.assetDetailsObj.assignType?"Currently, the asset is not installed on site":"Asset have not been collected"," ")}}function H1(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1," No Specification Details "),e.qZA())}function W1(n,r){if(1&n&&e._UZ(0,"p",60),2&n){const t=e.oxw(2);e.Q6J("innerHtml",t.assetDetailsObj.v001,e.oJD)}}function K1(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"to "),e.qZA())}function z1(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2),e.YNc(3,K1,2,0,"span",14),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.assetDetailsObj.warrantyStart||"-"," "),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.warrantyEnd),e.xp6(1),e.hij(" ",t.assetDetailsObj.warrantyEnd||"-"," ")}}function $1(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2,"-"),e.qZA(),e.BQk())}function X1(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"to "),e.qZA())}function eh(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2),e.YNc(3,X1,2,0,"span",14),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.assetDetailsObj.extendedStartWarrenty||"-"," "),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.extendedEndWarrenty),e.xp6(1),e.hij(" ",t.assetDetailsObj.extendedEndWarrenty||"-"," ")}}function th(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2,"-"),e.qZA(),e.BQk())}function ih(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"to "),e.qZA())}function nh(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2),e.YNc(3,ih,2,0,"span",14),e._uU(4),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.assetDetailsObj.rmaStartWarrenty||"-"," "),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.rmaEndWarrenty),e.xp6(1),e.hij(" ",t.assetDetailsObj.rmaEndWarrenty||"-"," ")}}function ah(n,r){1&n&&(e.ynx(0),e.TgZ(1,"h5",48),e._uU(2,"-"),e.qZA(),e.BQk())}function oh(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"img",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.open(a.assetDetailsObj.assetImagePath?a.apiUrl+a.assetDetailsObj.assetImagePath:"../../../../../assets/images/placeholderimage.png"))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.assetDetailsObj.assetImagePath?t.apiUrl+t.assetDetailsObj.assetImagePath:"../../../../../assets/images/placeholderimage.png",e.LSH)}}function sh(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"img",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.open(a.assetDetailsObj.assetImagePath1?a.apiUrl+a.assetDetailsObj.assetImagePath1:"../../../../../assets/images/placeholderimage.png"))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.assetDetailsObj.assetImagePath1?t.apiUrl+t.assetDetailsObj.assetImagePath1:"../../../../../assets/images/placeholderimage.png",e.LSH)}}function rh(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"img",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.open(a.assetDetailsObj.assetImagePath2?a.apiUrl+a.assetDetailsObj.assetImagePath2:"../../../../../assets/images/placeholderimage.png"))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.assetDetailsObj.assetImagePath2?t.apiUrl+t.assetDetailsObj.assetImagePath2:"../../../../../assets/images/placeholderimage.png",e.LSH)}}function lh(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"img",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.open(a.assetDetailsObj.assetImagePath3?a.apiUrl+a.assetDetailsObj.assetImagePath3:"../../../../../assets/images/placeholderimage.png"))}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.assetDetailsObj.assetImagePath3?t.apiUrl+t.assetDetailsObj.assetImagePath3:"../../../../../assets/images/placeholderimage.png",e.LSH)}}function ch(n,r){if(1&n&&(e.TgZ(0,"div",44)(1,"h6",42),e._uU(2," Asset Images "),e.qZA(),e.TgZ(3,"div",61)(4,"div",62)(5,"div",63)(6,"div",64),e.YNc(7,oh,2,1,"div",65)(8,sh,2,1,"div",65)(9,rh,2,1,"div",65)(10,lh,2,1,"div",65),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.assetDetailsObj.assetImagePath),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.assetImagePath1),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.assetImagePath2),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.assetImagePath3)}}function dh(n,r){if(1&n&&(e.TgZ(0,"div",55)(1,"h6",12),e._uU(2,"Asset Lifespan"),e.qZA(),e.TgZ(3,"p",56),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",t.assetDetailsObj.assetLifeSpan," Month ")}}function ph(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",38)(2,"div",39)(3,"div",40)(4,"div",41)(5,"h6",42),e._uU(6," Specification "),e.qZA(),e.YNc(7,H1,2,0,"p",14)(8,W1,1,1,"p",43),e.TgZ(9,"div",44)(10,"h6",42),e._uU(11," Warranty "),e.qZA(),e.TgZ(12,"div",1)(13,"div",45)(14,"div")(15,"p",46),e._uU(16," Warranty Period "),e.qZA(),e.YNc(17,z1,5,3,"ng-container",14)(18,$1,3,0,"ng-container",14),e.qZA()(),e.TgZ(19,"div",45)(20,"div")(21,"p",46),e._uU(22," Extended Warranty Period "),e.qZA(),e.YNc(23,eh,5,3,"ng-container",14)(24,th,3,0,"ng-container",14),e.qZA()(),e.TgZ(25,"div",45)(26,"div")(27,"p",46),e._uU(28," RMA Warranty Period "),e.qZA(),e.YNc(29,nh,5,3,"ng-container",14)(30,ah,3,0,"ng-container",14),e.qZA()()()(),e.TgZ(31,"div",44)(32,"h6",42),e._uU(33," Account "),e.qZA(),e.TgZ(34,"div",1)(35,"div",47)(36,"div")(37,"p",46),e._uU(38," PO Number "),e.qZA(),e.TgZ(39,"h5",48),e._uU(40),e.qZA()()(),e.TgZ(41,"div",47)(42,"div")(43,"p",46),e._uU(44," Invoice Number "),e.qZA(),e.TgZ(45,"h5",48),e._uU(46),e.qZA()()(),e.TgZ(47,"div",47)(48,"div")(49,"p",46),e._uU(50," Invoice Date "),e.qZA(),e.TgZ(51,"h5",48),e._uU(52),e.qZA()()(),e.TgZ(53,"div",47)(54,"div")(55,"p",46),e._uU(56," Purchase Price "),e.qZA(),e.TgZ(57,"h5",48),e._uU(58),e.qZA()()(),e.TgZ(59,"div",47)(60,"div")(61,"p",46),e._uU(62," Purchase Date "),e.qZA(),e.TgZ(63,"h5",48),e._uU(64),e.qZA()()(),e.TgZ(65,"div",47)(66,"div")(67,"p",46),e._uU(68," Delivery Date "),e.qZA(),e.TgZ(69,"h5",48),e._uU(70),e.qZA()()(),e.TgZ(71,"div",47)(72,"div")(73,"p",46),e._uU(74," Installation Date "),e.qZA(),e.TgZ(75,"h5",48),e._uU(76),e.qZA()()()()(),e.YNc(77,ch,11,4,"div",49),e.qZA()()()(),e.TgZ(78,"div",50)(79,"div",39)(80,"div",51)(81,"h5",52),e._uU(82,"Basic Information"),e.qZA(),e.TgZ(83,"button",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.goToEditHandler(a.storeAssetID))}),e._UZ(84,"i",54),e._uU(85,"Edit "),e.qZA()(),e.TgZ(86,"div",40)(87,"div",55)(88,"div")(89,"h6",12),e._uU(90,"Company"),e.qZA(),e.TgZ(91,"p",56),e._uU(92),e.qZA()()(),e.TgZ(93,"div",55)(94,"div")(95,"h6",12),e._uU(96,"Client"),e.qZA(),e.TgZ(97,"p",56),e._uU(98),e.qZA()()(),e.TgZ(99,"div",55)(100,"h6",57),e._uU(101,"Project"),e.qZA(),e.TgZ(102,"p",56),e._uU(103),e.qZA()(),e.TgZ(104,"div",55)(105,"h6",12),e._uU(106,"Location"),e.qZA(),e.TgZ(107,"p",56),e._uU(108),e.qZA()(),e.YNc(109,dh,5,1,"div",58),e.TgZ(110,"div",55)(111,"h6",12),e._uU(112,"Asset handler"),e.qZA(),e.TgZ(113,"p",56),e._uU(114),e.qZA()(),e.TgZ(115,"div",55)(116,"h6",12),e._uU(117,"Vendor"),e.qZA(),e.TgZ(118,"p",56),e._uU(119),e.qZA()(),e.TgZ(120,"div",55)(121,"h6",12),e._uU(122,"Model"),e.qZA(),e.TgZ(123,"p",56),e._uU(124),e.qZA()(),e.TgZ(125,"div",55)(126,"h6",59),e._uU(127,"Serial No"),e.qZA(),e.TgZ(128,"p",56),e._uU(129),e.qZA()(),e.TgZ(130,"div",55)(131,"h6",59),e._uU(132,"Label Print"),e.qZA(),e.TgZ(133,"p",56),e._uU(134),e.qZA()(),e.TgZ(135,"div",55)(136,"h6",59),e._uU(137,"Active/Passive"),e.qZA(),e.TgZ(138,"p",56),e._uU(139),e.qZA()(),e.TgZ(140,"div",55)(141,"h6",59),e._uU(142,"MTBF"),e.qZA(),e.TgZ(143,"p",56),e._uU(144),e.qZA()(),e.TgZ(145,"div",55)(146,"h6",59),e._uU(147,"Created Date "),e.qZA(),e.TgZ(148,"p",56),e._uU(149),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",!t.assetDetailsObj.v001),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.v001),e.xp6(9),e.Q6J("ngIf",t.assetDetailsObj.warrantyStart&&t.assetDetailsObj.warrantyEnd),e.xp6(1),e.Q6J("ngIf",!t.assetDetailsObj.warrantyStart&&!t.assetDetailsObj.warrantyEnd),e.xp6(5),e.Q6J("ngIf",t.assetDetailsObj.extendedStartWarrenty&&t.assetDetailsObj.extendedEndWarrenty),e.xp6(1),e.Q6J("ngIf",!t.assetDetailsObj.extendedStartWarrenty&&!t.assetDetailsObj.extendedEndWarrenty),e.xp6(5),e.Q6J("ngIf",t.assetDetailsObj.rmaStartWarrenty&&t.assetDetailsObj.rmaEndWarrenty),e.xp6(1),e.Q6J("ngIf",!t.assetDetailsObj.rmaStartWarrenty&&!t.assetDetailsObj.rmaEndWarrenty),e.xp6(10),e.hij(" ",t.assetDetailsObj.poNumber||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.invoiceNo||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.invoiceDate||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.purchasePrice?t.assetDetailsObj.v003+" "+t.assetDetailsObj.purchasePrice:"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.purchaseDate||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.deliveryDate||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.installationDate||"-"," "),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.assetImagePath||t.assetDetailsObj.assetImagePath1||t.assetDetailsObj.assetImagePath2||t.assetDetailsObj.assetImagePath3),e.xp6(15),e.hij(" ",t.assetDetailsObj.companyName||"-"," "),e.xp6(6),e.hij(" ",t.assetDetailsObj.clientName||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.departmentName||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.locationName||"-"," "),e.xp6(1),e.Q6J("ngIf",t.assetDetailsObj.assetLifeSpan),e.xp6(5),e.hij(" ",t.assetDetailsObj.employeeName||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.vendorName||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.model||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.serialNo||"-"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.qrCodePrintCount||"-"," "),e.xp6(5),e.hij(" ",1==t.assetDetailsObj.v017?"Active":"Passive"," "),e.xp6(5),e.hij(" ",t.assetDetailsObj.v018||"-"," Hours "),e.xp6(5),e.hij(" ",t.assetDetailsObj.createdDate||"-"," ")}}function _h(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalSucccessWithRemark(a.assetDetailsObj,"Approver"))}),e._uU(1," Approver "),e.qZA()}}function uh(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",68),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.openModalSucccessWithRemark(a.assetDetailsObj,"Reviewer"))}),e._uU(1," Review "),e.qZA()}}const gh=[{path:"help-desk-dashboard",component:$e},{path:"old-asset-dashboard",component:kl},{path:"asset-dashboard",component:xm},{path:"audit-list-dashboard",component:Im},{path:"test-dashboard",component:$e},{path:"client-dashboard",component:Ep},{path:"new-ticket-list",component:yo},{path:"workflow-ticket-list",component:yl},{path:"quotation-ticket-list",component:Rl},{path:"view-new-ticket-list",component:pl},{path:"view-audit-list",component:(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee){this.router=t,this.auditService=o,this.authService=a,this.commonFunctionService=s,this.offcanvasService=l,this.helpDeskService=g,this.lightbox=G,this.modalService=W,this.maintenanceService=ee,this.defaultNavActiveId=1,this.auditData=[],this.assetTicketItem=[],this.breadCrumbItems=[{label:"Ticket"},{label:"Ticket View",active:!0}],this.activeId=1,this.imageUrl=c.N.apiUrl,this.auditTypeClientSignature=!1,this.auditTypeAdminSignature=!1,this.mx_WOStartEndTask=[],this.mX_WOTechAssignment=[],this.deleteButtonAddButtonShown=!0,this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0},this.technicianList=[],this.selectedTech=[],this.filteredTechnicianList=[],this.technicianSearchText="",this.breadCrumbItems=[{label:"Audit Management"},{label:"Audit View",active:!0}],this.isProject=this.authService.getisProject(),this.auditTypeAdminAndClient=this.helpDeskService.auditTypeAdminAndClient,this.assetAuditId=this.auditService.auditId,0!=this.assetAuditId?this.getViewDetails(this.assetAuditId):this.router.navigate(["/maintenace-management/dashboard/audit-list-dashboard"]),"Admin"===this.auditTypeAdminAndClient?(this.auditTypeAdminSignature=!0,this.auditTypeClientSignature=!1):"Client"===this.auditTypeAdminAndClient?(this.auditTypeAdminSignature=!0,this.auditTypeClientSignature=!0):(this.auditTypeAdminSignature=!1,this.auditTypeClientSignature=!1)}ngOnInit(){this.defaultNavActiveId=1}refreshThePage(){this.defaultNavActiveId=1,this.getViewDetails(this.assetAuditId)}getViewDetails(t){this.auditService.getMasterAssetAuditDetail({assetAuditId:t}).subscribe(a=>{this.auditData=a.objAssetAuditDetail?a.objAssetAuditDetail:[],this.mx_WOStartEndTask=a.objTaskTech.mx_WOStartEndTask?a.objTaskTech.mx_WOStartEndTask:[],this.mX_WOTechAssignment=a.objTaskTech.mX_WOTechAssignment?a.objTaskTech.mX_WOTechAssignment:[],this.deleteButtonAddButtonShown=32!=this.auditData.auditStatusId&&61!=this.auditData.auditStatusId&&62!=this.auditData.auditStatusId})}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}goBack(){this.router.navigate(["maintenace-management/dashboard/audit-list-dashboard"])}openSignatureUser(){const t=this.offcanvasService.open(Mm,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas2"});t.componentInstance.auditDetails=this.auditData,t.result.then(o=>{this.goBack()}).catch(o=>{0==o||this.goBack()})}open(t){let a=[];a.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(a)}loadTechnician(){this.maintenanceService.getTechnician(this.auditData.departmentId).subscribe(t=>{t&&(this.technicianList=t?.data,this.technicianList.forEach(o=>{o.checked=!1,o.disabled=!1}),this.mX_WOTechAssignment.length>0&&this.technicianList.forEach(o=>{this.mX_WOTechAssignment.forEach(a=>{a.techId===o.userId&&(o.checked=!0,o.disabled=!0)})}),this.filteredTechnicianList=this.technicianList)},t=>{})}openModalTechnician(t){this.modalService.open(t,{size:"lg",centered:!0}),this.loadTechnician()}getTechnicianIndex(t){return this.technicianList.findIndex(o=>o.userId===t)}getSelectedTechnicianIndex(t){return this.selectedTech.findIndex(o=>o.userId===t)}selectTechnician(t,o,a){if(this.filteredTechnicianList[o].disabled)return;const s=this.getTechnicianIndex(a.userId);this.technicianList[s].checked=!this.technicianList[s].checked,this.getTodoListChecked(t[o].checked,a)}getTodoListChecked(t,o){1==t?this.selectedTech.push(o):this.selectedTech.forEach((a,s)=>{a.userId==o.userId&&this.selectedTech.splice(s,1)})}unCheckItem(t){const o=this.getTechnicianIndex(t.userId);this.technicianList[o].checked=!1;const a=this.getSelectedTechnicianIndex(t.userId);this.selectedTech.splice(a,1)}filterTechnician(t){this.filteredTechnicianList=this.technicianList.filter(o=>o.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}clearTeach(t){this.technicianSearchText="",this.filteredTechnicianList=this.technicianList.filter(o=>o.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}openModalDeleteConf(t){const o=this.modalService.open(Vm.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title="You are about to delete a Member ?",o.componentInstance.subTitle="Deleting your Member will remove for this Schedule list",o.result.then(a=>{a&&"delete"==a&&this.DeleteTechnitionforScheudle(t)})}DeleteTechnitionforScheudle(t){this.auditService.DeleteTechnitionforAudit({TicketTechId:t.ticketTechId,techId:t.techId}).subscribe(a=>{this.getViewDetails(this.assetAuditId)},a=>{a&&this.openModaWaringConf(a)})}openModaWaringConf(t){const o=this.modalService.open(ze.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title=t,o.componentInstance.subTitle="",o.result.then(a=>{}).catch(a=>{})}sweetAlertUpdateTechinionDetails(){J().fire({title:"Do you want to add an additional member for this  Schedule list?",text:"You won't be able to revert this!",icon:"info",showCancelButton:!0,cancelButtonColor:"#FF3366",confirmButtonText:"<span class='swal2-confirm '> Yes, Update it!</span>"}).then(t=>{t.isConfirmed&&this.submitTechinionDetails()})}submitTechinionDetails(){let t=[];this.selectedTech.forEach(o=>{t.push({techId:o.userId,techName:o.fullName,ticketId:this.assetAuditId})}),this.auditService.InsertTechnitionforAudit(t).subscribe(o=>{this.modalService.dismissAll(),this.selectedTech=[],this.getViewDetails(this.assetAuditId)})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(p.F0),e.Y36(V.C),e.Y36(v.u),e.Y36(U.K),e.Y36(_._B),e.Y36(C.S),e.Y36(Ne.ey),e.Y36(_.FF),e.Y36(it.N))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit-list-view"]],viewQuery:function(o,a){if(1&o&&(e.Gf(Rm,5),e.Gf(jm,5)),2&o){let s;e.iGM(s=e.CRH())&&(a.customNav=s.first),e.iGM(s=e.CRH())&&(a.defaultNav=s.first)}},decls:59,vars:16,consts:[["title","Audit View",3,"breadcrumbItems"],[1,"row","mt-1"],[1,"col-lg-12"],[1,"card","mt-n4","mx-n4"],[1,"bg-warning-subtle"],[1,"card-body","pb-0","px-4"],[1,"row","mb-4"],[1,"col-md"],[1,"row","align-items-center"],[1,"fw-bold"],[1,"hstack","gap-3","flex-wrap"],[1,"ri-building-line","align-bottom","me-1"],[1,"vr"],[1,"ri-building-2-line","align-bottom","me-1"],[1,"ri-community-line","align-bottom","me-1"],[1,"ri-calendar-line","align-bottom","me-1"],[1,"fs-12"],["ngbNav","","role","tablist",1,"nav","nav-tabs-custom","border-bottom-0",3,"activeId"],["customNav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],["ngbNavContent",""],["class","nav-item",3,"ngbNavItem",4,"ngIf"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"row"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["role","document"],["TechnicianListModal",""],[1,"col-lg-5","mb-3","stretch-card"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"col-lg-6","mb-2"],[1,"d-flex","align-items-center"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","bg-light","text-primary","rounded-circle","fs-3"],[1,"ri-thumb-up-line","align-middle"],[1,"flex-grow-1","ms-3"],[1,"text-uppercase","fw-semibold","fs-12","text-success","mb-1"],[1,"mb-0"],["class","counter-value",3,"countUp","options",4,"ngIf"],[4,"ngIf"],[1,"flex-shrink-0","align-self-end"],[1,"ri-pantone-line","align-middle"],[1,"text-uppercase","fw-semibold","fs-12","text-warning","mb-1"],[1,"col-lg-6"],[1,"ri-thumb-down-line","align-middle"],[1,"text-uppercase","fw-semibold","fs-12","text-danger","mb-1"],[1,"ri-discuss-fill","align-middle"],[1,"text-uppercase","fw-semibold","fs-12","mb-1","text-info"],[1,"col-lg-7","mb-3","stretch-card"],["class","col-md-6",4,"ngIf"],[1,"d-flex","justify-content-end","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button",3,"click"],[1,"counter-value",3,"countUp","options"],[1,"col-md-6"],[1,"card","border","shadow-none","mb-lg-0","right"],[1,"card-body","text-muted"],[1,"fs-14","mb-2"],[1,"text-center","mb-1"],[1,"position-relative","d-inline-block"],["class","btn btn-success mt-2",3,"click",4,"ngIf"],["class","avatar-lg",4,"ngIf"],[1,"text-center","text-muted","mb-0"],[1,"text-center","text-dark","mb-0"],[1,"text-center","text-dark","mb-0","fs-12"],[1,"fs-10","text-muted"],[1,"btn","btn-success","mt-2",3,"click"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["class","avatar-md img-size-fixed",3,"src","click",4,"ngIf"],["src","../../../../../assets/images/placeholderimage.png","class","avatar-md img-size-fixed",3,"click",4,"ngIf"],[1,"avatar-md","img-size-fixed",3,"src","click"],["src","../../../../../assets/images/placeholderimage.png",1,"avatar-md","img-size-fixed",3,"click"],[3,"auditId"],[1,"d-flex","align-items-center","justify-content-between","mb-3","mt-2"],[1,"mb-2"],["class","btn btn-success btn-sm","type","button","class","btn btn-soft-primary btn-sm","data-bs-toggle","modal","data-bs-target","#inviteMembersModal",3,"click",4,"ngIf"],[1,"table-responsive","table-card"],[1,"table","align-middle","mb-0"],[1,"table-light","text-muted"],["scope","col"],["scope","col",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#inviteMembersModal",1,"btn","btn-soft-primary","btn-sm",3,"click"],[1,"ri-add-fill","align-bottom","me-1"],["colspan","4",1,"text-center"],[4,"ngFor","ngForOf"],["scope","row"],["alt","",1,"rounded-circle","avatar-xxs",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1","ms-2"],["href","javascript:void(0);",1,"fw-medium"],["href","javascript:void(0)","class","dropdown-item cursor-pointer",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-danger"],[3,"ticketWOStartEndTask"],[1,"modal-header","p-3","bg-primary-subtle"],["id","inviteMembersModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"search-box","mb-3"],["type","text","placeholder","Search member here...",1,"form-control","bg-light","border-light",3,"ngModel","keyup","ngModelChange"],[1,"ri-search-line","search-icon"],[1,"mx-n4","px-4",2,"height","400px"],[1,"vstack","gap-3"],["class","text-center mt-3 text-muted",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","w-xs","me-3",3,"disabled","click"],[1,"d-flex","align-items-center",3,"click"],[1,"flex-shrink-0","me-3"],[1,"d-flex","align-items-center","gap-1"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],[1,"input-frame"],[1,"avatar-xs","flex-shrink-0","me-3"],["alt","",1,"img-fluid","rounded-circle",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1"],[1,"fs-14","mb-0"],["href","javascript:void(0);",1,"text-body","d-block"],[1,"mt-0","mb-0"],[1,"flex-shrink-0","me-3","mb-0"],[1,"ri-phone-fill","me-1"],[1,"text-center","mt-3","text-muted"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",7)(10,"div")(11,"h4",9),e._uU(12),e.qZA(),e.TgZ(13,"div",10)(14,"div"),e._UZ(15,"i",11),e._uU(16),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"div"),e._UZ(19,"i",13),e._uU(20),e.qZA(),e._UZ(21,"div",12),e.TgZ(22,"div"),e._UZ(23,"i",14),e._uU(24),e.qZA(),e._UZ(25,"div",12),e.TgZ(26,"div"),e._UZ(27,"i",14),e._uU(28),e.qZA(),e._UZ(29,"div",12),e.TgZ(30,"div"),e._UZ(31,"i",15),e._uU(32),e.qZA(),e._UZ(33,"div",12),e.TgZ(34,"div")(35,"span",16),e._uU(36),e.qZA()()()()()()()(),e.TgZ(37,"ul",17,18)(39,"li",19)(40,"a",20),e._uU(41," Details "),e.qZA(),e.YNc(42,s1,76,10,"ng-template",21),e.qZA(),e.YNc(43,l1,4,1,"li",22),e.TgZ(44,"li",23)(45,"a",24),e._uU(46," Member List "),e.qZA(),e.YNc(47,h1,22,4,"ng-template",21),e.qZA(),e.TgZ(48,"li",23)(49,"a",24),e._uU(50," Task List "),e.qZA(),e.YNc(51,b1,3,1,"ng-template",21),e.qZA()()()()()()(),e.TgZ(52,"div",25)(53,"div",2)(54,"div",26),e._UZ(55,"div",27),e.qZA()(),e._UZ(56,"div",2),e.qZA(),e.YNc(57,v1,17,4,"ng-template",28,29,e.W1O)),2&o){const s=e.MAs(38);e.Q6J("breadcrumbItems",a.breadCrumbItems),e.xp6(12),e.hij(" ",(null==a.auditData?null:a.auditData.assetAuditName)||"NA"," "),e.xp6(4),e.hij(" ",(null==a.auditData?null:a.auditData.companyName)||"NA"," "),e.xp6(4),e.hij("",(null==a.auditData?null:a.auditData.clientName)||"NA"," "),e.xp6(4),e.hij("",(null==a.auditData?null:a.auditData.departmentName)||"NA"," "),e.xp6(4),e.hij("",(null==a.auditData?null:a.auditData.departmentName)||"NA"," "),e.xp6(4),e.hij("",(null==a.auditData?null:a.auditData.createdDate)||"NA"," "),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(a.auditData.auditStatusId)),e.xp6(1),e.Oqu(a.auditData.assetStatus),e.xp6(1),e.Q6J("activeId",a.activeId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngIf",a.assetAuditId),e.xp6(1),e.Q6J("ngbNavItem",3),e.xp6(4),e.Q6J("ngbNavItem",4),e.xp6(7),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.Wl,f.JJ,f.On,I.P,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,rt.M,se.n,Qm.r,Jm.P]})}}return n})()},{path:"asset-list-dashboard",component:(()=>{class n{constructor(t,o,a,s,l,g,G,W,ee,te,P){this.dropdownService=t,this.router=o,this.modalService=a,this.assetService=s,this.authService=l,this.formBuilder=g,this.commonFunctionService=G,this.dropdownServices=W,this.offcanvasService=ee,this.menuService=te,this.helpDeskService=P,this.isProject=!1,this.label="Asset Management",this.breadCrumbItems=[{label:"Asset"},{label:"Asset List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null,approverType:null,masterWorkflowId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.deleteId=null,this.imageUrl=c.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.arrayListDropDownAssetStatus=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.assetStatusCountObject={totalInserviceAsset:0,totalReadyStockAsset:0,totalLoanAsset:0,totalDisposeAsset:0},this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.checkedAssetList=[],this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject(),this.storeWorkflowObject={...this.helpDeskService.workflowObject},this.storeMasterWorkflowId=this.storeWorkflowObject.masterWorkflowId?this.storeWorkflowObject.masterWorkflowId:0,this.storeApproverType=this.storeWorkflowObject.approverType,(0==this.storeMasterWorkflowId||null==this.storeMasterWorkflowId)&&this.router.navigate(["/maintenace-management/dashboard/asset-dashboard"])}onBack(){this.router.navigate(["/maintenace-management/dashboard/asset-dashboard"])}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownCompanyList(),this.getDropdownAssetStatusList("AssetList"),this.loadData()}navigateToAdd(){this.assetService.accessRight=!0,this.router.navigate(["/asset-management/asset/createasset"])}navigateToSpareList(){this.router.navigate(["/asset-management/spare/list-spare"])}navigateToQrList(){this.router.navigate(["/asset-management/asset/qr-detail"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.payload.approverType=this.storeWorkflowObject.approverType,this.payload.masterWorkflowId=this.storeWorkflowObject.masterWorkflowId,this.assetService.GetV2_DashboardTodoListDetails_Paging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.assetList=t.list,this.checkedAssetList.length>0&&(this.assetList=this.assetList.filter(o=>((this.checkedAssetList?.filter(s=>s.id==o.id)).length>0&&(o.checked=!0),1))),this.assetList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((o,a)=>a.rowNum<o?a.rowNum:o,t.list[0].rowNum),this.to=t.list.reduce((o,a)=>a.rowNum>o?a.rowNum:o,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewQrCodeImage(t,o){this.assetQrData=o,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}viewHandler(t,o){this.assetService.sendAssetId=t,this.assetService.storeAssetObject={...o},this.router.navigate(["/maintenace-management/dashboard/asset-view-dashboard"])}onTypeAssetNameChange(t){(0===this.typeAssetNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownLocationList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.selectedDropDownLocationIdValue=null,this.typeAssetNameValue=null,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchDepartmentId:null,SearchLocationId:null,SearchAssetStatusId:null,SearchCategoryId:null,SearchSubCategoryId:null,SearchAssetName:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownClientList=o.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange(""))})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(o=>{this.arrayListDropDownProjectOrDeparmentList=o.list,0!=o.list.length&&"Client User"===this.currentUserRole&&(o.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))})}getLocationListDrobDown(){this.dropdownServices.GetLocationListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue,SearchDepartmentId:this.selectedDropDownProjectOrDeparmentIdValue}).subscribe(o=>{this.arrayListDropDownLocationList=o.list})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownLocationList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.page-1,this.payload.SearchDepartmentId=this.selectedDropDownProjectOrDeparmentIdValue,this.selectedDropDownLocationIdValue=null,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.arrayListDropDownLocationList=[],this.loadData(),this.getLocationListDrobDown()}getDropdownAssetStatusList(t){this.assetService.getAssetStatusList(t).subscribe(o=>{this.arrayListDropDownAssetStatus=o})}getV2_AssetStatusCount(){this.assetService.getV2_AssetStatusCount().subscribe(t=>{this.assetStatusCountObject=t.data})}onDropdownAssetStatusValueChange(t){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}ngAfterViewInit(){(0,_e.R)(this.input.nativeElement,"input").pipe((0,ve.h)(Boolean),(0,ue.b)(1e3),(0,ge.x)(),(0,me.b)(t=>{this.onTypeAssetNameChange(!0)})).subscribe()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}returnworkFlowAssetStatus(t){return this.commonFunctionService.returnWorkFlowStatusBadgeClasses(t)}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(o=>{},o=>{})}searchFilter(){this.offcanvasService.dismiss()}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(o=>{this.arrayListDropDownCategoryList=o.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(o=>{this.arrayListDropDownSubCategoryList=o.list})}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData(),this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}onDropdownLocationValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}onTypeAssetTagId(){}clearAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownLocationIdValue=null,this.payload.SearchCatergoryId=null,this.payload.SearchSubCategoryId=null,this.payload.SearchAssetTagId=null,this.payload.SearchLocationId=null,this.loadData()}submitAdvanceSearch(t){t.dismiss("Cross click"),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchLocationId=this.selectedDropDownLocationIdValue,this.loadData()}confirm(t,o){this.deleteId=o,this.modalService.open(t,{centered:!0})}deleteData(t){this.assetService.deleteAsset({AssetId:t}).subscribe({next:o=>{this.successForDeletespareData(o),this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData()}})}successForDeletespareData(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}uniqTheObject(t,o){return[...new Map(t.map(a=>[o(a),a])).values()]}onCheckboxChange(t){return this.assetList.length&&(this.assetList.forEach(o=>o.checked=t.target.checked),1==t.target.checked?this.assetList.forEach((o,a)=>{this.checkedAssetList.push(o)}):this.checkedAssetList=this.checkedAssetList.filter(o=>!(this.assetList.filter(s=>s.id==o.id).length>0)),this.checkedAssetList=this.uniqTheObject(this.checkedAssetList,o=>o.id)),!1}checkUncheckAll(){return 0!=this.assetList.length&&this.assetList.every(t=>t.checked)}getAssetlistChecked(t,o){1==t?this.checkedAssetList.push(o):this.checkedAssetList.forEach((a,s)=>{a.id==o.id&&this.checkedAssetList.splice(s,1)})}removeCheckedAssetList(t){this.assetList.forEach((o,a)=>{o.id==t.id&&(this.assetList[a].checked=!1)}),this.checkedAssetList.forEach((o,a)=>{o.id==t.id&&this.checkedAssetList.splice(a,1)})}requestHandler(t,o,a){let s;"Approver"==a?s="Approved":"Review"==a?s="Reviewed":"Reject"==a&&(s="Rejected"),1==this.storeMasterWorkflowId&&this.assetService.postUpdateReviewerApproverProcess({WfAssetCreationId:t.wfAssetCreationId,WfAssetCreationDetailId:t.wfAssetCreationDetailId,ApproverType:this.storeWorkflowObject.approverType,ActionStatus:s,AssetId:t.id,Remark:o}).subscribe(g=>{this.success(g),this.checkedAssetList=[],this.loadData()},g=>{this.openModaWaringConf(g)})}openModaWaringConf(t){const o=this.modalService.open(ze.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title=t,o.componentInstance.subTitle="",o.result.then(a=>{a&&"Close click"==a&&this.router.navigate(["/application-settings/user-management/client-user/list"])})}requestHandlerMulti(t,o){let a;"Approver"==o?a="Approved":"Reviewer"==o?a="Reviewed":"Reject"==o&&(a="Rejected");let s=[];1==this.storeMasterWorkflowId&&(this.checkedAssetList.forEach(g=>{s.push({WfAssetCreationId:g.wfAssetCreationId,WfAssetCreationDetailId:g.wfAssetCreationDetailId,ApproverType:this.storeWorkflowObject.approverType,ActionStatus:a,AssetId:g.id,Remark:t})}),this.assetService.postUpdateReviewerMultiApproverProcess(s).subscribe(g=>{this.success(g),this.checkedAssetList=[],this.loadData()}))}openModalSucccessWithRemark(t,o){const a=this.modalService.open(Se.A,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});a.componentInstance.title=" Do you want to "+o+" this asset",a.componentInstance.subTitle="( "+t.assetName+" ) ",a.componentInstance.subTitle1="You won't be able to revert this!",a.componentInstance.buttonName=o+" It",a.result.then(s=>{s&&"success"==s.value&&this.requestHandler(t,s.remark,o)})}openModalSucccessWithRemarkMulti(t){const o=this.modalService.open(Se.A,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});o.componentInstance.title="Would you like to proceed with this action?",o.componentInstance.subTitle=" You won't be able to revert this!",o.componentInstance.subTitle1="",o.componentInstance.buttonName=t+" It",o.result.then(a=>{a&&"success"==a.value&&this.requestHandlerMulti(a.remark,t)})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.action,text:t.message,showConfirmButton:!1,timer:1e3,showCloseButton:!0})}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(oe.V),e.Y36(p.F0),e.Y36(_.FF),e.Y36(ke.d),e.Y36(v.u),e.Y36(f.qu),e.Y36(U.K),e.Y36(oe.V),e.Y36(_._B),e.Y36(he.l),e.Y36(C.S))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-list-dashboard"]],viewQuery:function(o,a){if(1&o&&(e.Gf(x1,7),e.Gf(k1,7)),2&o){let s;e.iGM(s=e.CRH())&&(a.input=s.first),e.iGM(s=e.CRH())&&(a.assetTagId=s.first)}},decls:46,vars:21,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[1,"search-box","w-50"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],[4,"ngIf"],["type","button",1,"btn","btn-soft-primary","waves-effect",3,"click"],[1,"feather","icon-twitter","btn-icon-prepend"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","id","create-btn",1,"btn","btn-primary",3,"click"],[1,"ri-equalizer-fill","align-bottom","me-1"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["filtetcontent",""],["class","btn btn-primary ms-2 mb-2 mb-md-0",3,"click",4,"ngIf"],[1,"btn","btn-danger","ms-2","mb-2","mb-md-0",3,"click"],[1,"btn","btn-primary","ms-2","mb-2","mb-md-0",3,"click"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],["scope","col",2,"width","50px"],["class","form-check",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkAll","value","option",1,"form-check-input",3,"checked","change"],["scope","row"],["type","checkbox","name","checkAll",1,"form-check-input",3,"value","ngModel","ngModelChange","change"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],["class","dropdown-item cursor-pointer text-primary",3,"click",4,"ngIf"],[1,"dropdown-item","cursor-pointer","text-primary",3,"click"],[1,"ri-checkbox-circle-line","align-bottom","me-2","text-primary"],[1,"dropdown-item","cursor-pointer","text-danger",3,"click"],[1,"ri-close-circle-line","align-bottom","me-2","text-danger"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","mb-3"],["for","locationName",1,"form-label","fw-semibold"],["bindLabel","locationName","bindValue","locationId","id","locationName","placeholder","Select Location","for","locationName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","categoryName",1,"form-label","fw-semibold"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["for","subCategoryName",1,"form-label","fw-semibold"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select Sub Category ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(o,a){if(1&o){const s=e.EpF();e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Asset List"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"input",10,11),e.NdJ("ngModelChange",function(g){return a.typeAssetNameValue=g})("input",function(){return a.onTypeAssetNameChange(!1)}),e.qZA(),e._UZ(13,"i",12),e.qZA(),e.YNc(14,A1,5,2,"div",13),e.TgZ(15,"button",14),e.NdJ("click",function(){return a.onBack()}),e._UZ(16,"i",15),e._uU(17," Back "),e.qZA()()()(),e.TgZ(18,"div",16)(19,"div",17)(20,"div",18)(21,"ng-select",19),e.NdJ("change",function(g){return a.onDropdownCompanyValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownCompanyIdValue=g}),e.qZA()(),e.TgZ(22,"div",18)(23,"ng-select",20),e.NdJ("change",function(g){return a.onDropdownClientValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownClientIdValue=g}),e.qZA()(),e.TgZ(24,"div",18)(25,"ng-select",21),e.NdJ("change",function(g){return a.onDropdownDepartmentValueChange(g)})("ngModelChange",function(g){return a.selectedDropDownProjectOrDeparmentIdValue=g}),e.qZA()(),e.TgZ(26,"div",22)(27,"div",23)(28,"button",24),e.NdJ("click",function(){e.CHM(s);const g=e.MAs(45);return e.KtG(a.openFilter(g))}),e._UZ(29,"i",25),e._uU(30," Filters "),e.qZA(),e.TgZ(31,"button",26),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(32,"i",27),e._uU(33," Clear "),e.qZA()()()()(),e.TgZ(34,"div",28)(35,"div")(36,"ul",29,30)(38,"li",31),e.YNc(39,J1,32,8,"ng-template",32),e.qZA()(),e.TgZ(40,"div",33),e._UZ(41,"div",34),e.qZA()()()()()(),e.YNc(42,R1,8,1,"ng-template",null,35,e.W1O)(44,P1,24,13,"ng-template",null,36,e.W1O)}if(2&o){const s=e.MAs(37);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("ngModel",a.typeAssetNameValue),e.xp6(3),e.Q6J("ngIf",a.checkedAssetList.length>=1),e.xp6(7),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownClientList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownClientIdValue)("readonly",a.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",a.arrayListDropDownProjectOrDeparmentList)("disabled",!a.selectedDropDownClientIdValue)("clearable",!0)("ngModel",a.selectedDropDownProjectOrDeparmentIdValue)("readonly",a.projectDepartmentFieldDisiabled),e.xp6(11),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[i.sg,i.O5,f.Fj,f.Wl,f.JJ,f.On,_._L,_.jt,_.iD,_.Vi,_.uN,_.Pz,_.nv,_.Is,_.Dy,_.N9,_.GZ,_.ju,fe.w9,se.n]})}}return n})()},{path:"asset-view-dashboard",component:(()=>{class n{constructor(t,o,a,s,l,g){this.assetService=t,this.router=o,this.lightbox=a,this.modalService=s,this.helpDeskService=l,this.commonFunctionService=g,this.assetDetailsObj={},this.apiUrl=c.N.apiUrl,this.addSpartListShown=!1,this.activeId=1,this.shownButtonSpareList=!1,this.breadCrumbItems=[{label:"Asset Management"},{label:"Asset Detail",active:!0}],this.storeWorkflowObject={...this.helpDeskService.workflowObject},this.storeMasterWorkflowId=this.storeWorkflowObject.masterWorkflowId?this.storeWorkflowObject.masterWorkflowId:0,this.storeApproverType=this.storeWorkflowObject.approverType,this.storeAssetID=this.assetService.sendAssetId,this.storeAssetObject={...this.assetService.storeAssetObject},0==this.storeAssetID||null==this.storeAssetID?this.router.navigate(["maintenace-management/dashboard/asset-list-dashboard"]):(this.getAssetDetailsByAssetId(this.storeAssetID),this.addSpartListShown=this.router.url.includes("addSpareList"),!0===this.addSpartListShown?(this.activeId=2,this.shownButtonSpareList=!0):(this.activeId=1,this.shownButtonSpareList=!1))}ngOnInit(){this.topFunction()}topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}getAssetDetailsByAssetId(t){this.assetService.getAssetProfileDetails(t).subscribe(o=>{this.assetDetailsObj=o.data})}onBack(){this.router.navigate(["maintenace-management/dashboard/asset-list-dashboard"])}open(t){let a=[];a.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(a)}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openModalSucccessWithRemark(t,o){const a=this.modalService.open(Se.A,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});a.componentInstance.title=" Do you want to "+o+" this asset",a.componentInstance.subTitle="( "+t.assetName+" ) ",a.componentInstance.subTitle1="You won't be able to revert this!",a.componentInstance.buttonName=o+" It",a.result.then(s=>{s&&"success"==s.value&&this.requestHandler(t,s.remark,o)})}requestHandler(t,o,a){let s;"Approver"==a?s="Approved":"Reviewer"==a?s="Reviewed":"Reject"==a&&(s="Rejected"),1==this.storeMasterWorkflowId&&this.assetService.postUpdateReviewerApproverProcess({WfAssetCreationId:this.storeAssetObject.wfAssetCreationId,WfAssetCreationDetailId:this.storeAssetObject.wfAssetCreationDetailId,ApproverType:a,ActionStatus:s,AssetId:t.id,Remark:o}).subscribe(g=>{this.success(g),this.onBack()})}success(t){J().fire({toast:!0,position:"top-end",icon:"success",title:t.action,text:t.message,showConfirmButton:!1,timer:1e3,showCloseButton:!0})}goToEditHandler(t){this.assetService.sendAssetId=t,this.assetService.assetBackRoute="maintenace-management/dashboard/asset-view-dashboard",this.router.navigate(["/asset-management/asset/editasset"])}ngOnDestroy(){}static{this.\u0275fac=function(o){return new(o||n)(e.Y36(ke.d),e.Y36(p.F0),e.Y36(Ne.ey),e.Y36(_.FF),e.Y36(C.S),e.Y36(U.K))}}static{this.\u0275cmp=e.Xpm({type:n,selectors:[["app-asset-view-dashboard"]],decls:64,vars:26,consts:[["title","Asset Detail",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card","mt-n4","mx-n4"],[1,"bg-warning-subtle"],[1,"card-body","pb-0","px-4"],[1,"row","mb-3"],[1,"col-md"],[1,"row","align-items-center","g-3"],[1,"col-md-auto"],[1,"avatar-md"],["alt","",1,"avatar-md","rounded-circle","margTo",3,"src","click"],[1,"fw-bold"],[1,"hstack","gap-3","flex-wrap"],[4,"ngIf"],["class","vr",4,"ngIf"],[1,"fw-medium"],[1,"vr"],[1,"d-flex","justify-content-center","align-items-center"],[1,"ri-printer-line","me-1","align-bottom"],[1,"align-bottom"],[1,"badge","rounded-pill","fs-12"],["class","fs-14 text-success",4,"ngIf"],["class","fs-14 text-danger",4,"ngIf"],["ngbNav","","role","tablist",1,"nav","nav-tabs-custom","border-bottom-0",3,"activeId"],["customNav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"col-lg-12","text-end","mb-3"],["class","btn btn-primary ms-3 mb-2 mb-md-0",3,"click",4,"ngIf"],[1,"btn","btn-danger","ms-3","me-3","mb-2","mb-md-0",3,"click"],["type","button",1,"btn","btn-soft-primary","waves-effect",3,"click"],[1,"feather","icon-twitter","btn-icon-prepend"],[1,"fs-14","text-success"],[1,"fs-14","text-danger"],[1,"col-xl-9","col-lg-8","stretch-card"],[1,"card"],[1,"card-body"],[1,"text-muted"],[1,"mb-3","fw-semibold","text-uppercase"],[3,"innerHtml",4,"ngIf"],[1,"pt-3","border-top","border-top-dashed","mt-4"],[1,"col-lg-3","col-sm-6","mb-1"],[1,"mb-2","text-uppercase","fw-medium","fs-13"],[1,"col-lg-3","col-sm-6","mb-2"],[1,"fs-15","mb-0"],["class","pt-3 border-top border-top-dashed mt-4",4,"ngIf"],[1,"col-xl-3","col-lg-4"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"btn","btn-primary",3,"click"],[1,"ri-pencil-fill","align-bottom","me-2"],[1,"mb-3"],[1,"fs-14"],[1,"formfw-bold"],["class","mb-3",4,"ngIf"],[1,"fw-boldl"],[3,"innerHtml"],[1,"row","g-1"],[1,"col-xxl-6","col-lg-6"],[1,"border","rounded","border-dashed","p-2"],[1,"row","g-2","mb-3"],["class","col-lg-3",4,"ngIf"],[1,"col-lg-3"],["alt","",1,"img-fluid","rounded","img-size-fixed",3,"src","click"],[1,"btn","btn-primary","ms-3","mb-2","mb-md-0",3,"click"]],template:function(o,a){if(1&o&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"img",11),e.NdJ("click",function(){return a.open(a.assetDetailsObj.assetImagePath?a.apiUrl+a.assetDetailsObj.assetImagePath:"../../../../../assets/images/placeholderimage.png")}),e.qZA()()(),e.TgZ(12,"div",7)(13,"div")(14,"h4",12),e._uU(15),e.qZA(),e.TgZ(16,"div",13),e.YNc(17,E1,3,1,"div",14)(18,B1,1,0,"div",15),e.TgZ(19,"div"),e._uU(20," Category"),e.TgZ(21,"span",16),e._uU(22),e.qZA()(),e._UZ(23,"div",17),e.TgZ(24,"div"),e._uU(25," Subcategory "),e.TgZ(26,"span",16),e._uU(27),e.qZA()(),e._UZ(28,"div",17),e.TgZ(29,"div",18),e._UZ(30,"i",19),e._uU(31),e.qZA(),e._UZ(32,"div",17),e.TgZ(33,"div",18),e._UZ(34,"i",20),e._uU(35),e.qZA(),e._UZ(36,"div",17),e.TgZ(37,"div",21),e._uU(38),e.qZA(),e._UZ(39,"div",17),e.YNc(40,G1,2,1,"div",22)(41,Y1,2,1,"div",23),e._UZ(42,"div",17),e.TgZ(43,"div")(44,"span"),e._uU(45),e.qZA()()()()()()()(),e.TgZ(46,"ul",24,25)(48,"li",26)(49,"a",27),e._uU(50," Asset Details "),e.qZA(),e.YNc(51,ph,150,29,"ng-template",28),e.qZA()()()()()()(),e.TgZ(52,"div",1)(53,"div",2)(54,"div",29),e._UZ(55,"div",30),e.qZA()(),e.TgZ(56,"div",31),e.YNc(57,_h,2,0,"button",32)(58,uh,2,0,"button",32),e.TgZ(59,"button",33),e.NdJ("click",function(){return a.openModalSucccessWithRemark(a.assetDetailsObj,"Reject")}),e._uU(60," Reject "),e.qZA(),e.TgZ(61,"button",34),e.NdJ("click",function(){return a.onBack()}),e._UZ(62,"i",35),e._uU(63," Back "),e.qZA()()()),2&o){const s=e.MAs(47);e.Q6J("breadcrumbItems",a.breadCrumbItems),e.xp6(11),e.Q6J("src",a.assetDetailsObj.assetImagePath?a.apiUrl+a.assetDetailsObj.assetImagePath:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.Oqu(a.assetDetailsObj.assetName),e.xp6(2),e.Q6J("ngIf",a.assetDetailsObj.assetTagId),e.xp6(1),e.Q6J("ngIf",a.assetDetailsObj.assetTagId),e.xp6(4),e.hij(" ",a.assetDetailsObj.categoryName,""),e.xp6(5),e.hij(" ",a.assetDetailsObj.subCategoryName,""),e.xp6(3),e.Tol(0==a.assetDetailsObj.qrCodePrintCount?"text-danger":"text-success"),e.xp6(1),e.hij("",a.assetDetailsObj.qrCodePrintCount," "),e.xp6(3),e.Tol(a.assetDetailsObj.isLock?"ri-lock-line text-success":" ri-lock-unlock-line text-danger"),e.xp6(1),e.hij("",a.assetDetailsObj.isLock?"Locked":"UnLocked"," "),e.xp6(2),e.Tol("Project"==a.assetDetailsObj.assignType?"bg-primary":"bg-success"),e.xp6(1),e.hij(" ",a.assetDetailsObj.assignType," "),e.xp6(2),e.Q6J("ngIf",1==a.assetDetailsObj.assigned),e.xp6(1),e.Q6J("ngIf",0==a.assetDetailsObj.assigned),e.xp6(3),e.Tol(a.returnStatusBadgeClassesStatus(a.assetDetailsObj.assetStatusId)),e.xp6(1),e.Oqu(a.assetDetailsObj.assetStatus),e.xp6(1),e.Q6J("activeId",a.activeId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(7),e.Q6J("ngbNavOutlet",s),e.xp6(2),e.Q6J("ngIf","Approver"==a.storeApproverType),e.xp6(1),e.Q6J("ngIf","Reviewer"==a.storeApproverType)}},dependencies:[i.O5,_.uN,_.Pz,_.nv,_.Is,_.Vx,_.tO,_.Dy,se.n],styles:[".margTo[_ngcontent-%COMP%]{margin-top:-8px}"]})}}return n})()},{path:"asset-delivered-installed-dashboard",component:st},{path:"dashboard-servicet-order-list",component:Kl},{path:"tech-sigature-ticket-list",component:rc},{path:"waiting-for-generate-invoice-list",component:t_},{path:"schedule-list-adminandclient",component:g_},{path:"schedule-detail-signature-adminandclient",component:cu},{path:"",pathMatch:"full",redirectTo:"help-desk-dashboard"}];let mh=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.oAB({type:n})}static{this.\u0275inj=e.cJS({imports:[p.Bz.forChild(gh),p.Bz]})}}return n})();var hh=h(6802),bh=h(4647),fh=h(5223),Th=h(662),vh=h(5904),Ch=h.n(vh),xh=h(6208),kh=h(6250),wh=h(3187),lt=h(2150);let Dh=(()=>{class n{constructor(){(0,Th.N)(Ch().loadAnimation)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.oAB({type:n})}static{this.\u0275inj=e.cJS({providers:[{provide:ce.W7,useClass:R.Y4},i.uU],imports:[i.ez,mh,f.u5,f.UX,_.HK,_.ZQ,I.m,_.aE,lt.UO,_.XC,_.Oz,j.X,K.JT.forRoot(),_.jF,N.p.pick(hh.kEt),rt.t,bh.d,K.JT,fh.Ti,fe.A0,xh.m,_.ZS,kh.QuotationModule,wh.ServiceOrderModule,lt.UO,_.jF,R.Y4,Ne.QM,R.b6]})}}return n})()},2373:(xe,re,h)=>{h.d(re,{n:()=>de});var i=h(9212),p=h(553),Q=h(6223),e=h(3519),d=h.n(e),J=h(2857),c=h(5143),R=h(7291),C=h(3828),v=h(7625),$=h(6814),F=h(4807);function U(b,y){1&b&&(i.ynx(0),i.TgZ(1,"h6",6),i._uU(2,"No Asset Found"),i.qZA(),i.BQk())}function ce(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(3).$implicit,X=i.oxw(2),Te=i.MAs(10);return i.KtG(X.confirm(Te,q.ticketItemId))}),i._UZ(1,"i",28),i._uU(2," Delete "),i.qZA()}}function pe(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"button",30),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(4).$implicit,X=i.oxw(2),Te=i.MAs(8);return i.KtG(X.updateAsset(Te,q))}),i._UZ(1,"i",31),i._uU(2," Update "),i.qZA()}}function be(b,y){if(1&b&&(i.ynx(0),i.YNc(1,pe,3,0,"button",29),i.BQk()),2&b){const m=i.oxw(5);i.xp6(1),i.Q6J("ngIf",!!m.mX_WorkOder&&2!=(null==m.mX_WorkOder?null:m.mX_WorkOder.woStatusId))}}function V(b,y){if(1&b&&(i.ynx(0),i.YNc(1,ce,3,0,"button",26)(2,be,2,1,"ng-container",3),i.BQk()),2&b){const m=i.oxw(4);i.xp6(1),i.Q6J("ngIf",30==m.ticketData[0].ticketStatusId),i.xp6(1),i.Q6J("ngIf",48!=m.ticketData[0].ticketStatusId)}}function z(b,y){1&b&&(i.ynx(0),i._UZ(1,"p",32)(2,"br"),i.BQk())}function f(b,y){if(1&b&&(i.TgZ(0,"div",25),i.YNc(1,V,3,2,"ng-container",3)(2,z,3,0,"ng-container",3),i.qZA()),2&b){const m=i.oxw().$implicit,Z=i.oxw(2);i.xp6(1),i.Q6J("ngIf",Z.returnHeaderShownByTicketStatusId(m.ticketItemStatusId)),i.xp6(1),i.Q6J("ngIf",!Z.returnHeaderShownByTicketStatusId(m.ticketItemStatusId))}}function _(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"img",42),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(3).$implicit,X=i.oxw(2);return i.KtG(X.open_new(q.imageAll,X.imageUrl+q.techIMGURL1))}),i.qZA()}if(2&b){const m=i.oxw(3).$implicit,Z=i.oxw(2);i.Q6J("src",m.techIMGURL1?Z.imageUrl+m.techIMGURL1:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function j(b,y){if(1&b&&(i.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40),i.YNc(5,_,1,1,"img",41),i.qZA()()()()()),2&b){const m=i.oxw(2).$implicit;i.xp6(5),i.Q6J("ngIf",m.techIMGURL1)}}function K(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"img",42),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(3).$implicit,X=i.oxw(2);return i.KtG(X.open_new(q.imageAll,X.imageUrl+q.techIMGURL2))}),i.qZA()}if(2&b){const m=i.oxw(3).$implicit,Z=i.oxw(2);i.Q6J("src",m.techIMGURL2?Z.imageUrl+m.techIMGURL2:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function se(b,y){if(1&b&&(i.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40),i.YNc(5,K,1,1,"img",41),i.qZA()()()()()),2&b){const m=i.oxw(2).$implicit;i.xp6(5),i.Q6J("ngIf",m.techIMGURL2)}}function Y(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"img",42),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(3).$implicit,X=i.oxw(2);return i.KtG(X.open_new(q.imageAll,X.imageUrl+q.techIMGURL3))}),i.qZA()}if(2&b){const m=i.oxw(3).$implicit,Z=i.oxw(2);i.Q6J("src",m.techIMGURL3?Z.imageUrl+m.techIMGURL3:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function I(b,y){if(1&b&&(i.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40),i.YNc(5,Y,1,1,"img",41),i.qZA()()()()()),2&b){const m=i.oxw(2).$implicit;i.xp6(5),i.Q6J("ngIf",m.techIMGURL3)}}function N(b,y){if(1&b&&(i.TgZ(0,"div",43)(1,"div")(2,"h5",44),i._uU(3,"Remark:"),i.qZA(),i.TgZ(4,"p",45),i._uU(5),i.qZA()()()),2&b){const m=i.oxw(2).$implicit;i.xp6(5),i.Oqu(m.technitionRemark)}}function D(b,y){if(1&b&&(i.TgZ(0,"div",33),i.YNc(1,j,6,1,"div",34)(2,se,6,1,"div",34)(3,I,6,1,"div",34)(4,N,6,1,"div",35),i.qZA()),2&b){const m=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf",m.techIMGURL1),i.xp6(1),i.Q6J("ngIf",m.techIMGURL2),i.xp6(1),i.Q6J("ngIf",m.techIMGURL3),i.xp6(1),i.Q6J("ngIf",m.technitionRemark)}}function E(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"div",14)(1,"div"),i.YNc(2,f,3,2,"div",15),i.TgZ(3,"div",16)(4,"div",17)(5,"div",18)(6,"img",19),i.NdJ("click",function(){const X=i.CHM(m).$implicit,Te=i.oxw(2);return i.KtG(Te.open(Te.imageUrl+X.reqIMGURL))}),i.qZA()(),i.TgZ(7,"div",20)(8,"a",21)(9,"h6",22),i._uU(10),i.qZA()(),i.TgZ(11,"p",23),i._uU(12),i.qZA(),i.TgZ(13,"div"),i._uU(14),i.qZA()()(),i.YNc(15,D,5,4,"div",24),i.qZA()()()}if(2&b){const m=y.$implicit,Z=i.oxw(2);i.xp6(1),i.Gre("card profile-project-card shadow-none profile-project-",Z.getBorderBagde(m.ticketItemStatusId),""),i.xp6(1),i.Q6J("ngIf",Z.returnHeaderShownByTicket(Z.ticketData[0])&&Z.returnHeaderShownByTicketStatusId(m.ticketItemStatusId)),i.xp6(4),i.hYB("src","",Z.imageUrl,"",m.reqIMGURL,"",i.LSH),i.xp6(4),i.hij(" ",m.assetName," "),i.xp6(2),i.hij(" #",m.assetTagId," "),i.xp6(1),i.Tol(Z.commonFunctionService.returnStatusBadgeClasses(m.ticketItemStatusId)),i.xp6(1),i.hij(" ",m.ticketItemStatusName," "),i.xp6(1),i.Q6J("ngIf",m.techIMGURL1||m.techIMGURL2||m.techIMGURL3)}}function B(b,y){1&b&&(i._UZ(0,"i",49),i._uU(1," Prev "))}function le(b,y){1&b&&(i._uU(0," Next "),i._UZ(1,"i",50))}function we(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"ngb-pagination",46),i.NdJ("pageChange",function(q){i.CHM(m);const X=i.oxw(2);return i.KtG(X.page=q)})("pageChange",function(){i.CHM(m);const q=i.oxw(2);return i.KtG(q.getLocalPagination())}),i.YNc(1,B,2,0,"ng-template",47)(2,le,2,0,"ng-template",48),i.qZA()}if(2&b){const m=i.oxw(2);i.Q6J("collectionSize",m.collectionSize)("page",m.page)("pageSize",m.pageSize)}}function Ze(b,y){if(1&b&&(i.ynx(0),i.YNc(1,E,16,12,"div",7),i.TgZ(2,"div",8),i._UZ(3,"hr"),i.TgZ(4,"div",9)(5,"div",10)(6,"div",11),i._uU(7),i.qZA()(),i.TgZ(8,"div",10)(9,"div",12),i.YNc(10,we,3,3,"ngb-pagination",13),i.qZA()()()(),i.BQk()),2&b){const m=i.oxw();i.xp6(1),i.Q6J("ngForOf",m.filteredList),i.xp6(6),i.lnq(" Showing ",m.from," to ",m.to," of ",m.totalRecords," entries "),i.xp6(3),i.Q6J("ngIf",m.totalRecords>m.pageSize)}}function Ie(b,y){1&b&&(i.TgZ(0,"small",83),i._uU(1," Asset Status is Required "),i.qZA())}function _e(b,y){if(1&b&&(i.TgZ(0,"div"),i.YNc(1,Ie,2,0,"small",82),i.qZA()),2&b){const m=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==m.status||null==m.status.errors?null:m.status.errors.required)}}function ve(b,y){1&b&&(i.TgZ(0,"small",83),i._uU(1," Remark is Required "),i.qZA())}function ue(b,y){if(1&b&&(i.TgZ(0,"div"),i.YNc(1,ve,2,0,"small",82),i.qZA()),2&b){const m=i.oxw(2);i.xp6(1),i.Q6J("ngIf",null==m.remark||null==m.remark.errors?null:m.remark.errors.required)}}function ge(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"label",84)(1,"div",85)(2,"div",86)(3,"i",87),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(2);return i.KtG(q.crossSecondImage(q.imageOneUrl))}),i.qZA()()()()}}function me(b,y){1&b&&(i.TgZ(0,"label",88)(1,"div",85)(2,"div",86),i._UZ(3,"i",89),i.qZA()()())}function Se(b,y){1&b&&(i.TgZ(0,"label",90)(1,"div",85)(2,"div",86),i._UZ(3,"i",89),i.qZA()()())}function oe(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"label",84)(1,"div",85)(2,"div",86)(3,"i",87),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(2);return i.KtG(q.crossSecondImage(q.imageTwoUrl))}),i.qZA()()()()}}function ke(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"label",84)(1,"div",85)(2,"div",86)(3,"i",87),i.NdJ("click",function(){i.CHM(m);const q=i.oxw(2);return i.KtG(q.crossThirdImage(q.imageThreeUrl))}),i.qZA()()()()}}function he(b,y){1&b&&(i.TgZ(0,"label",91)(1,"div",85)(2,"div",86),i._UZ(3,"i",89),i.qZA()()())}function fe(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"div",51)(1,"h6",52),i._uU(2," Update Asset"),i._UZ(3,"br"),i.TgZ(4,"span",53),i._uU(5),i.qZA()(),i.TgZ(6,"button",54),i.NdJ("click",function(){const X=i.CHM(m).$implicit;return i.KtG(X.dismiss("Cross click"))}),i.TgZ(7,"span",55),i._uU(8,"\xd7"),i.qZA()()(),i.TgZ(9,"div",56)(10,"form",57)(11,"div",2)(12,"div",58)(13,"div",59)(14,"label",60),i._uU(15,"Asset Status "),i.TgZ(16,"span",61),i._uU(17,"*"),i.qZA()(),i._UZ(18,"ng-select",62),i.YNc(19,_e,2,1,"div",3),i.qZA()(),i.TgZ(20,"div",63)(21,"div",59)(22,"label",60),i._uU(23,"Remark "),i.TgZ(24,"span",61),i._uU(25,"*"),i.qZA()(),i._UZ(26,"textarea",64),i.TgZ(27,"label",65),i._uU(28),i.qZA(),i.YNc(29,ue,2,1,"div",3),i.qZA()(),i.TgZ(30,"div",63)(31,"label",60),i._uU(32,"Image"),i.qZA(),i.TgZ(33,"div",66)(34,"div",36)(35,"div",67)(36,"div",38)(37,"div",68),i.YNc(38,ge,4,0,"label",69)(39,me,4,0,"label",70),i.TgZ(40,"input",71),i.NdJ("change",function(q){i.CHM(m);const X=i.oxw();return i.KtG(X.onSelectFirstFile(q))}),i.qZA()(),i.TgZ(41,"div",72)(42,"div",73)(43,"img",74),i.NdJ("click",function(){i.CHM(m);const q=i.oxw();return i.KtG(q.open(q.imageOneUrl))}),i.qZA()()()()()(),i.TgZ(44,"div",36)(45,"div",67)(46,"div",38)(47,"div",68),i.YNc(48,Se,4,0,"label",75)(49,oe,4,0,"label",69),i.TgZ(50,"input",76),i.NdJ("change",function(q){i.CHM(m);const X=i.oxw();return i.KtG(X.onSelectSecondFile(q))}),i.qZA()(),i.TgZ(51,"div",72)(52,"div",73)(53,"img",74),i.NdJ("click",function(){i.CHM(m);const q=i.oxw();return i.KtG(q.open(q.imageTwoUrl))}),i.qZA()()()()()(),i.TgZ(54,"div",36)(55,"div",67)(56,"div",38)(57,"div",68),i.YNc(58,ke,4,0,"label",69)(59,he,4,0,"label",77),i.TgZ(60,"input",78),i.NdJ("change",function(q){i.CHM(m);const X=i.oxw();return i.KtG(X.onSelectThirdFile(q))}),i.qZA()(),i.TgZ(61,"div",72)(62,"div",73)(63,"img",74),i.NdJ("click",function(){i.CHM(m);const q=i.oxw();return i.KtG(q.open(q.imageThreeUrl))}),i.qZA()()()()()()()()()()(),i.TgZ(64,"div",79)(65,"div")(66,"button",80),i.NdJ("click",function(){i.CHM(m);const q=i.oxw();return i.KtG(q.Submit())}),i._uU(67," Update "),i.qZA(),i.TgZ(68,"button",81),i.NdJ("click",function(){const X=i.CHM(m).$implicit;return i.KtG(X.dismiss("Cross click"))}),i._uU(69," Cancel "),i.qZA()()()}if(2&b){const m=i.oxw();i.xp6(5),i.hij("(",m.listData.assetName,")"),i.xp6(5),i.Q6J("formGroup",m.formGroup),i.xp6(8),i.Q6J("items",m.assetStatusList)("clearable",!1),i.xp6(1),i.Q6J("ngIf",(null==m.status?null:m.status.invalid)&&(null==m.status?null:m.status.touched)),i.xp6(9),i.AsE(" Characters Remaining: ",null==m.remark||null==m.remark.value?null:m.remark.value.length,"/",m.maxCharsDecision,""),i.xp6(1),i.Q6J("ngIf",(null==m.remark?null:m.remark.invalid)&&(null==m.remark?null:m.remark.touched)),i.xp6(9),i.Q6J("ngIf",m.isSecondImageVisible),i.xp6(1),i.Q6J("ngIf",!m.isSecondImageVisible),i.xp6(4),i.s9C("src",m.imageOneUrl,i.LSH),i.xp6(5),i.Q6J("ngIf",!m.isSecondImageVisible),i.xp6(1),i.Q6J("ngIf",m.isSecondImageVisible),i.xp6(4),i.s9C("src",m.imageTwoUrl,i.LSH),i.xp6(5),i.Q6J("ngIf",m.isThirdImageVisible),i.xp6(1),i.Q6J("ngIf",!m.isThirdImageVisible),i.xp6(4),i.s9C("src",m.imageThreeUrl,i.LSH),i.xp6(3),i.Q6J("disabled",m.formGroup.invalid)}}function M(b,y){if(1&b){const m=i.EpF();i.TgZ(0,"div",92)(1,"div",93)(2,"button",94),i.NdJ("click",function(){const X=i.CHM(m).$implicit;return i.KtG(X.dismiss("Cross click"))}),i.qZA()(),i.TgZ(3,"div",56)(4,"div",95),i._UZ(5,"lord-icon",96),i.TgZ(6,"div",97)(7,"h4"),i._uU(8,"You are about to delete a Asset ?"),i.qZA(),i.TgZ(9,"p",98),i._uU(10," Deleting the Asset from Ticket list. "),i.qZA()()(),i.TgZ(11,"div",99)(12,"button",100),i.NdJ("click",function(){const X=i.CHM(m).$implicit;return i.KtG(X.close("Close click"))}),i._UZ(13,"i",101),i._uU(14," Close "),i.qZA(),i.TgZ(15,"button",102),i.NdJ("click",function(){i.CHM(m);const q=i.oxw();return i.KtG(q.deleteData(q.deleteId))})("click",function(){const X=i.CHM(m).$implicit;return i.KtG(X.close("Close click"))}),i._uU(16," Yes, Delete It! "),i.qZA()()()()}}let de=(()=>{class b{constructor(m,Z,q,X,Te,qe){this.commonFunctionService=m,this.ticketService=Z,this.modalService=q,this.formBuilder=X,this.authService=Te,this.lightbox=qe,this.assetList=[],this.ticketData=[],this.mX_WorkOder={},this.updateStatusAssetList=new i.vpe,this.maxCharsDecision=300,this.filteredList=[],this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.imageUrl=p.N.apiUrl,this.assetStatusList=[],this.isFirstImageVisible=!1,this.isSecondImageVisible=!1,this.isThirdImageVisible=!1}ngOnInit(){}ngOnChanges(m){console.log("ticketData",this.ticketData),0!=this.assetList.length&&(this.totalRecords=this.assetList.length,this.filteredList=this.assetList,this.filteredList.forEach(Z=>{Z.imageAll=[],Z.imageAll.push(Z.techIMGURL1?this.imageUrl+Z.techIMGURL1:null,Z.techIMGURL2?this.imageUrl+Z.techIMGURL2:null,Z.techIMGURL3?this.imageUrl+Z.techIMGURL3:null)}),this.collectionSize=this.filteredList.length,this.getLocalPagination()),this.imageOneUrl="../../../../../assets/images/placeholderimage.png",this.imageTwoUrl="../../../../../assets/images/placeholderimage.png",this.imageThreeUrl="../../../../../assets/images/placeholderimage.png",this.buildForm(),this.getAssetStatus("TicketAssetStatus")}getBorderBagde(m){return this.commonFunctionService.returnAssetStatusBorderAndBadgeClasses(m)}getLocalPagination(){this.filteredList=this.assetList.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.to=this.page*this.pageSize>this.assetList.length?this.assetList.length:this.page*this.pageSize;let m=this.page*this.pageSize-(this.pageSize-1);this.from=m<1?1:m,this.from=0==this.assetList.length?0:this.from}updateAsset(m,Z){this.imageOneUrl="../../../../../assets/images/placeholderimage.png",this.imageTwoUrl="../../../../../assets/images/placeholderimage.png",this.imageThreeUrl="../../../../../assets/images/placeholderimage.png",this.isFirstImageVisible=!1,this.isSecondImageVisible=!1,this.isThirdImageVisible=!1,this.buildForm(),this.listData=Z,this.modalService.open(m,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(q=>{this.formGroup.reset()},q=>{this.formGroup.reset()})}getAssetStatus(m){this.ticketService.getMaintenanceStatus(m).subscribe(Z=>{this.assetStatusList=Z},Z=>{})}onSelectFirstFile(m){if(m.target.files&&m.target.files[0]){let q=new FileReader;q.readAsDataURL(m.target.files[0]),q.onload=X=>{this.imageOneUrl=X.target.result,this.isFirstImageVisible=!0}}}onSelectSecondFile(m){if(m.target.files&&m.target.files[0]){let q=new FileReader;q.readAsDataURL(m.target.files[0]),q.onload=X=>{this.imageTwoUrl=X.target.result,this.isSecondImageVisible=!0}}}onSelectThirdFile(m){if(m.target.files&&m.target.files[0]){let q=new FileReader;q.readAsDataURL(m.target.files[0]),q.onload=X=>{this.imageThreeUrl=X.target.result,this.isThirdImageVisible=!0}}}crossFirstImage(m){m&&(this.imageOneUrl="../../../../../assets/images/placeholderimage.png",this.isFirstImageVisible=!1)}crossSecondImage(m){m&&(this.imageTwoUrl="../../../../../assets/images/placeholderimage.png",this.isSecondImageVisible=!1)}crossThirdImage(m){m&&(this.imageTwoUrl="../../../../../assets/images/placeholderimage.png",this.isThirdImageVisible=!1)}Submit(){if(this.formGroup.valid){let m=this.formGroup.value;const Z=this.assetStatusList.find(q=>q.assetStatusId===m.status);this.payload={TicketItemId:this.listData?.ticketItemId,TicketItemStatusId:Z?.assetStatusId,TicketItemStatusName:Z?.assetStatus,TechnitionRemark:m?.remark},"../../../../../assets/images/placeholderimage.png"!=this.imageOneUrl&&(this.payload.TechIMGURL1Base64=this.imageOneUrl?this.imageOneUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),"../../../../../assets/images/placeholderimage.png"!=this.imageTwoUrl&&(this.payload.TechIMGURL2Base64=this.imageTwoUrl?this.imageTwoUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),"../../../../../assets/images/placeholderimage.png"!=this.imageThreeUrl&&(this.payload.TechIMGURL3Base64=this.imageThreeUrl?this.imageThreeUrl.replace(/^data:image\/[a-z]+;base64,/,""):null),this.updateAssetDetail()}}updateAssetDetail(){this.ticketService.updateAsset(this.payload).subscribe(m=>{this.modalService.dismissAll(),this.formGroup.reset(),this.success(m),this.updateStatusAssetList.emit(m)})}buildForm(){this.formGroup=this.formBuilder.group({status:[null,[Q.kI.required]],remark:["",[Q.kI.required]],picOne:[""],picTwo:[""],picThree:[""]})}get status(){return this.formGroup.get("status")}get remark(){return this.formGroup.get("remark")}get picOne(){return this.formGroup.get("picOne")}get picTwo(){return this.formGroup.get("picTwo")}get picThree(){return this.formGroup.get("picThree")}success(m){d().fire({toast:!0,position:"top-end",icon:"success",title:m.message,showConfirmButton:!1,timer:3e3})}returnHeaderShownByTicket(m){return"Client User"!=this.authService.getRole()&&31!=m.ticketStatusId&&32!=m.ticketStatusId&&19!=m.ticketStatusId&&34!=m.ticketStatusId}returnHeaderShownByTicketStatusId(m){return!("Client User"===this.authService.getRole()||"Basic Service Page"!=this.ticketService.ticketPageAction&&"Basic Ticket Page"!=this.ticketService.ticketPageAction&&"Software Support Dashboard Page"!=this.ticketService.ticketPageAction||45!=m&&38!=m&&39!=m)}confirm(m,Z){this.deleteId=Z,this.modalService.open(m,{centered:!0})}deleteData(m){this.ticketService.deletedAssetTicketByTech({TicketItemId:m}).subscribe(q=>{this.success(q),this.updateStatusAssetList.emit(q)})}goBack(){}open_new(m,Z){let q=[],X=0;if(m.forEach(Te=>{Te&&q.push({src:Te,caption:"",thumb:"thumb"})}),0!=q.length)for(let Te=0;Te<=q.length;Te++)if(q[Te].src==Z){X=Te;break}console.log(q,X,"_albums, index"),this.lightbox.open(q,X,{wrapAround:!0,showImageNumberLabel:!0,showRotate:!0})}open(m){let q=[];q.push({src:m,caption:"",thumb:"thumb"}),this.lightbox.open(q)}static{this.\u0275fac=function(Z){return new(Z||b)(i.Y36(J.K),i.Y36(c.w),i.Y36(R.FF),i.Y36(Q.qu),i.Y36(C.u),i.Y36(v.ey))}}static{this.\u0275cmp=i.Xpm({type:b,selectors:[["app-view-asset-ticket"]],inputs:{assetList:"assetList",ticketData:"ticketData",mX_WorkOder:"mX_WorkOder"},outputs:{updateStatusAssetList:"updateStatusAssetList"},features:[i.TTD],decls:11,vars:2,consts:[[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"card-title","mb-0"],[1,"row"],[4,"ngIf"],["updatePopup",""],["deleteModel",""],[1,"card-title","fs-17"],["class","col-xxl-3 col-sm-6 stretch-card",4,"ngFor","ngForOf"],[1,"col-lg-12"],[1,"row","justify-content-md-between","align-items-md-center","pb-3","mt-4"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2","mt-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","pageChange",4,"ngIf"],[1,"col-xxl-3","col-sm-6","stretch-card"],["class","card-header text-end p-1",4,"ngIf"],[1,"card-body","p-3"],[1,"d-flex","mb-2"],[1,"flex-shrink-0"],["alt","","height","50",1,"rounded",3,"src","click"],[1,"flex-grow-1","ms-3","overflow-hidden"],["href","javascript:void(0);"],[1,"fs-14","mb-0"],[1,"text-primary","fw-bold","mb-0","fs-12"],["class","row border-top border-top-dashed p-2 mt-1",4,"ngIf"],[1,"card-header","text-end","p-1"],["class","btn btn-danger btn-sm me-2",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-sm","me-2",3,"click"],[1,"ri-delete-bin-6-line","align-bottom","me-1"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"ri-edit-2-line","align-bottom","me-1"],[1,"mb-2"],[1,"row","border-top","border-top-dashed","p-2","mt-1"],["class","col-md-4",4,"ngIf"],["class","col-md-12 d-flex align-items-center",4,"ngIf"],[1,"col-md-4"],[1,"mb-1"],[1,"position-relative","d-inline-block"],[1,"avatar-xs-galy"],[1,"avatar-title","rounded"],["id","product-img","class","avatar-xs-galy",3,"src","click",4,"ngIf"],["id","product-img",1,"avatar-xs-galy",3,"src","click"],[1,"col-md-12","d-flex","align-items-center"],[1,"fs-12","text-muted","mb-0"],[1,"text-muted","mb-0"],[3,"collectionSize","page","pageSize","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header","bg-info-subtle","d-flex","align-items-baseline"],[1,"card-title","mb-2"],[1,"fs-10","text-muted"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup"],[1,"col-md-12"],[1,"form-group"],[1,"control-label"],[2,"color","red"],["bindLabel","assetStatus","bindValue","assetStatusId","placeholder","Select Status","formControlName","status",1,"custom",3,"items","clearable"],[1,"col-md-12","mt-2"],["type","text","placeholder","Enter Remark Here...","maxlength","300","formControlName","remark","rows","7",1,"form-control"],[1,"nopadding","clrlbl"],[1,"row","justify-content-center"],[1,"mb-3"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","picOne","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","picOne","value","","id","picOne","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-xs","img-size-fixed",3,"src","click"],["for","picTwo","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","picTwo","value","","id","picTwo","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],["for","picThree","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","picThree","value","","id","picThree","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"modal-footer"],[1,"btn","btn-primary","me-2","mb-2","mb-md-0",3,"disabled","click"],[1,"btn","btn","btn-outline-danger","me-2","mb-2","mb-md-0",3,"click"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","picOne","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],["for","picTwo","placement","left","ngbTooltip","Select Image",1,"mb-0"],["for","picThree","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(Z,q){1&Z&&(i.TgZ(0,"div",0)(1,"div")(2,"h6",1),i._uU(3,"Asset List"),i.qZA()()(),i.TgZ(4,"div",2),i.YNc(5,U,3,0,"ng-container",3)(6,Ze,11,5,"ng-container",3),i.qZA(),i.YNc(7,fe,70,18,"ng-template",null,4,i.W1O)(9,M,17,0,"ng-template",null,5,i.W1O)),2&Z&&(i.xp6(5),i.Q6J("ngIf",0==q.filteredList.length),i.xp6(1),i.Q6J("ngIf",0!=q.filteredList.length))},dependencies:[$.sg,$.O5,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.nD,Q.sg,Q.u,R._L,R.N9,R.GZ,R.ju,F.w9],styles:[".avatar-xs-galy[_ngcontent-%COMP%]{height:5rem!important;width:5rem!important}.avatar-title[_ngcontent-%COMP%]{align-items:center;background-color:transparent!important}"]})}}return b})()},8210:(xe,re,h)=>{h.d(re,{a:()=>Qe});var i=h(9212),p=h(553),Q=h(6223),e=h(7930),d=h(3519),J=h.n(d),c=h(7291),R=h(471),C=h(2857),v=h(6814),$=h(4647),F=h(2341);function U(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"label",34)(1,"div",35)(2,"div",36)(3,"i",37),i.NdJ("click",function(){i.CHM(T);const x=i.oxw();return i.KtG(x.crossFirstImage(x.tech_img0))}),i.qZA()()()()}}function ce(S,ie){1&S&&(i.TgZ(0,"label",38)(1,"div",35)(2,"div",36),i._UZ(3,"i",39),i.qZA()()())}function pe(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"label",34)(1,"div",35)(2,"div",36)(3,"i",37),i.NdJ("click",function(){i.CHM(T);const x=i.oxw();return i.KtG(x.crossSecondImage(x.tech_img1))}),i.qZA()()()()}}function be(S,ie){1&S&&(i.TgZ(0,"label",40)(1,"div",35)(2,"div",36),i._UZ(3,"i",39),i.qZA()()())}function V(S,ie){1&S&&(i.TgZ(0,"label",41)(1,"div",35)(2,"div",36),i._UZ(3,"i",39),i.qZA()()())}function z(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"label",34)(1,"div",35)(2,"div",36)(3,"i",37),i.NdJ("click",function(){i.CHM(T);const x=i.oxw();return i.KtG(x.crossThirdImage(x.tech_img2))}),i.qZA()()()()}}function f(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"label",34)(1,"div",35)(2,"div",36)(3,"i",37),i.NdJ("click",function(){i.CHM(T);const x=i.oxw();return i.KtG(x.crossFourthImage(x.tech_img3))}),i.qZA()()()()}}function _(S,ie){1&S&&(i.TgZ(0,"label",42)(1,"div",35)(2,"div",36),i._UZ(3,"i",39),i.qZA()()())}function j(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"button",43),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(),ne=i.MAs(70);return i.KtG(x.openUpdateModal(ne))}),i._uU(1," Submit "),i.qZA()}if(2&S){const T=i.oxw();i.Q6J("disabled",T.addTech.invalid||"../../../../../assets/images/placeholderimage.png"===T.tech_img0&&"../../../../../assets/images/placeholderimage.png"===T.tech_img1&&"../../../../../assets/images/placeholderimage.png"===T.tech_img2&&"../../../../../assets/images/placeholderimage.png"===T.tech_img3)}}function K(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",44)(1,"div",45)(2,"div",46)(3,"button",47),i.NdJ("click",function(){const ne=i.CHM(T).$implicit;return i.KtG(ne.dismiss("Cross click"))}),i.qZA()(),i.TgZ(4,"div",48)(5,"div",49),i._UZ(6,"lord-icon",50),i.qZA(),i.TgZ(7,"h4",51),i._uU(8," Are you sure you want to proceed and confirm the document's signature? "),i.qZA(),i.TgZ(9,"p",52),i._uU(10," The Incident report service order has been successfully completed, and the associated ticket is now in 'Resolve' status. "),i.qZA(),i._UZ(11,"br"),i.TgZ(12,"p",52),i._uU(13," The next step is to escalate the issue to the client for their signature on the incident report. Once the member/project manager signs the incident report, please be aware that this action is irreversible. "),i.qZA(),i._UZ(14,"br")(15,"br"),i.TgZ(16,"div",53)(17,"button",54),i.NdJ("click",function(x){const ae=i.CHM(T).$implicit;return i.KtG(ae.close("Ok",x))}),i._uU(18," Yes, Proceed! "),i.qZA(),i.TgZ(19,"button",55),i.NdJ("click",function(){const ne=i.CHM(T).$implicit;return i.KtG(ne.dismiss("Cross click"))}),i._uU(20," Cancel "),i.qZA()()()()()}}const se=()=>["heading","|","bold","italic","|","NumberedList","BulletedList"],Y=S=>({toolbar:S});let I=(()=>{class S{constructor(T,L,x,ne,ae){this.modal=T,this.formBuilder=L,this.helpDeskService=x,this.modalService=ne,this.commonFunctionService=ae,this.signtaureData=null,this.Editor=e,this.editorHeight="300px",this.isFirstImageVisible=!1,this.isSecondImageVisible=!1,this.isThirdImageVisible=!1,this.isFourthImageVisible=!1}ngOnChanges(T){this.getfromBinding()}ngOnInit(){this.getfromBinding()}passBack(T){this.modal.dismiss(T)}getfromBinding(){this.tech_img0=this.default_tech_img0="../../../../../assets/images/placeholderimage.png",this.tech_img1=this.default_tech_img1="../../../../../assets/images/placeholderimage.png",this.tech_img2=this.default_tech_img2="../../../../../assets/images/placeholderimage.png",this.tech_img3=this.default_tech_img3="../../../../../assets/images/placeholderimage.png",this.addTech=this.formBuilder.group({editorText:[null,Q.kI.required],techImageURL:[],techImageURL1:[],techImageURL2:[],techImageURL3:[]})}get editorText(){return this.addTech.get("editorText")}get techImageURL(){return this.addTech.get("techImageURL")}get techImageURL1(){return this.addTech.get("techImageURL1")}get techImageURL2(){return this.addTech.get("techImageURL2")}get techImageURL3(){return this.addTech.get("techImageURL3")}crossFirstImage(T){T&&(this.tech_img0="../../../../../assets/images/placeholderimage.png",this.isFirstImageVisible=!1,this.resetFileInput("tech_id0"))}crossSecondImage(T){T&&(this.tech_img1="../../../../../assets/images/placeholderimage.png",this.isSecondImageVisible=!1,this.resetFileInput("tech_id1"))}crossThirdImage(T){T&&(this.tech_img2="../../../../../assets/images/placeholderimage.png",this.isThirdImageVisible=!1,this.resetFileInput("tech_id2"))}crossFourthImage(T){T&&(this.tech_img3="../../../../../assets/images/placeholderimage.png",this.isFourthImageVisible=!1,this.resetFileInput("tech_id3"))}resetFileInput(T){const L=document.getElementById(T);L&&(L.value="")}onSelectFile(T){if(T.target.files&&T.target.files[0]){var L=new FileReader;L.onload=ae=>{this.tech_img0=ae.target.result,this.isFirstImageVisible=!0},L.onerror=()=>{this.tech_img0=this.default_tech_img0,this.techImageURL.setValue("")},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(T.target.files[0].type)?L.readAsDataURL(T.target.files[0]):(this.tech_img0=this.default_tech_img0,this.techImageURL.setValue(""))}else this.tech_img0=this.default_tech_img0,this.techImageURL.setValue("")}onSelectFile2(T){if(T.target.files&&T.target.files[0]){var L=new FileReader;L.onload=ae=>{this.tech_img2=ae.target.result,this.isThirdImageVisible=!0},L.onerror=()=>{this.tech_img2=this.default_tech_img2,this.techImageURL2.setValue("")},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(T.target.files[0].type)?L.readAsDataURL(T.target.files[0]):(this.tech_img2=this.default_tech_img2,this.techImageURL2.setValue(""))}else this.tech_img2=this.default_tech_img2,this.techImageURL2.setValue("")}onSelectFile1(T){if(T.target.files&&T.target.files[0]){var L=new FileReader;L.onload=ae=>{this.tech_img1=ae.target.result,this.isSecondImageVisible=!0},L.onerror=()=>{this.tech_img1=this.default_tech_img1,this.techImageURL1.setValue("")},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(T.target.files[0].type)?L.readAsDataURL(T.target.files[0]):(this.tech_img1=this.default_tech_img1,this.techImageURL1.setValue(""))}else this.tech_img1=this.default_tech_img1,this.techImageURL1.setValue("")}onSelectFile3(T){if(T.target.files&&T.target.files[0]){var L=new FileReader;L.onload=ae=>{this.tech_img3=ae.target.result,this.isFourthImageVisible=!0},L.onerror=()=>{this.tech_img3=this.default_tech_img3,this.techImageURL3.setValue("")},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(T.target.files[0].type)?L.readAsDataURL(T.target.files[0]):(this.tech_img3=this.default_tech_img3,this.techImageURL3.setValue(""))}else this.tech_img3=this.default_tech_img3,this.techImageURL3.setValue("")}getSignData(T){this.signtaureData=T?T&&T.split(",")[1]:null}updateV2_SignatureTech(){let T={IncidentId:this.incidentList.incidentId,IncidentRemark:this.editorText.value,TecgUpdatemage1URLBase64:"../../../../../assets/images/placeholderimage.png"!=this.tech_img0?this.tech_img0.split(",")[1]:null,TecgUpdatemage2URLBase64:"../../../../../assets/images/placeholderimage.png"!=this.tech_img1?this.tech_img1.split(",")[1]:null,TecgUpdatemage3URLBase64:"../../../../../assets/images/placeholderimage.png"!=this.tech_img2?this.tech_img2.split(",")[1]:null,TecgUpdatemage4URLBase64:"../../../../../assets/images/placeholderimage.png"!=this.tech_img3?this.tech_img3.split(",")[1]:null,IncindetTechSignDateTimeBase64:this.signtaureData};this.helpDeskService.updateV2_SignatureTech(this.commonFunctionService.clean(T)).subscribe(L=>{this.passBack(L)})}openUpdateModal(T){"../../../../../assets/images/placeholderimage.png"!=this.tech_img0?this.modalService.open(T,{backdrop:"static",keyboard:!1,centered:!0}).result.then(L=>{this.updateV2_SignatureTech()},L=>{}):this.waring("Please select  First image required ")}waring(T){J().fire({toast:!0,position:"top-end",icon:"warning",title:T,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(L){return new(L||S)(i.Y36(c._B),i.Y36(Q.qu),i.Y36(R.S),i.Y36(c.FF),i.Y36(C.K))}}static{this.\u0275cmp=i.Xpm({type:S,selectors:[["app-signature-tech"]],inputs:{incidentList:"incidentList",ticketData:"ticketData"},features:[i.TTD],decls:71,vars:19,consts:[[1,"offcanvas-header","p-3","bg-primary-subtle","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[3,"formGroup"],[1,"row"],[1,"col-lg-12"],[1,"form-label"],[2,"color","red"],["data","","formControlName","editorText",3,"editor","config"],[1,"col-md-12","mt-3","pt-3"],[1,"col-md-3"],[1,"mb-4"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","tech_id0","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["formControlName","techImageURL","value","","id","tech_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-md","img-size-fixed",3,"src"],[1,"mb-3"],["for","tech_id1","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","techImageURL1","value","","id","tech_id1","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],["for","tech_id2","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","techImageURL2","value","","id","tech_id2","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],["for","tech_id3","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["accept","image/*","formControlName","techImageURL3","value","","id","tech_id3","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"col-lg-12","mt-2","pt-2"],[3,"sendImagedata"],[1,"offcanvas-footer","mx-3","mb-4","pb-3"],["class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn","btn-outline-danger","me-2",3,"click"],["modalUPSucss",""],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","tech_id0","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],["for","tech_id1","placement","left","ngbTooltip","Select Image",1,"mb-0"],["for","tech_id2","placement","left","ngbTooltip","Select Image",1,"mb-0"],["for","tech_id3","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"modal-content"],[1,"modal-body","p-4"],[1,"text-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],[1,"text-center"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4","text-justify"],[1,"text-muted","fs-15","mb-1","text-justify"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"]],template:function(L,x){1&L&&(i.TgZ(0,"div",0)(1,"h5",1),i._uU(2,"Member/Project Manager Signature"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return x.passBack(!1)}),i.qZA()(),i.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"label",7),i._uU(9,"Cause of Incident"),i.TgZ(10,"span",8),i._uU(11,"*"),i.qZA()(),i._UZ(12,"ckeditor",9),i.qZA(),i.TgZ(13,"div",10)(14,"label",7),i._uU(15,"Updated Image "),i.TgZ(16,"span",8),i._uU(17,"*"),i.qZA()(),i.TgZ(18,"div",5)(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14),i.YNc(23,U,4,0,"label",15)(24,ce,4,0,"label",16),i.TgZ(25,"input",17),i.NdJ("change",function(ae){return x.onSelectFile(ae)}),i.qZA()(),i.TgZ(26,"div",18)(27,"div",19),i._UZ(28,"img",20),i.qZA()()()()(),i.TgZ(29,"div",11)(30,"div",21)(31,"div",13)(32,"div",14),i.YNc(33,pe,4,0,"label",15)(34,be,4,0,"label",22),i.TgZ(35,"input",23),i.NdJ("change",function(ae){return x.onSelectFile1(ae)}),i.qZA()(),i.TgZ(36,"div",18)(37,"div",19),i._UZ(38,"img",20),i.qZA()()()()(),i.TgZ(39,"div",11)(40,"div",21)(41,"div",13)(42,"div",14),i.YNc(43,V,4,0,"label",24)(44,z,4,0,"label",15),i.TgZ(45,"input",25),i.NdJ("change",function(ae){return x.onSelectFile2(ae)}),i.qZA()(),i.TgZ(46,"div",18)(47,"div",19),i._UZ(48,"img",20),i.qZA()()()()(),i.TgZ(49,"div",11)(50,"div",21)(51,"div",13)(52,"div",14),i.YNc(53,f,4,0,"label",15)(54,_,4,0,"label",26),i.TgZ(55,"input",27),i.NdJ("change",function(ae){return x.onSelectFile3(ae)}),i.qZA()(),i.TgZ(56,"div",18)(57,"div",19),i._UZ(58,"img",20),i.qZA()()()()()()(),i.TgZ(59,"div",28)(60,"label",7),i._uU(61,"Signature Tech"),i.TgZ(62,"span",8),i._uU(63,"*"),i.qZA()(),i.TgZ(64,"app-signature-pad",29),i.NdJ("sendImagedata",function(ae){return x.getSignData(ae)}),i.qZA()()()()(),i.TgZ(65,"div",30),i.YNc(66,j,2,1,"button",31),i.TgZ(67,"button",32),i.NdJ("click",function(){return x.passBack(!1)}),i._uU(68," Cancel "),i.qZA()(),i.YNc(69,K,21,0,"ng-template",null,33,i.W1O)),2&L&&(i.xp6(5),i.Q6J("formGroup",x.addTech),i.xp6(7),i.Q6J("editor",x.Editor)("config",i.VKq(17,Y,i.DdM(16,se))),i.xp6(11),i.Q6J("ngIf",x.isFirstImageVisible),i.xp6(1),i.Q6J("ngIf",!x.isFirstImageVisible),i.xp6(4),i.s9C("src",x.tech_img0,i.LSH),i.xp6(5),i.Q6J("ngIf",x.isSecondImageVisible),i.xp6(1),i.Q6J("ngIf",!x.isSecondImageVisible),i.xp6(4),i.s9C("src",x.tech_img1,i.LSH),i.xp6(5),i.Q6J("ngIf",!x.isThirdImageVisible),i.xp6(1),i.Q6J("ngIf",x.isThirdImageVisible),i.xp6(4),i.s9C("src",x.tech_img2,i.LSH),i.xp6(5),i.Q6J("ngIf",x.isFourthImageVisible),i.xp6(1),i.Q6J("ngIf",!x.isFourthImageVisible),i.xp6(4),i.s9C("src",x.tech_img3,i.LSH),i.xp6(8),i.Q6J("ngIf",x.signtaureData))},dependencies:[v.O5,Q._Y,Q.Fj,Q.JJ,Q.JL,Q.sg,Q.u,c._L,$.u,F.l],styles:[".custom-ckeditor-container[_ngcontent-%COMP%]{height:50px!important}"]})}}return S})();function N(S,ie){1&S&&(i.TgZ(0,"label",20),i._uU(1,"If yes, what was the solution. "),i.TgZ(2,"span",8),i._uU(3,"*"),i.qZA()())}function D(S,ie){1&S&&(i.TgZ(0,"label",20),i._uU(1," If no, state why:"),i.TgZ(2,"span",8),i._uU(3,"*"),i.qZA()())}function E(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"button",26),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(),ne=i.MAs(36);return i.KtG(x.openUpdateModal(ne))}),i._uU(1," Submit "),i.qZA()}if(2&S){const T=i.oxw();i.Q6J("disabled",T.addTech.invalid)}}function B(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"button",30),i.NdJ("click",function(){const ne=i.CHM(T).$implicit;return i.KtG(ne.dismiss("Cross click"))}),i.qZA()(),i.TgZ(4,"div",31)(5,"div",32),i._UZ(6,"lord-icon",33),i.qZA(),i.TgZ(7,"h4",34),i._uU(8," Are you sure you want to proceed and confirm the document's signature? "),i.qZA(),i.TgZ(9,"p",35),i._uU(10," The Incident report service order has been successfully completed, and the associated ticket is now in the 'Resolve' status. "),i.qZA(),i._UZ(11,"br"),i.TgZ(12,"p",35),i._uU(13," You are about to confirm the completion of this ticket and the associated incident report. "),i.qZA(),i._UZ(14,"br")(15,"br"),i.TgZ(16,"div",36)(17,"button",37),i.NdJ("click",function(x){const ae=i.CHM(T).$implicit;return i.KtG(ae.close("Ok",x))}),i._uU(18," Yes, Proceed! "),i.qZA(),i.TgZ(19,"button",38),i.NdJ("click",function(){const ne=i.CHM(T).$implicit;return i.KtG(ne.dismiss("Cross click"))}),i._uU(20," Cancel "),i.qZA()()()()()}}const le=()=>["heading","|","bold","italic","|","NumberedList","BulletedList"],we=S=>({toolbar:S});let Ze=(()=>{class S{constructor(T,L,x,ne,ae){this.modal=T,this.formBuilder=L,this.helpDeskService=x,this.commonFunctionService=ne,this.modalService=ae,this.signtaureData=null,this.Editor=e,this.editorHeight="300px"}ngOnChanges(T){this.getfromBinding()}ngOnInit(){this.getfromBinding()}passBack(T){this.modal.dismiss(T)}getfromBinding(){this.addTech=this.formBuilder.group({editorText:[null,Q.kI.required],isResolved:[!1,[Q.kI.required]]})}get editorText(){return this.addTech.get("editorText")}get isResolved(){return this.addTech.get("isResolved")}getSignData(T){this.signtaureData=T?T&&T.split(",")[1]:null}updateSignatureClient(){this.helpDeskService.updateSignatureClient(this.commonFunctionService.clean({IncidentId:this.incidentList.incidentId,IsSolved:this.isResolved.value,isSolvedRemark:this.editorText.value,IncindetClientSignDateTimeBase64:this.signtaureData})).subscribe(L=>{this.passBack(L)})}openUpdateModal(T){this.modalService.open(T,{backdrop:"static",keyboard:!1,centered:!0}).result.then(L=>{this.updateSignatureClient()},L=>{})}static{this.\u0275fac=function(L){return new(L||S)(i.Y36(c._B),i.Y36(Q.qu),i.Y36(R.S),i.Y36(C.K),i.Y36(c.FF))}}static{this.\u0275cmp=i.Xpm({type:S,selectors:[["app-signature-client"]],inputs:{incidentList:"incidentList",ticketData:"ticketData"},features:[i.TTD],decls:37,vars:11,consts:[[1,"offcanvas-header","p-3","bg-primary-subtle","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[3,"formGroup"],[1,"row"],[1,"col-md-12","mb-3"],[1,"tx-11","font-weight-bold","mb-0","text-uppercase"],[2,"color","red"],[1,"d-flex"],[1,"form-check","form-radio-success","mb-3","me-3","ms-3"],["id","yes","type","radio","formControlName","isResolved","checked","",1,"form-check-input",3,"value"],["for","yes",1,"form-check-label"],[1,"form-check","form-radio-warning","mb-3"],["id","no","type","radio","formControlName","isResolved","checked","",1,"form-check-input",3,"value"],["for","no",1,"form-check-label"],[1,"col-lg-12","mb-3"],["class","form-label",4,"ngIf"],["data","","formControlName","editorText",3,"editor","config"],[1,"col-lg-12","pt-2"],[1,"form-label"],[3,"sendImagedata"],[1,"offcanvas-footer","mx-3","mb-4","pb-3"],["class","btn btn-primary me-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn","btn-outline-danger","me-2",3,"click"],["modalUPSucss",""],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"modal-content"],[1,"modal-body","p-4"],[1,"text-end"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","text-end",3,"click"],[1,"mt-2"],[1,"text-center"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mb-3","mt-4","text-justify"],[1,"text-muted","fs-15","mb-1","text-justify"],[1,"hstack","gap-2","justify-content-center"],[1,"btn","btn-success",3,"click"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-soft-danger",3,"click"]],template:function(L,x){1&L&&(i.TgZ(0,"div",0)(1,"h5",1),i._uU(2,"Signature of Client"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return x.passBack(!1)}),i.qZA()(),i.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"label",7),i._uU(9,"Is the problem solved? "),i.TgZ(10,"span",8),i._uU(11,"*"),i.qZA()(),i.TgZ(12,"div",9)(13,"div",10),i._UZ(14,"input",11),i.TgZ(15,"label",12),i._uU(16," Yes "),i.qZA()(),i.TgZ(17,"div",13),i._UZ(18,"input",14),i.TgZ(19,"label",15),i._uU(20," No "),i.qZA()()()(),i.TgZ(21,"div",16),i.YNc(22,N,4,0,"label",17)(23,D,4,0,"label",17),i._UZ(24,"ckeditor",18),i.qZA(),i.TgZ(25,"div",19)(26,"label",20),i._uU(27,"Signature Tech"),i.TgZ(28,"span",8),i._uU(29,"*"),i.qZA()(),i.TgZ(30,"app-signature-pad",21),i.NdJ("sendImagedata",function(ae){return x.getSignData(ae)}),i.qZA()()()()(),i.TgZ(31,"div",22),i.YNc(32,E,2,1,"button",23),i.TgZ(33,"button",24),i.NdJ("click",function(){return x.passBack(!1)}),i._uU(34," Cancel "),i.qZA()(),i.YNc(35,B,21,0,"ng-template",null,25,i.W1O)),2&L&&(i.xp6(5),i.Q6J("formGroup",x.addTech),i.xp6(9),i.Q6J("value",!0),i.xp6(4),i.Q6J("value",!1),i.xp6(4),i.Q6J("ngIf",1==(null==x.isResolved?null:x.isResolved.value)),i.xp6(1),i.Q6J("ngIf",0==(null==x.isResolved?null:x.isResolved.value)),i.xp6(1),i.Q6J("editor",x.Editor)("config",i.VKq(9,we,i.DdM(8,le))),i.xp6(8),i.Q6J("ngIf",x.signtaureData))},dependencies:[v.O5,Q._Y,Q.Fj,Q._,Q.JJ,Q.JL,Q.sg,Q.u,$.u,F.l]})}}return S})();var Ie=h(3828),_e=h(7625);function ve(S,ie){if(1&S&&(i.TgZ(0,"div",13)(1,"h6",2),i._uU(2,"Cause of Incident"),i.qZA(),i._UZ(3,"p",3),i.qZA()),2&S){const T=i.oxw();i.xp6(3),i.Q6J("innerHTML",T.incidentList.incidentRemark,i.oJD)}}function ue(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllIncident,x.imgurl+x.incidentList.incidentImage1URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.incidentImage1URL?T.imgurl+T.incidentList.incidentImage1URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function ge(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllIncident,x.imgurl+x.incidentList.incidentImage2URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.incidentImage2URL?T.imgurl+T.incidentList.incidentImage2URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function me(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllIncident,x.imgurl+x.incidentList.incidentImage3URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.incidentImage3URL?T.imgurl+T.incidentList.incidentImage3URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function Se(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllIncident,x.imgurl+x.incidentList.incidentImage4URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.incidentImage4URL?T.imgurl+T.incidentList.incidentImage4URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function oe(S,ie){if(1&S&&(i.TgZ(0,"div",16)(1,"h6",17),i._uU(2,"Incident Images"),i.qZA(),i.TgZ(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21),i.YNc(7,ue,2,1,"div",22)(8,ge,2,1,"div",22)(9,me,2,1,"div",22)(10,Se,2,1,"div",22),i.qZA()()()()()),2&S){const T=i.oxw(2);i.xp6(7),i.Q6J("ngIf",T.incidentList.incidentImage1URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.incidentImage2URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.incidentImage3URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.incidentImage4URL)}}function ke(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllTech,x.imgurl+x.incidentList.tecgUpdatemage1URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.tecgUpdatemage1URL?T.imgurl+T.incidentList.tecgUpdatemage1URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function he(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllTech,x.imgurl+x.incidentList.tecgUpdatemage2URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.tecgUpdatemage2URL?T.imgurl+T.incidentList.tecgUpdatemage2URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function fe(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllTech,x.imgurl+x.incidentList.tecgUpdatemage3URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.tecgUpdatemage3URL?T.imgurl+T.incidentList.tecgUpdatemage3URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function M(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"div",23)(1,"img",24),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open_new(x.incidentList.imageAllTech,x.imgurl+x.incidentList.tecgUpdatemage4URL))}),i.qZA()()}if(2&S){const T=i.oxw(3);i.xp6(1),i.Q6J("src",T.incidentList.tecgUpdatemage4URL?T.imgurl+T.incidentList.tecgUpdatemage4URL:"../../../../../assets/images/placeholderimage.png",i.LSH)}}function de(S,ie){if(1&S&&(i.TgZ(0,"div",16)(1,"h6",17),i._uU(2,"Updated Images"),i.qZA(),i.TgZ(3,"div",18)(4,"div",19)(5,"div",20)(6,"div",21),i.YNc(7,ke,2,1,"div",22)(8,he,2,1,"div",22)(9,fe,2,1,"div",22)(10,M,2,1,"div",22),i.qZA()()()()()),2&S){const T=i.oxw(2);i.xp6(7),i.Q6J("ngIf",T.incidentList.tecgUpdatemage1URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.tecgUpdatemage2URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.tecgUpdatemage3URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.tecgUpdatemage4URL)}}function b(S,ie){if(1&S&&(i.TgZ(0,"div",14),i.YNc(1,oe,11,4,"div",15)(2,de,11,4,"div",15),i.qZA()),2&S){const T=i.oxw();i.xp6(1),i.Q6J("ngIf",T.incidentList.incidentImage1URL||T.incidentList.incidentImage2URL||T.incidentList.incidentImage3URL||T.incidentList.incidentImage4URL),i.xp6(1),i.Q6J("ngIf",T.incidentList.tecgUpdatemage1URL||T.incidentList.tecgUpdatemage2URL||T.incidentList.tecgUpdatemage3URL||T.incidentList.tecgUpdatemage4URL)}}const y=(S,ie)=>({"ribbon-two-info":S,"ribbon-two-danger":ie});function m(S,ie){if(1&S&&(i.TgZ(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"span"),i._uU(5),i.qZA()(),i.TgZ(6,"h5",29),i._uU(7,"Solved Remark"),i.qZA(),i._UZ(8,"p",3),i.qZA()()()),2&S){const T=i.oxw();i.xp6(3),i.Q6J("ngClass",i.WLB(3,y,T.incidentList.isSolved,!T.incidentList.isSolved)),i.xp6(2),i.Oqu(T.incidentList.isSolved?"Solved":"Not Solve"),i.xp6(3),i.Q6J("innerHTML",T.incidentList.isSolvedRemark,i.oJD)}}function Z(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"button",40),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(2);return i.KtG(x.openSignatureTech())}),i._uU(1," Signature of Tech "),i.qZA()}}function q(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"img",45),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open(x.imgurl+x.incidentList.incindetTechSignImageURL))}),i.qZA()}if(2&S){const T=i.oxw(3);i.hYB("src","",T.imgurl,"",T.incidentList.incindetTechSignImageURL,"",i.LSH)}}function X(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"img",46),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open("../../../../../assets/images/placeholderimage.png"))}),i.qZA()}}function Te(S,ie){if(1&S&&(i.TgZ(0,"div",41)(1,"div",42),i.YNc(2,q,1,2,"img",43)(3,X,1,0,"img",44),i.qZA()()),2&S){const T=i.oxw(2);i.xp6(2),i.Q6J("ngIf",T.incidentList.incindetTechSignImageURL),i.xp6(1),i.Q6J("ngIf",!T.incidentList.incindetTechSignImageURL)}}function qe(S,ie){if(1&S&&(i.TgZ(0,"div",30)(1,"div",31)(2,"div",27)(3,"h5",32),i._uU(4),i.qZA(),i.TgZ(5,"div",33)(6,"div",34),i.YNc(7,Z,2,0,"button",35)(8,Te,4,2,"div",36),i.qZA()(),i.TgZ(9,"p",37),i._uU(10),i.qZA(),i.TgZ(11,"p",38)(12,"b"),i._uU(13),i.qZA()(),i.TgZ(14,"p",39),i._uU(15),i.qZA()()()()),2&S){const T=i.oxw();i.xp6(4),i.Oqu(T.ticketData[0].companyName),i.xp6(3),i.Q6J("ngIf",T.isTechSignButton),i.xp6(1),i.Q6J("ngIf",!T.isTechSignButton),i.xp6(2),i.hij(" ",T.incidentList.incindetTechSignDateTime," "),i.xp6(3),i.hij(" ",T.incidentList.incindetTechSignByName," "),i.xp6(2),i.hij(" ",T.incidentList.techFinalRemark," ")}}function Le(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"button",40),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(2);return i.KtG(x.openSignatureClient())}),i._uU(1," Signature of Client "),i.qZA()}}function Ue(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"img",45),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open(x.imgurl+x.incidentList.incindetClientSignImageURL))}),i.qZA()}if(2&S){const T=i.oxw(3);i.hYB("src","",T.imgurl,"",T.incidentList.incindetClientSignImageURL,"",i.LSH)}}function Oe(S,ie){if(1&S){const T=i.EpF();i.TgZ(0,"img",46),i.NdJ("click",function(){i.CHM(T);const x=i.oxw(3);return i.KtG(x.open("../../../../../assets/images/placeholderimage.png"))}),i.qZA()}}function Me(S,ie){if(1&S&&(i.TgZ(0,"div",41)(1,"div",42),i.YNc(2,Ue,1,2,"img",43)(3,Oe,1,0,"img",44),i.qZA()()),2&S){const T=i.oxw(2);i.xp6(2),i.Q6J("ngIf",T.incidentList.incindetClientSignImageURL),i.xp6(1),i.Q6J("ngIf",!T.incidentList.incindetClientSignImageURL)}}function Ve(S,ie){if(1&S&&(i.TgZ(0,"div",30)(1,"div",31)(2,"div",27)(3,"h5",32),i._uU(4),i.qZA(),i.TgZ(5,"div",33)(6,"div",34),i.YNc(7,Le,2,0,"button",35)(8,Me,4,2,"div",36),i.qZA()(),i.TgZ(9,"p",37),i._uU(10),i.qZA(),i.TgZ(11,"p",38)(12,"b"),i._uU(13),i.qZA()(),i.TgZ(14,"p",39),i._uU(15),i.qZA()()()()),2&S){const T=i.oxw();i.xp6(4),i.Oqu(T.ticketData[0].clientName),i.xp6(3),i.Q6J("ngIf",T.isClientSignButton),i.xp6(1),i.Q6J("ngIf",!T.isClientSignButton),i.xp6(2),i.hij(" ",T.incidentList.incindetClientSignDateTime," "),i.xp6(3),i.hij(" ",T.incidentList.incindetClientSignByName," "),i.xp6(2),i.hij(" ",T.incidentList.clientFinalRemark," ")}}let Qe=(()=>{class S{constructor(T,L,x,ne,ae,Je){this.commonFunctionService=T,this.modalService=L,this.helpDeskService=x,this.authAssetService=ne,this.offcanvasService=ae,this.lightbox=Je,this.sendUpdateIncident=new i.vpe,this.imgurl=p.N.apiUrl,this.isTechSignCard=!1,this.isClientSignCard=!1,this.isTechSignButton=!1,this.isClientSignButton=!1}ngOnChanges(T){this.incidentList.imageAllIncident=[],this.incidentList.imageAllIncident.push(this.incidentList.incidentImage1URL?this.imgurl+this.incidentList.incidentImage1URL:null,this.incidentList.incidentImage2URL?this.imgurl+this.incidentList.incidentImage2URL:null,this.incidentList.incidentImage3URL?this.imgurl+this.incidentList.incidentImage3URL:null,this.incidentList.incidentImage4URL?this.imgurl+this.incidentList.incidentImage4URL:null),this.incidentList.imageAllTech=[],this.incidentList.imageAllTech.push(this.incidentList.tecgUpdatemage1URL?this.imgurl+this.incidentList.tecgUpdatemage1URL:null,this.incidentList.tecgUpdatemage2URL?this.imgurl+this.incidentList.tecgUpdatemage2URL:null,this.incidentList.tecgUpdatemage3URL?this.imgurl+this.incidentList.tecgUpdatemage3URL:null,this.incidentList.tecgUpdatemage4URL?this.imgurl+this.incidentList.tecgUpdatemage4URL:null),this.getCliendAndTechSign()}clivjiri(){this.sendUpdateIncident.emit("fhfhh")}ngOnInit(){this.getCliendAndTechSign(),this.clivjiri()}openSignatureTech(){const T=this.offcanvasService.open(I,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas2"});T.componentInstance.incidentList=this.incidentList,T.componentInstance.ticketData=this.ticketData,T.result.then(L=>{this.sendUpdateIncident.emit(L)}).catch(L=>{this.sendUpdateIncident.emit("jhhhh")})}openSignatureClient(){const T=this.offcanvasService.open(Ze,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas2"});T.componentInstance.incidentList=this.incidentList,T.componentInstance.ticketData=this.ticketData,T.result.then(L=>{this.sendUpdateIncident.emit(L)}).catch(L=>{this.sendUpdateIncident.emit(L)})}getCliendAndTechSign(){"Incident Tech Sign"==this.helpDeskService.pageAction?(31==this.ticketData[0]?.ticketStatusId||25==this.ticketData[0]?.ticketStatusId)&&(this.isTechSignCard=!0,this.isClientSignCard=!1,this.isTechSignButton=!this.incidentList.incindetTechSignImageURL,this.isClientSignButton=!1):"Incident Client Sign"==this.helpDeskService.pageAction?(31==this.ticketData[0]?.ticketStatusId||32==this.ticketData[0]?.ticketStatusId)&&(this.isTechSignCard=!!this.incidentList.incindetTechSignImageURL,this.isClientSignCard=!0,this.isClientSignButton=!this.incidentList.incindetClientSignImageURL,this.isTechSignButton=!1):31==this.ticketData[0]?.ticketStatusId||25==this.ticketData[0]?.ticketStatusId||32==this.ticketData[0]?.ticketStatusId?(this.isTechSignCard=!0,this.isClientSignCard=!0,this.isTechSignButton=!1,this.isClientSignButton=!1):(this.isTechSignCard=!1,this.isClientSignCard=!1,this.isTechSignButton=!1,this.isClientSignButton=!1)}open(T){let x=[];x.push({src:T,caption:"",thumb:"thumb"}),this.lightbox.open(x)}open_new(T,L){let x=[],ne=0;if(T.forEach(ae=>{ae&&x.push({src:ae,caption:"",thumb:"thumb"})}),0!=x.length)for(let ae=0;ae<=x.length;ae++)if(x[ae].src==L){ne=ae;break}console.log(x,ne,"_albums, index"),this.lightbox.open(x,ne,{wrapAround:!0,showImageNumberLabel:!0,showRotate:!0})}static{this.\u0275fac=function(L){return new(L||S)(i.Y36(C.K),i.Y36(c.FF),i.Y36(R.S),i.Y36(Ie.u),i.Y36(c._B),i.Y36(_e.ey))}}static{this.\u0275cmp=i.Xpm({type:S,selectors:[["app-view-incident-ticket"]],inputs:{incidentList:"incidentList",ticketData:"ticketData"},outputs:{sendUpdateIncident:"sendUpdateIncident"},features:[i.TTD],decls:33,vars:10,consts:[[1,"row"],[1,"col-lg-12","col-sm-12","mb-3"],[1,"fw-semibold","text-uppercase","mb-3"],[1,"text-muted","mb-0",3,"innerHTML"],[1,"col-lg-12","col-sm-12","pt-3","border-top","border-top-dashed","mb-2"],[1,"col-lg-3","col-sm-6","mb-3"],[1,"fs-15","mb-1"],[1,"text-muted","fs-13"],["class","col-sm-12 pt-3 border-top border-top-dashed mb-2",4,"ngIf"],["class","col-sm-12 pt-3 border-top border-top-dashed mb-2 row",4,"ngIf"],["class","col-sm-12 pt-3 border-top border-top-dashed mb-3",4,"ngIf"],[1,"col-lg-12","mt-2","pt-4","border-top","border-top-dashed"],["class","col-sm-6 stretch-card pt-2 mb-3",4,"ngIf"],[1,"col-sm-12","pt-3","border-top","border-top-dashed","mb-2"],[1,"col-sm-12","pt-3","border-top","border-top-dashed","mb-2","row"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],[1,"mb-3","fw-semibold","text-uppercase"],[1,"row","g-1","w-100"],[1,"col-xxl-12","col-lg-12"],[1,"border","rounded","border-dashed","p-2"],[1,"row","g-2","mb-3"],["class","col-lg-3",4,"ngIf"],[1,"col-lg-3"],["alt","",1,"img-fluid","rounded","img-size-fixed",3,"src","click"],[1,"col-sm-12","pt-3","border-top","border-top-dashed","mb-3"],[1,"card","ribbon-box","border","shadow-none","mb-lg-0","right"],[1,"card-body","text-muted"],[1,"ribbon-two",3,"ngClass"],[1,"fs-14","mb-3"],[1,"col-sm-6","stretch-card","pt-2","mb-3"],[1,"card","border","shadow-none","mb-lg-0","right"],[1,"fs-14","mb-2"],[1,"text-center","mb-1"],[1,"position-relative","d-inline-block"],["class","btn btn-success mt-2",3,"click",4,"ngIf"],["class","avatar-lg",4,"ngIf"],[1,"text-center","text-muted","mb-0"],[1,"text-center","text-dark","mb-0"],[1,"fs-10","text-muted"],[1,"btn","btn-success","mt-2",3,"click"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["class","avatar-md img-size-fixed",3,"src","click",4,"ngIf"],["src","../../../../../assets/images/placeholderimage.png","class","avatar-md img-size-fixed",3,"click",4,"ngIf"],[1,"avatar-md","img-size-fixed",3,"src","click"],["src","../../../../../assets/images/placeholderimage.png",1,"avatar-md","img-size-fixed",3,"click"]],template:function(L,x){1&L&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h6",2),i._uU(3,"Impact of Incident"),i.qZA(),i._UZ(4,"p",3),i.qZA(),i.TgZ(5,"div",4)(6,"div",0)(7,"div",5)(8,"h5",6),i._uU(9,"Incident Type"),i.qZA(),i.TgZ(10,"p",7),i._uU(11),i.qZA()(),i.TgZ(12,"div",5)(13,"h5",6),i._uU(14,"Location"),i.qZA(),i.TgZ(15,"p",7),i._uU(16),i.qZA()(),i.TgZ(17,"div",5)(18,"h5",6),i._uU(19,"Approx Date of Incident"),i.qZA(),i.TgZ(20,"p",7),i._uU(21),i.qZA()(),i.TgZ(22,"div",5)(23,"h5",6),i._uU(24,"Approx Time of Incident"),i.qZA(),i.TgZ(25,"p",7),i._uU(26),i.qZA()()()(),i.YNc(27,ve,4,1,"div",8)(28,b,3,2,"div",9)(29,m,9,6,"div",10),i._UZ(30,"div",11),i.YNc(31,qe,16,6,"div",12)(32,Ve,16,6,"div",12),i.qZA()),2&L&&(i.xp6(4),i.Q6J("innerHTML",x.incidentList.impactOfIncident,i.oJD),i.xp6(7),i.hij(" ",x.incidentList.incidentTypeName||"Na"," "),i.xp6(5),i.Oqu(x.incidentList.locationName||"Na"),i.xp6(5),i.hij(" ",x.incidentList.dateOfincident||"Na"," "),i.xp6(5),i.hij(" ",x.incidentList.approxTimeOfIncident||"Na"," "),i.xp6(1),i.Q6J("ngIf",x.incidentList.incidentRemark),i.xp6(1),i.Q6J("ngIf",x.incidentList.incidentImage1URL||x.incidentList.incidentImage2URL||x.incidentList.incidentImage3URL||x.incidentList.incidentImage4URL||x.incidentList.tecgUpdatemage1URL||x.incidentList.tecgUpdatemage2URL||x.incidentList.tecgUpdatemage3URL||x.incidentList.tecgUpdatemage4URL),i.xp6(1),i.Q6J("ngIf",x.incidentList.isSolvedRemark),i.xp6(2),i.Q6J("ngIf",x.isTechSignCard),i.xp6(1),i.Q6J("ngIf",x.isClientSignCard))},dependencies:[v.mk,v.O5]})}}return S})()},7579:(xe,re,h)=>{h.d(re,{g:()=>be});var i=h(553),p=h(9212),Q=h(7291),e=h(3828),d=h(7625),J=h(2857),c=h(6814);function R(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",21),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.pic_url)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.pic_url,"",p.LSH)}}function C(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",22),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function v(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",21),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.pic_url1)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.pic_url1,"",p.LSH)}}function $(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",22),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function F(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",21),p.NdJ("click",function(){p.CHM(f);const j=p.oxw().$implicit,K=p.oxw();return p.KtG(K.open(K.baseUrl+(null==j?null:j.pic_url2)))}),p.qZA()}if(2&V){const f=p.oxw().$implicit,_=p.oxw();p.hYB("src","",_.baseUrl,"",null==f?null:f.pic_url2,"",p.LSH)}}function U(V,z){if(1&V){const f=p.EpF();p.TgZ(0,"img",22),p.NdJ("click",function(){p.CHM(f);const j=p.oxw(2);return p.KtG(j.open("../../../../../assets/images/placeholderimage.png"))}),p.qZA()}}function ce(V,z){if(1&V&&(p.TgZ(0,"div",23)(1,"div",10)(2,"div",13)(3,"h5",14),p._uU(4,"Remark"),p.qZA(),p.TgZ(5,"div")(6,"p",15),p._uU(7),p.qZA()()()()()),2&V){const f=p.oxw().$implicit;p.xp6(7),p.Oqu(f.note)}}function pe(V,z){if(1&V&&(p.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10),p.YNc(6,R,1,2,"img",11)(7,C,1,0,"img",12)(8,v,1,2,"img",11)(9,$,1,0,"img",12)(10,F,1,2,"img",11)(11,U,1,0,"img",12),p.TgZ(12,"div",13)(13,"h5",14),p._uU(14,"Status"),p.qZA(),p.TgZ(15,"p",15)(16,"span",16),p._uU(17),p.qZA()()()()(),p.TgZ(18,"div",9)(19,"div",10)(20,"div",17)(21,"h5",14),p._uU(22,"Preventive Category"),p.qZA(),p.TgZ(23,"div")(24,"span",18),p._uU(25),p.qZA()()()()(),p.TgZ(26,"div",9)(27,"div",10)(28,"div",17)(29,"h5",14),p._uU(30,"Preventive Type"),p.qZA(),p.TgZ(31,"div")(32,"span",19),p._uU(33),p.qZA()()()()(),p.YNc(34,ce,8,1,"div",20),p.qZA()()()()),2&V){const f=z.$implicit,_=p.oxw();p.xp6(6),p.Q6J("ngIf",null==f?null:f.pic_url),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.pic_url)),p.xp6(1),p.Q6J("ngIf",null==f?null:f.pic_url1),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.pic_url1)),p.xp6(1),p.Q6J("ngIf",null==f?null:f.pic_url2),p.xp6(1),p.Q6J("ngIf",!(null!=f&&f.pic_url2)),p.xp6(5),p.Tol(_.returnStatusBadgeClassesStatus(f.scheduleItemCheckStatusId)),p.xp6(1),p.Oqu(f.scheduleItemCheckStatusName),p.xp6(8),p.Oqu(f.preventiveCategoryName||"NA"),p.xp6(8),p.Oqu(f.preventiveTypeName||"NA"),p.xp6(1),p.Q6J("ngIf",f.note)}}let be=(()=>{class V{constructor(f,_,j,K){this.modal=f,this.auth=_,this.lightbox=j,this.commonFunctionService=K,this.isProject=!1,this.baseUrl=i.N.apiUrl,this.isProject=this.auth.getisProject()}ngOnInit(){}passBack(f){this.modal.dismiss(f)}returnClassname(f){return"status-workTaskStatuId-"+f.woTaskStatusId+"-"+f.woTaskStatusName}returnStatusBadgeClassesStatus(f){return this.commonFunctionService.returnStatusBadgeClasses(f)}open(f){let j=[];j.push({src:f,caption:"",thumb:"thumb"}),this.lightbox.open(j)}static{this.\u0275fac=function(_){return new(_||V)(p.Y36(Q._B),p.Y36(e.u),p.Y36(d.ey),p.Y36(J.K))}}static{this.\u0275cmp=p.Xpm({type:V,selectors:[["app-check-schedule"]],inputs:{pm_ScheduleAndAssetCheckList:"pm_ScheduleAndAssetCheckList"},decls:6,vars:1,consts:[[1,"offcanvas-header","border-bottom"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","row"],["class","col-md-6 col-lg-12 mb-2",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-12","mb-2"],[1,"card","mb-1","border","border-dashed"],[1,"card-body"],[1,"row"],[1,"col-md-4","mb-3"],[1,"d-flex","position-relative"],["class","flex-shrink-0 me-1 avatar-sm rounded","alt","...",3,"src","click",4,"ngIf"],["src","../../../../../../assets/images/placeholderimage.png","class","flex-shrink-0 me-1 avatar-sm rounded","alt","...",3,"click",4,"ngIf"],[1,"ms-lg-3","my-3","my-lg-0"],[1,"fs-16","mb-0"],[1,"text-muted","mb-0"],[1,"fs-12"],[1,"ms-lg-3","my-lg-0"],[1,"badge","bg-primary-subtle","text-primary"],[1,"badge","bg-success-subtle","text-success"],["class","col-12 mt-2",4,"ngIf"],["alt","...",1,"flex-shrink-0","me-1","avatar-sm","rounded",3,"src","click"],["src","../../../../../../assets/images/placeholderimage.png","alt","...",1,"flex-shrink-0","me-1","avatar-sm","rounded",3,"click"],[1,"col-12","mt-2"]],template:function(_,j){1&_&&(p.TgZ(0,"div",0)(1,"h5",1),p._uU(2,"Member Task Attendance List"),p.qZA(),p.TgZ(3,"button",2),p.NdJ("click",function(){return j.modal.dismiss("Cross click")}),p.qZA()(),p.TgZ(4,"div",3),p.YNc(5,pe,35,12,"div",4),p.qZA()),2&_&&(p.xp6(5),p.Q6J("ngForOf",j.pm_ScheduleAndAssetCheckList))},dependencies:[c.sg,c.O5],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px!important}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1!important}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888!important}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555!important}.newmodalclass[_ngcontent-%COMP%]{width:700px!important;height:100vh!important;background-color:#f7f8f8!important}@media only screen and (max-width: 480px),only screen and (max-device-width: 480px){.newmodalclass[_ngcontent-%COMP%]{width:380px!important;height:100vh!important;background-color:#f7f8f8!important}}.image-card-size[_ngcontent-%COMP%]{height:60px;width:60px;object-fit:cover;border-radius:30%;cursor:pointer}.col-end-start[_ngcontent-%COMP%]{display:flex;align-items:center}.col-end-start-img[_ngcontent-%COMP%]{text-align:center;display:flex;align-items:center}"]})}}return V})()},789:(xe,re,h)=>{h.d(re,{y:()=>C});var i=h(9212),p=h(1473),Q=h(6814),e=h(7291);function d(v,$){}function J(v,$){if(1&v&&i.YNc(0,d,0,0,"ng-template",4),2&v){const F=i.oxw().$implicit;i.Q6J("ngTemplateOutlet",F.textOrTpl)}}function c(v,$){if(1&v&&i._uU(0),2&v){const F=i.oxw().$implicit;i.Oqu(F.textOrTpl)}}function R(v,$){if(1&v){const F=i.EpF();i.TgZ(0,"ngb-toast",1),i.NdJ("hidden",function(){const pe=i.CHM(F).$implicit,be=i.oxw();return i.KtG(be.toastService.remove(pe))}),i.YNc(1,J,1,1,"ng-template",2)(2,c,1,1,"ng-template",null,3,i.W1O),i.qZA()}if(2&v){const F=$.$implicit,U=i.MAs(3),ce=i.oxw();i.Tol(F.classname),i.Q6J("autohide",!0)("delay",F.delay||5e3),i.xp6(1),i.Q6J("ngIf",ce.isTemplate(F))("ngIfElse",U)}}let C=(()=>{class v{constructor(F){this.toastService=F}isTemplate(F){return F.textOrTpl instanceof i.Rgc}static{this.\u0275fac=function(U){return new(U||v)(i.Y36(p.k))}}static{this.\u0275cmp=i.Xpm({type:v,selectors:[["app-toasts"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],decls:1,vars:1,consts:[[3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(U,ce){1&U&&i.YNc(0,R,4,6,"ngb-toast",0),2&U&&i.Q6J("ngForOf",ce.toastService.toasts)},dependencies:[Q.sg,Q.O5,Q.tP,e.Iv],encapsulation:2})}}return v})()},2293:(xe,re,h)=>{h.d(re,{r:()=>fe});var i=h(2438),p=h(2181),Q=h(3620),e=h(3997),d=h(9397),J=h(553),c=h(9212),R=h(2787),C=h(4435),v=h(3828),$=h(2857),F=h(7291),U=h(1343),ce=h(7625),pe=h(6814),be=h(6223),V=h(4807);function z(M,de){1&M&&(c.ynx(0),c.TgZ(1,"h6",3),c._uU(2,"No Asset Found"),c.qZA(),c.BQk())}function f(M,de){if(1&M){const b=c.EpF();c.ynx(0),c.TgZ(1,"i",18),c.NdJ("click",function(){c.CHM(b);const m=c.oxw().$implicit,Z=c.oxw(2),q=c.MAs(4);return c.KtG(Z.viewQrCodeImage(q,m))}),c.qZA(),c.BQk()}}function _(M,de){if(1&M&&(c.TgZ(0,"tr")(1,"td",16)(2,"a",17),c._uU(3),c.qZA()(),c.TgZ(4,"td"),c.YNc(5,f,2,0,"ng-container",1),c._uU(6),c.qZA(),c.TgZ(7,"td",16),c._uU(8),c.qZA(),c.TgZ(9,"td",16)(10,"span"),c._uU(11),c.qZA()()()),2&M){const b=de.$implicit,y=c.oxw(2);c.xp6(3),c.Oqu(b.assetTagId?b.assetTagId:"NA"),c.xp6(2),c.Q6J("ngIf",null==b?null:b.qrCodeImgPath),c.xp6(1),c.hij(" ",b.assetName," "),c.xp6(2),c.hij(" ",b.departmentName," "),c.xp6(2),c.Tol(y.returnStatusBadgeClassesStatus(b.assetStatusId)),c.xp6(1),c.Oqu(b.assetStatus)}}function j(M,de){1&M&&(c.TgZ(0,"div",19),c._uU(1," No Asset Found "),c.qZA())}function K(M,de){1&M&&(c._UZ(0,"i",23),c._uU(1," Prev "))}function se(M,de){1&M&&(c._uU(0," Next "),c._UZ(1,"i",24))}function Y(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"ngb-pagination",20),c.NdJ("pageChange",function(m){c.CHM(b);const Z=c.oxw(2);return c.KtG(Z.page=m)})("pageChange",function(){c.CHM(b);const m=c.oxw(2);return c.KtG(m.getLocalPagination())}),c.YNc(1,K,2,0,"ng-template",21)(2,se,2,0,"ng-template",22),c.qZA()}if(2&M){const b=c.oxw(2);c.Q6J("collectionSize",b.collectionSize)("page",b.page)("pageSize",b.pageSize)}}function I(M,de){if(1&M&&(c.ynx(0),c.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th"),c._uU(8,"Asset No"),c.qZA(),c.TgZ(9,"th"),c._uU(10,"Asset"),c.qZA(),c.TgZ(11,"th"),c._uU(12),c.qZA(),c.TgZ(13,"th"),c._uU(14,"Status"),c.qZA()()(),c.TgZ(15,"tbody"),c.YNc(16,_,12,7,"tr",9),c.qZA()(),c.YNc(17,j,2,0,"div",10),c.qZA(),c.TgZ(18,"div",11)(19,"div",12)(20,"div",13),c._uU(21),c.qZA()(),c.TgZ(22,"div",12)(23,"div",14),c.YNc(24,Y,3,3,"ngb-pagination",15),c.qZA()()()()(),c.BQk()),2&M){const b=c.oxw();c.xp6(12),c.hij(" ",b.isProject?"Project":"Department"," "),c.xp6(4),c.Q6J("ngForOf",b.assetList),c.xp6(1),c.Q6J("ngIf",0===b.assetList.length),c.xp6(4),c.lnq(" Showing ",b.from," to ",b.to," of ",b.totalRecords," entries "),c.xp6(3),c.Q6J("ngIf",b.totalRecords>b.pageSize)}}function N(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"div",25)(1,"h4",26),c._uU(2,"Qr-Code"),c.qZA(),c.TgZ(3,"button",27),c.NdJ("click",function(){const Z=c.CHM(b).$implicit;return c.KtG(Z.dismiss("Cross click"))}),c.TgZ(4,"span",28),c._uU(5,"\xd7"),c.qZA()()(),c.TgZ(6,"div",29),c._UZ(7,"img",30),c.qZA()}if(2&M){const b=c.oxw();c.xp6(7),c.Q6J("src",b.imageUrl+(null==b.assetQrData?null:b.assetQrData.qrCodeImgPath),c.LSH)}}let D=(()=>{class M{constructor(b,y,m){this.authService=b,this.commonFunctionService=y,this.modalService=m,this.assetList=[],this.isProject=!1,this.filteredList=[],this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.imageUrl=J.N.apiUrl,this.isProject=this.authService.getisProject()}ngOnInit(){0!=this.assetList.length&&(this.totalRecords=this.assetList.length,this.filteredList=this.assetList,this.collectionSize=this.filteredList.length,this.getLocalPagination())}ngOnChanges(b){0!=this.assetList.length&&(this.totalRecords=this.assetList.length,this.filteredList=this.assetList,this.collectionSize=this.filteredList.length,this.getLocalPagination())}returnStatusBadgeClassesStatus(b){return this.commonFunctionService.returnStatusBadgeClasses(b)}getLocalPagination(){this.filteredList=this.assetList.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.to=this.page*this.pageSize>this.assetList.length?this.assetList.length:this.page*this.pageSize;let b=this.page*this.pageSize-(this.pageSize-1);this.from=b<1?1:b,this.from=0==this.assetList.length?0:this.from}viewQrCodeImage(b,y){this.assetQrData=y,this.modalService.open(b,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}static{this.\u0275fac=function(y){return new(y||M)(c.Y36(v.u),c.Y36($.K),c.Y36(F.FF))}}static{this.\u0275cmp=c.Xpm({type:M,selectors:[["app-not-match-asset"]],inputs:{assetList:"assetList"},features:[c.TTD],decls:5,vars:2,consts:[[1,"row","mt-3"],[4,"ngIf"],["qrView",""],[1,"card-title","fs-17"],[1,"row"],[1,"col-lg-12"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","pageChange",4,"ngIf"],[1,"align-top"],["href","javascript:void(0)",1,"fw-medium","link-primary"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"text-center"],[3,"collectionSize","page","pageSize","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"]],template:function(y,m){1&y&&(c.TgZ(0,"div",0),c.YNc(1,z,3,0,"ng-container",1)(2,I,25,7,"ng-container",1),c.qZA(),c.YNc(3,N,8,1,"ng-template",null,2,c.W1O)),2&y&&(c.xp6(1),c.Q6J("ngIf",0==m.assetList.length),c.xp6(1),c.Q6J("ngIf",0!=m.assetList.length))},dependencies:[pe.sg,pe.O5,F.N9,F.GZ,F.ju]})}}return M})();const E=["inputer"],B=["inputerTagId"];function le(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"div",11)(1,"h4",12),c._uU(2,"Qr-Code"),c.qZA(),c.TgZ(3,"button",13),c.NdJ("click",function(){const Z=c.CHM(b).$implicit;return c.KtG(Z.dismiss("Cross click"))}),c.TgZ(4,"span",14),c._uU(5,"\xd7"),c.qZA()()(),c.TgZ(6,"div",15),c._UZ(7,"img",16),c.qZA()}if(2&M){const b=c.oxw();c.xp6(7),c.Q6J("src",b.imageUrl+(null==b.assetQrData?null:b.assetQrData.qrCodeImgPath),c.LSH)}}function we(M,de){if(1&M){const b=c.EpF();c.ynx(0),c.TgZ(1,"i",57),c.NdJ("click",function(){c.CHM(b);const m=c.oxw().$implicit,Z=c.oxw(3),q=c.MAs(1);return c.KtG(Z.viewQrCodeImage(q,m))}),c.qZA(),c.BQk()}}function Ze(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"div",49)(1,"div",50)(2,"img",51),c.NdJ("click",function(){c.CHM(b);const m=c.oxw().$implicit,Z=c.oxw(3);return c.KtG(Z.open(m.auditImageUrl?Z.imageUrl+m.auditImageUrl:"../../../../assets/images/placeholderimage.png"))}),c.qZA()(),c.TgZ(3,"div",52)(4,"h6",58),c._uU(5),c.qZA(),c.TgZ(6,"p",59)(7,"b"),c._uU(8,"Scanned Date : "),c.qZA(),c._uU(9),c.qZA(),c._UZ(10,"p"),c.qZA()()}if(2&M){const b=c.oxw().$implicit,y=c.oxw(3);c.xp6(2),c.Q6J("src",b.auditImageUrl?y.imageUrl+b.auditImageUrl:"../../../../assets/images/placeholderimage.png",c.LSH),c.xp6(2),c.Q6J("ngClass",b.modifiedByName?"text-muted":"text-danger"),c.xp6(1),c.hij(" Scanned By \xa0 : ",b.modifiedByName?b.modifiedByName:"No audit detail"," "),c.xp6(4),c.hij("",b.modifiedDate?b.modifiedDate:"-"," ")}}function Ie(M,de){if(1&M&&(c.TgZ(0,"div",49)(1,"h6",58),c._uU(2," No audit detail "),c.qZA(),c._UZ(3,"br")(4,"br")(5,"br"),c.qZA()),2&M){const b=c.oxw().$implicit;c.xp6(1),c.Q6J("ngClass",b.modifiedByName?"text-muted":"text-danger")}}function _e(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"tr")(1,"td",40)(2,"div",19)(3,"div",20)(4,"ul",48)(5,"li")(6,"div",49)(7,"div",50)(8,"img",51),c.NdJ("click",function(){const Z=c.CHM(b).$implicit,q=c.oxw(3);return c.KtG(q.open(Z.auditImageUrl?q.imageUrl+Z.auditImageUrl:"../../../../assets/images/placeholderimage.png"))}),c.qZA()(),c.TgZ(9,"div",52)(10,"h6",53),c._uU(11),c.YNc(12,we,2,0,"ng-container",8),c.qZA(),c.TgZ(13,"p",54),c._uU(14),c.qZA(),c.TgZ(15,"p",55),c._uU(16),c.TgZ(17,"span"),c._uU(18),c.qZA()()()()()()()()(),c.TgZ(19,"td",40)(20,"div",19)(21,"div",20)(22,"ul",48)(23,"li"),c.YNc(24,Ze,11,4,"div",56)(25,Ie,6,1,"div",56),c.qZA()()()()()()}if(2&M){const b=de.$implicit,y=c.oxw(3);c.xp6(8),c.Q6J("src",b.assetImagePath?y.imageUrl+b.assetImagePath:"../../../../assets/images/placeholderimage.png",c.LSH),c.xp6(3),c.hij(" ",b.assetName," "),c.xp6(1),c.Q6J("ngIf",null==b?null:b.qrCodeImgPath),c.xp6(2),c.hij(" ",b.assetTagId?b.assetTagId:"NA"," "),c.xp6(2),c.hij(" ",b.locationName," | "),c.xp6(1),c.Tol(y.returnStatusBadgeClassesStatus(b.assetStatusId)),c.xp6(1),c.Oqu(b.assetStatus),c.xp6(6),c.Q6J("ngIf",b.modifiedByName),c.xp6(1),c.Q6J("ngIf",!b.modifiedByName)}}function ve(M,de){1&M&&(c.TgZ(0,"div",60),c._uU(1," No Asset Found "),c.qZA())}function ue(M,de){1&M&&(c._UZ(0,"i",64),c._uU(1," Prev "))}function ge(M,de){1&M&&(c._uU(0," Next "),c._UZ(1,"i",65))}function me(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"ngb-pagination",61),c.NdJ("pageChange",function(m){c.CHM(b);const Z=c.oxw(3);return c.KtG(Z.page=m)})("pageChange",function(m){c.CHM(b);const Z=c.oxw(3);return c.KtG(Z.OnChangesPage(m))}),c.YNc(1,ue,2,0,"ng-template",62)(2,ge,2,0,"ng-template",63),c.qZA()}if(2&M){const b=c.oxw(3);c.Q6J("collectionSize",b.totalRecordsFromApi)("page",b.page)("pageSize",b.pageSize)("maxSize",2)("rotate",!0)}}function Se(M,de){if(1&M&&(c.TgZ(0,"div",37)(1,"table",38)(2,"thead")(3,"tr",39)(4,"th",40),c._uU(5,"Asset Details"),c.qZA(),c.TgZ(6,"th",40),c._uU(7,"Audit Details"),c.qZA()()(),c.TgZ(8,"tbody"),c.YNc(9,_e,26,10,"tr",41),c.qZA()(),c.YNc(10,ve,2,0,"div",42),c.qZA(),c.TgZ(11,"div",43)(12,"div",44)(13,"div",45),c._uU(14),c.qZA()(),c.TgZ(15,"div",44)(16,"div",46),c.YNc(17,me,3,5,"ngb-pagination",47),c.qZA()()()),2&M){const b=c.oxw(2);c.xp6(9),c.Q6J("ngForOf",b.assetList),c.xp6(1),c.Q6J("ngIf",0===b.assetList.length),c.xp6(4),c.lnq(" Showing ",b.from," to ",b.to," of ",b.totalRecordsFromApi," entries "),c.xp6(3),c.Q6J("ngIf",b.totalRecordsFromApi>b.pageSize)}}function oe(M,de){if(1&M){const b=c.EpF();c.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21)(5,"div",22)(6,"ng-select",23),c.NdJ("change",function(m){c.CHM(b);const Z=c.oxw();return c.KtG(Z.onDropdownAssetStatusValueChange(m))})("ngModelChange",function(m){c.CHM(b);const Z=c.oxw();return c.KtG(Z.selectedDropDownAssetStatusIdValue=m)}),c.qZA()(),c.TgZ(7,"div",22)(8,"div",24)(9,"input",25,26),c.NdJ("ngModelChange",function(m){c.CHM(b);const Z=c.oxw();return c.KtG(Z.typeAssetNameValue=m)})("input",function(){c.CHM(b);const m=c.oxw();return c.KtG(m.onTypeAssetNameChange(!1))}),c.qZA(),c._UZ(11,"i",27),c.qZA()(),c.TgZ(12,"div",22)(13,"div",24)(14,"input",28,29),c.NdJ("ngModelChange",function(m){c.CHM(b);const Z=c.oxw();return c.KtG(Z.typeAssetTagIdValue=m)})("input",function(){c.CHM(b);const m=c.oxw();return c.KtG(m.onTypeAssetTagIdChange(!1))}),c.qZA(),c._UZ(16,"i",27),c.qZA()(),c.TgZ(17,"div",30)(18,"div",31)(19,"button",32),c.NdJ("click",function(){c.CHM(b);const m=c.oxw();return c.KtG(m.resetSerachVariable())}),c._UZ(20,"i",33),c._uU(21," Clear "),c.qZA()()()()(),c.TgZ(22,"div",34)(23,"div")(24,"ul",35,36)(26,"li",3),c.YNc(27,Se,18,6,"ng-template",7),c.qZA()(),c.TgZ(28,"div",9),c._UZ(29,"div",10),c.qZA()()()()()()}if(2&M){const b=c.MAs(25),y=c.oxw();c.xp6(6),c.Q6J("items",y.arrayListDropDownAssetStatus)("clearable",!0)("ngModel",y.selectedDropDownAssetStatusIdValue),c.xp6(3),c.Q6J("ngModel",y.typeAssetNameValue),c.xp6(5),c.Q6J("ngModel",y.typeAssetTagIdValue),c.xp6(10),c.Q6J("activeId",1),c.xp6(2),c.Q6J("ngbNavItem",1),c.xp6(3),c.Q6J("ngbNavOutlet",b)}}function ke(M,de){if(1&M&&c._UZ(0,"app-not-match-asset",67),2&M){const b=c.oxw(2);c.Q6J("assetList",b.assetAuditNotMatch)}}function he(M,de){if(1&M&&(c.ynx(0),c.TgZ(1,"li",3)(2,"a",4)(3,"div",5)(4,"p",6),c._uU(5," Not Match "),c.TgZ(6,"span",66),c._uU(7),c.qZA()()()(),c.YNc(8,ke,1,1,"ng-template",7),c.qZA(),c.BQk()),2&M){const b=c.oxw();c.xp6(1),c.Q6J("ngbNavItem",3),c.xp6(6),c.hij("",b.assetAuditNotMatch.length," ")}}let fe=(()=>{class M{constructor(b,y,m,Z,q,X,Te){this.router=b,this.auditService=y,this.authService=m,this.commonFunctionService=Z,this.modalService=q,this.assetService=X,this.lightbox=Te,this.isProject=!1,this.payload={assetAuditId:null,SearchAssetName:null,SearchAssetTagId:null,displayLength:10,displayStart:0,SearchAssetStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.assetList=[],this.page=1,this.collectionSize=0,this.imageUrl=J.N.apiUrl,this.defaultNavActiveId=1,this.assetAuditNotMatch=[],this.arrayListDropDownAssetStatus=[],this.selectedDropDownAssetStatusIdValue=null,this.isProject=this.authService.getisProject()}ngOnChanges(b){this.payload={assetAuditId:this.auditId,SearchAssetName:null,SearchAssetTagId:null,displayLength:10,displayStart:0,SearchAssetStatusId:null},this.loadData(),this.getAssetAuditNotMatch(this.auditId),this.getAssetStatusList("AssetList")}ngOnInit(){}getAssetAuditNotMatch(b){this.auditService.getAssetAuditNotMatch({assetAuditId:b}).subscribe(m=>{this.assetAuditNotMatch=m||[]})}returnStatusBadgeClassesStatus(b){return this.commonFunctionService.returnStatusBadgeClasses(b)}loadData(){this.auditService.getTransactionAssetAudit_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(b=>{this.assetList=b.list,this.assetList.length>0?(this.totalRecordsFromApi=b.list[0].totalCount,this.from=b.list.reduce((y,m)=>m.rowNum<y?m.rowNum:y,b.list[0].rowNum),this.to=b.list.reduce((y,m)=>m.rowNum>y?m.rowNum:y,b.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}onDropdownAssetStatusValueChange(b){this.payload.SearchAssetStatusId=this.selectedDropDownAssetStatusIdValue,this.loadData()}getAssetStatusList(b){this.assetService.getAssetStatusList(b).subscribe(y=>{this.arrayListDropDownAssetStatus=y},y=>{})}onTypeAssetNameChange(b){this.typeAssetNameValue.length?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData()):(this.typeAssetNameValue=null,this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetName=this.typeAssetNameValue,this.loadData())}onTypeAssetTagIdChange(b){this.typeAssetTagIdValue.length?(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.loadData()):(this.typeAssetTagIdValue=null,this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAssetTagId=this.typeAssetTagIdValue,this.loadData())}OnChangesPage(b){b&&(this.payload.displayStart=this.pageSize*(b-1),this.loadData())}viewQrCodeImage(b,y){this.assetQrData=y,this.modalService.open(b,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}ngAfterViewInit(){this.input&&this.input.nativeElement&&(0,i.R)(this.input?.nativeElement,"input").pipe((0,p.h)(Boolean),(0,Q.b)(1e3),(0,e.x)(),(0,d.b)(b=>{this.onTypeAssetNameChange(!0)})).subscribe(),this.typeAssetTagIdValue&&this.inputerTagId.nativeElement&&(0,i.R)(this.inputerTagId?.nativeElement,"input").pipe((0,p.h)(Boolean),(0,Q.b)(1e3),(0,e.x)(),(0,d.b)(b=>{this.onTypeAssetTagIdChange(!0)})).subscribe()}open(b){let m=[];m.push({src:b,caption:"",thumb:"thumb"}),this.lightbox.open(m)}resetSerachVariable(){this.typeAssetNameValue=null,this.typeAssetTagIdValue=null,this.selectedDropDownAssetStatusIdValue=null,this.payload={assetAuditId:this.auditId,SearchAssetName:null,SearchAssetTagId:null,displayLength:10,displayStart:0,SearchAssetStatusId:null},this.page=1,this.loadData()}static{this.\u0275fac=function(y){return new(y||M)(c.Y36(R.F0),c.Y36(C.C),c.Y36(v.u),c.Y36($.K),c.Y36(F.FF),c.Y36(U.d),c.Y36(ce.ey))}}static{this.\u0275cmp=c.Xpm({type:M,selectors:[["app-asset-audit-view"]],viewQuery:function(y,m){if(1&y&&(c.Gf(E,7),c.Gf(B,7)),2&y){let Z;c.iGM(Z=c.CRH())&&(m.input=Z.first),c.iGM(Z=c.CRH())&&(m.inputerTagId=Z.first)}},inputs:{auditId:"auditId"},features:[c.TTD],decls:13,vars:4,consts:[["qrView",""],["ngbNav","",1,"nav-tabs","nav-tabs-custom",3,"activeId","activeIdChange"],["defaultNav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"d-flex","flex-row","flex-lg-column","flex-xl-row","align-items-center"],[1,"d-none","d-sm-block","mb-0"],["ngbNavContent",""],[4,"ngIf"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","assetStatus","bindValue","assetStatusId","id","ticketStatus","placeholder","Select Status","for","ticketStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for asset name",1,"form-control",3,"ngModel","ngModelChange","input"],["inputer",""],[1,"ri-search-line","search-icon"],["type","search","name","searchTerm","placeholder","Search Asset Tag Id",1,"form-control",3,"ngModel","ngModelChange","input"],["inputerTagId",""],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[1,"w-50"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"list-unstyled","mb-0","vstack","gap-3"],[1,"d-flex","align-items-center"],[1,"flex-shrink-0"],["alt","",1,"avatar-sm","rounded",3,"src","click"],[1,"flex-grow-1","ms-3"],[1,"fs-15","mb-0"],[1,"text-primary","mb-0"],[1,"text-muted","mb-0"],["class","d-flex align-items-center",4,"ngIf"],[1,"ri-qr-code-line","fs-17","align-middle","pe-auto",3,"click"],[1,"fs-15","mb-1",3,"ngClass"],[1,"mb-0"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"badge","bg-success","ms-1"],[3,"assetList"]],template:function(y,m){if(1&y&&(c.YNc(0,le,8,1,"ng-template",null,0,c.W1O),c.TgZ(2,"ul",1,2),c.NdJ("activeIdChange",function(q){return m.defaultNavActiveId=q}),c.TgZ(4,"li",3)(5,"a",4)(6,"div",5)(7,"p",6),c._uU(8,"Total Asset"),c.qZA()()(),c.YNc(9,oe,30,8,"ng-template",7),c.qZA(),c.YNc(10,he,9,2,"ng-container",8),c.qZA(),c.TgZ(11,"div",9),c._UZ(12,"div",10),c.qZA()),2&y){const Z=c.MAs(3);c.xp6(2),c.Q6J("activeId",m.defaultNavActiveId),c.xp6(2),c.Q6J("ngbNavItem",1),c.xp6(6),c.Q6J("ngIf",0!=m.assetAuditNotMatch.length),c.xp6(2),c.Q6J("ngbNavOutlet",Z)}},dependencies:[pe.mk,pe.sg,pe.O5,F.uN,F.Pz,F.nv,F.Is,F.Vx,F.tO,F.Dy,be.Fj,be.JJ,be.On,F.N9,F.GZ,F.ju,F._L,V.w9,D]})}}return M})()},859:(xe,re,h)=>{h.d(re,{z:()=>Q});var i=h(9212),p=h(7291);let Q=(()=>{class e{constructor(J){this.modal=J}ngOnInit(){}ngOnChanges(J){}close(J){this.modal.close(J)}deleteData(){}static{this.\u0275fac=function(c){return new(c||e)(i.Y36(p.Kz))}}static{this.\u0275cmp=i.Xpm({type:e,selectors:[["app-delete-modal"]],inputs:{title:"title",subTitle:"subTitle"},features:[i.TTD],decls:17,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","fs-15","mx-2","mx-sm-2"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-primary",3,"click"]],template:function(c,R){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"button",2),i.NdJ("click",function(){return R.close("Close click")}),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4),i._UZ(5,"lord-icon",5),i.TgZ(6,"div",6)(7,"h5"),i._uU(8),i.qZA(),i.TgZ(9,"p",7),i._uU(10),i.qZA()()(),i.TgZ(11,"div",8)(12,"button",9),i.NdJ("click",function(){return R.close("Close click")}),i._UZ(13,"i",10),i._uU(14," Close "),i.qZA(),i.TgZ(15,"button",11),i.NdJ("click",function(){return R.close("delete")}),i._uU(16," Yes, Delete It! "),i.qZA()()()()),2&c&&(i.xp6(8),i.Oqu(R.title),i.xp6(2),i.hij("",R.subTitle," "))}})}}return e})()},7708:(xe,re,h)=>{h.d(re,{Z:()=>J});var i=h(9212),p=h(6814);function Q(c,R){if(1&c&&(i.TgZ(0,"div")(1,"div",4),i._uU(2),i.qZA()()),2&c){const C=i.oxw().$implicit;i.Tol(C.background),i.xp6(2),i.hij(" ",C.title," ")}}function e(c,R){if(1&c){const C=i.EpF();i.TgZ(0,"div",5),i.NdJ("click",function(){i.CHM(C);const $=i.oxw().$implicit,F=i.oxw();return i.KtG(F.sendObject($))}),i.TgZ(1,"div",6)(2,"div",7),i._uU(3),i.qZA()()()}if(2&c){const C=i.oxw().$implicit;i.Tol(C.background),i.xp6(2),i.Q6J("title",C.subTitle),i.xp6(1),i.hij(" ",C.title," ")}}function d(c,R){if(1&c&&(i.ynx(0),i.YNc(1,Q,3,3,"div",2)(2,e,4,4,"div",3),i.BQk()),2&c){const C=R.$implicit;i.xp6(1),i.Q6J("ngIf",C.boxRequired),i.xp6(1),i.Q6J("ngIf",!C.boxRequired)}}let J=(()=>{class c{constructor(){this.valueObject=[],this.isBillingRequired="",this.isGlobal="",this.SeviceType="Service",this.ticketStatusId=0,this.incindetTechSignImageURL=null,this.incindetClientSignImageURL=null,this.workFlowRequired=[],this.sendToActivingForTab=new i.vpe}ngOnInit(){}ngOnChanges(C){"Service"==this.SeviceType?("null"===this.isBillingRequired&&(console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsBillingRequiredNull(this.ticketStatusId)),"false"==this.isBillingRequired&&(console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsBillingRequiredFalse(this.ticketStatusId)),"false"==this.isGlobal&&(console.log("isGlobal",this.isGlobal),this.valueObject=this.getObjectWithIsGlobalFalse(this.ticketStatusId)),"true"==this.isBillingRequired&&"true"==this.isGlobal&&(console.log("isGlobal",this.isGlobal),console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsGlobalTrueIsBillingRequiredTrue(this.ticketStatusId))):("null"===this.isBillingRequired&&(console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsBillingRequiredNull(this.ticketStatusId)),"false"==this.isBillingRequired&&(console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsBillingRequiredFalseIncident(this.ticketStatusId)),"false"==this.isGlobal&&(console.log("isGlobal",this.isGlobal),this.valueObject=this.getObjectWithIsGlobalFalse(this.ticketStatusId)),"true"==this.isBillingRequired&&"true"==this.isGlobal&&(console.log("isGlobal",this.isGlobal),console.log("isBillingRequired",this.isBillingRequired),this.valueObject=this.getObjectWithIsGlobalTrueIsBillingRequiredTrueIncident(this.ticketStatusId)))}getObjectWithIsBillingRequiredNull(C){let v;return console.log("hello2"),48==C?v=[{title:"The ticket is currently awaiting action from the help desk to escalate the further process to either the technical team or the finance team, ensuring service continuity",subTitle:"",background:"danger",boxRequired:!0}]:51==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Billing Verification",subTitle:"The ticket is currently undergoing the billing check process. If approved, a quotation for the ticket can be generated. If rejected, a Service Order (SO) can be generated instead",background:"danger",boxRequired:!1}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getObjectWithIsBillingRequiredFalse(C){let v;return console.log("hello3"),52==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process.",background:"danger",boxRequired:!1},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order",background:"warning",boxRequired:!1},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:34==C||30==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The work has been Started by the Member. ",background:"danger",boxRequired:!1},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:72==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Client Verification",subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:29==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The work has been Started by the Member. ",background:"danger",boxRequired:!1},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:61==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:31==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The internal verification has been completed",background:"success"},{title:"Client Verification",subTitle:"The ticket is undergoing closure process by the client.",background:"danger",boxRequired:!1}]:32==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The internal verification has been completed",background:"success",boxRequired:!1},{title:"Client Verification",subTitle:"The Ticket has passed client verification, the ticket is closed now.",background:"success",boxRequired:!1}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getObjectWithIsGlobalFalse(C){let v;return console.log("hello4"),48==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process",background:"danger",boxRequired:!1},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",background:"warning",boxRequired:!1},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process",background:"warning",boxRequired:!1}]:52==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success"},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process",background:"danger"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process",background:"warning",boxRequired:!1}]:51==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success"},{title:"Billing Verification",subTitle:"The ticket is currently undergoing the billing check process. If approved, a quotation for the ticket can be generated. If rejected, a Service Order (SO) can be generated instead",boxRequired:!1,background:"danger"}]:30==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process",boxRequired:!1,background:"warning"}]:72==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:" The work has been completed, and it is now undergoing a recheck/review process.",boxRequired:!1,background:"danger"}]:34==C||29==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:" The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:" Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"}]:61==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:" The work has been completed, and it is now undergoing a recheck/review process.",boxRequired:!1,background:"danger"}]:32==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member.",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The internal verification has been completed; now, the ticket is closed.",background:"success",boxRequired:!1}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getObjectWithIsGlobalTrueIsBillingRequiredTrue(C){let v;return console.log("hello5"),53==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The billing process has been approved, and now this ticket is awaiting the generation of a quotation.",boxRequired:!1,background:"danger"},{title:"Quotation Internal Verification",subTitle:" Awaiting internal quotation verification process, to proceed first, it is required to generate the quotation.",boxRequired:!1,background:"warning"},{title:"Quotation Client Verification",subTitle:"Awaiting client quotation verification to complete the internal quotation verification process.",boxRequired:!1,background:"warning"},{title:"Service Order",subTitle:"Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Client Verification",subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.  ",boxRequired:!1,background:"warning"}]:57==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification"+(this.getRequriedData()?"":"-Rejected"),subTitle:this.getRequriedData()?" Internal Quotation verification process is completed successfully. ":"The quotation has been generated successfully, and now this ticket is undergoing the internal quotation Verification process.",boxRequired:!1,background:this.getRequriedData()?"success":"danger"},{title:"Quotation Client Verification"+(this.getRequriedData()?"-Rejected":""),subTitle:this.getRequriedData()?"The quotation has passed internal verification, and now this ticket is undergoing the client quotation Verification process.":"Awaiting client quotation verification to complete the internal quotation verification process.",boxRequired:!1,background:this.getRequriedData()?"danger":"warning"},{title:"Service Order",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Waiting to generate the service order.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Task",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Internal Verification",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Awaiting completion of the task for verification process.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Client Verification",subTitle:this.getRequriedData()?"The Ticket has been Rejected":" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"}]:54==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"The quotation has been generated successfully, and now this ticket is undergoing the internal quotation Verification process.",boxRequired:!1,background:"danger"},{title:"Quotation Client Verification",subTitle:"The internal quotation verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"},{title:"Service Order",subTitle:"Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Client Verification",subTitle:"The internal quotation verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"}]:55==C?(console.log("hh"),v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"The quotation has passed internal verification, and now this ticket is undergoing the client quotation Verification process.",boxRequired:!1,background:"danger"},{title:"Service Order",subTitle:"Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Client Verification",subTitle:"The internal quotation verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"}]):52==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process.",boxRequired:!1,background:"danger"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Client Verification",subTitle:"The internal quotation verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"}]:34==C||30==C||29==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Client Verification",subTitle:"The internal verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"}]:61==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning"}]:31==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:" The internal verification has been completed.",boxRequired:!1,background:"success"},{title:"Client Verification",subTitle:"The ticket is undergoing closure process by the client.",boxRequired:!1,background:"danger"}]:32==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The internal verification has been completed.",boxRequired:!1,background:"success"},{title:"Client Verification",subTitle:"The Ticket has passed client verification, the ticket is closed now.",boxRequired:!1,background:"success"}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getObjectWithIsBillingRequiredFalseIncident(C){let v;return console.log("hello6"),52==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process.",background:"danger",boxRequired:!1},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",background:"warning",boxRequired:!1},{title:"Internal Verification",subTitle:" The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",background:"warning",boxRequired:!1},{title:"Tech Signature Process",subTitle:"The internal verification has been completed.awaiting member signature.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The ticket is undergoing closure process by the client.",background:"warning",boxRequired:!1,client:"Second"}]:34==C||30==C||29==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:" The work has been Started by the Member. ",background:"danger",boxRequired:!1},{title:"Internal Verification",subTitle:" The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",background:"warning",boxRequired:!1},{title:"Tech Signature Process",subTitle:"The internal verification has been completed.awaiting member signature.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The ticket is undergoing closure process by the client.",background:"warning",boxRequired:!1,client:"Second"}]:61==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member.",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1,client:"Second"},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",boxRequired:!1}]:31==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:"The task has been completed by the member.",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:"The ticket is undergoing closure process by the client.",background:"success",boxRequired:!1},{title:"Tech Signature Process",subTitle:null==this.incindetTechSignImageURL?"The internal verification has been completed.awaiting member signature.":"Member Signature Completed.",background:null==this.incindetTechSignImageURL?"danger":"success",boxRequired:!1},{title:"Client Verification",subTitle:null==this.incindetTechSignImageURL?"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.":null==this.incindetClientSignImageURL?"The internal verification has been completed.awaiting Client signature.":"The Ticket has passed client verification, the ticket is closed now.",boxRequired:!1,background:null==this.incindetTechSignImageURL?"warning":null==this.incindetClientSignImageURL?"danger":"success",client:"Second"}]:32==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",background:"success",boxRequired:!1},{title:"Task",subTitle:" The task has been completed by the member.",background:"success",boxRequired:!1},{title:"Internal Verification",subTitle:" The internal verification has been completed.",background:"success",boxRequired:!1},{title:"Tech Signature Process",subTitle:null==this.incindetTechSignImageURL?"The internal verification has been completed.awaiting member signature.":" Member Signature Completed.",background:null==this.incindetTechSignImageURL?"danger":"success",boxRequired:!1},{title:"Client Verification",subTitle:null==this.incindetTechSignImageURL?"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.":null==this.incindetClientSignImageURL?"The internal verification has been completed.awaiting Client signature.":"The Ticket has passed client verification, the ticket is closed now.",boxRequired:!1,background:null==this.incindetTechSignImageURL?"warning":null==this.incindetClientSignImageURL?"danger":"success",client:"Second"}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getObjectWithIsGlobalTrueIsBillingRequiredTrueIncident(C){let v;return console.log("hello1"),53==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The billing process has been approved, and now this ticket is awaiting the generation of a quotation.",boxRequired:!1,background:"danger"},{title:"Quotation Internal Verification",subTitle:"Awaiting internal quotation verification process, to proceed first, it is required to generate the quotation.",boxRequired:!1,background:"warning"},{title:"Quotation Client Verification",subTitle:" Awaiting client quotation verification to complete the internal quotation verification process.",boxRequired:!1,background:"warning"},{title:"Service Order",subTitle:" Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:" Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:57==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification"+(this.getRequriedData()?"":"-Rejected"),subTitle:this.getRequriedData()?"Client Quotation verification process completed successfully.":"danger",boxRequired:!1,background:this.getRequriedData()?"success":"danger"},{title:"Quotation Client Verification"+(this.getRequriedData()?"-Rejected":""),subTitle:this.getRequriedData()?"The quotation has passed internal verification, and now this ticket is undergoing the client quotation Verification process.":"Awaiting client quotation verification to complete the internal quotation verification process.",boxRequired:!1,background:this.getRequriedData()?"danger":"warning"},{title:"Service Order",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Waiting to generate the service order.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Task",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Internal Verification",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"Awaiting completion of the task for verification process.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning"},{title:"Tech Signature Process",subTitle:this.getRequriedData()?"The Ticket has been Rejected":" Member Signature Pending.",background:this.getRequriedData()?"blur":"warning",boxRequired:!1},{title:"Client Verification",subTitle:this.getRequriedData()?"The Ticket has been Rejected":"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:this.getRequriedData()?"blur":"warning",client:"Second"}]:54==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"The quotation has been generated successfully, and now this ticket is undergoing the internal quotation Verification process",boxRequired:!1,background:"danger"},{title:"Quotation Client Verification",subTitle:"Awaiting client quotation verification to complete the internal quotation verification process.",boxRequired:!1,background:"warning"},{title:"Service Order",subTitle:" Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:" Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:" Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:55==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:" Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"The quotation has passed internal verification, and now this ticket is undergoing the client quotation Verification process.",boxRequired:!1,background:"danger"},{title:"Service Order",subTitle:" Waiting to generate the service order.",boxRequired:!1,background:"warning"},{title:"Task",subTitle:"Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:" Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:52==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The ticket is undergoing the service order generation process.",boxRequired:!1,background:"danger"},{title:"Task",subTitle:" Awaiting the member to commence the task for the service order.",boxRequired:!1,background:"warning"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:34==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:" The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",boxRequired:!1,subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",background:"warning",client:"Second"}]:30==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:" The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:"Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:29==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:" The work has been Started by the Member. ",boxRequired:!1,background:"danger"},{title:"Internal Verification",subTitle:" Awaiting completion of the task for verification process.",boxRequired:!1,background:"warning"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The internal verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:72==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:" The internal verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:61==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The work has been completed, and it is now undergoing a Acknowledgement process by Admin.",boxRequired:!1,background:"danger"},{title:"Tech Signature Process",subTitle:"Member Signature Pending.",background:"warning",boxRequired:!1},{title:"Client Verification",subTitle:"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.",boxRequired:!1,background:"warning",client:"Second"}]:31==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The internal verification has been completed.",boxRequired:!1,background:"success"},{title:"Tech Signature Process",subTitle:null==this.incindetTechSignImageURL?"The internal verification has been completed.awaiting member signature.":"Member Signature Completed.",background:null==this.incindetTechSignImageURL?"danger":"success",boxRequired:!1},{title:"Client Verification",subTitle:null==this.incindetTechSignImageURL?"The internal  verification process is awaiting completion in order to proceed with the client verification process in order to close the ticket.":null==this.incindetClientSignImageURL?"The internal verification has been completed.awaiting Client signature.":"The Ticket has passed client verification, the ticket is closed now.",boxRequired:!1,background:null==this.incindetTechSignImageURL?"warning":null==this.incindetClientSignImageURL?"danger":"success",client:"Second"}]:32==C?v=[{title:"Ticket Created",subTitle:"The ticket has been created.",boxRequired:!1,background:"success"},{title:"Billing Verification",subTitle:"The ticket has passed the billing process",boxRequired:!1,background:"success"},{title:"Quotation",subTitle:"The Quotation has been generated successfully.",boxRequired:!1,background:"success"},{title:"Quotation Internal Verification",subTitle:"Internal Quotation verification process is completed successfully. ",boxRequired:!1,background:"success"},{title:"Quotation Client Verification",subTitle:"Client Quotation verification process completed successfully.",boxRequired:!1,background:"success"},{title:"Service Order",subTitle:"The service order has been generated for the ticket.",boxRequired:!1,background:"success"},{title:"Task",subTitle:"The task has been completed by the member.",boxRequired:!1,background:"success"},{title:"Internal Verification",subTitle:"The internal verification has been completed.",boxRequired:!1,background:"success"},{title:"Tech Signature Process",subTitle:"Member Signature Completed.",background:"success",boxRequired:!1},{title:"Client Verification",subTitle:"The Ticket has passed client verification, the ticket is closed now.",boxRequired:!1,background:"success",client:"Second"}]:19==C&&(v=[{title:"Ticket Created",subTitle:"The ticket has been created.",background:"success",boxRequired:!1},{title:"Canceled",subTitle:"The ticket has been canceled",background:"blur",boxRequired:!1}]),v}getRequriedData(){if(console.log(this.workFlowRequired),!Array.isArray(this.workFlowRequired))return console.error("workFlowRequired is not an array"),!1;const C=this.workFlowRequired.some(v=>v&&"Quotation Requiring Approval From The Client Process"===v.workflowName);return console.log(C,"mydata"),C}sendObject(C){this.sendToActivingForTab.emit(C)}static{this.\u0275fac=function(v){return new(v||c)}}static{this.\u0275cmp=i.Xpm({type:c,selectors:[["app-flow-chart-with-digram"]],inputs:{isBillingRequired:"isBillingRequired",isGlobal:"isGlobal",SeviceType:"SeviceType",ticketStatusId:"ticketStatusId",incindetTechSignImageURL:"incindetTechSignImageURL",incindetClientSignImageURL:"incindetClientSignImageURL",workFlowRequired:"workFlowRequired"},outputs:{sendToActivingForTab:"sendToActivingForTab"},features:[i.TTD],decls:2,vars:1,consts:[[1,"d-flex","align-items-center","mt-2"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[3,"class","click",4,"ngIf"],[1,"boxNoborder"],[3,"click"],[1,"arrow-box"],[1,"padd-left",3,"title"]],template:function(v,$){1&v&&(i.TgZ(0,"div",0),i.YNc(1,d,3,2,"ng-container",1),i.qZA()),2&v&&(i.xp6(1),i.Q6J("ngForOf",$.valueObject))},dependencies:[p.sg,p.O5],styles:['.success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]{position:relative;background-color:#6ada7d;color:#fff;margin:10px;width:151px;height:44px;display:flex;justify-content:center;align-items:center;font-size:12px;animation:_ngcontent-%COMP%_backgroundFadesuccess 2s infinite;transition:font-size .3s ease,color .3s ease}.success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before, .success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0}.success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{right:0;top:0;border-top:20px solid transparent;border-bottom:24px solid transparent;border-left:20px solid #6ada7d;margin-right:-20px}.success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before{left:0;top:0;border-top:20px solid transparent;border-bottom:22px solid transparent;border-right:21px solid white;margin-left:0;transform:rotate(180deg)}.success[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:hover{color:#fff;font-size:14px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]{position:relative;background-color:orange;color:#fff;margin:10px;width:151px;height:44px;display:flex;justify-content:center;align-items:center;font-size:12px;animation:_ngcontent-%COMP%_backgroundFadewarning 2s infinite;transition:font-size .3s ease,color .3s ease}.warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before, .warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0}.warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{right:0;top:0;border-top:20px solid transparent;border-bottom:24px solid transparent;border-left:20px solid #ffa500;margin-right:-20px}.warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before{left:0;top:0;border-top:20px solid transparent;border-bottom:22px solid transparent;border-right:21px solid white;margin-left:0;transform:rotate(180deg)}.warning[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:hover{color:#fff;font-size:14px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]{position:relative;background-color:#fa896b;color:#fff;margin:10px;width:151px;height:44px;display:flex;justify-content:center;align-items:center;font-size:12px;animation:_ngcontent-%COMP%_backgroundFadedanger 2s infinite;transition:font-size .3s ease,color .3s ease}.danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before, .danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0}.danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{right:0;top:0;border-top:20px solid transparent;border-bottom:24px solid transparent;border-left:20px solid #fa896b;margin-right:-20px}.danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before{left:0;top:0;border-top:20px solid transparent;border-bottom:22px solid transparent;border-right:21px solid white;margin-left:0;transform:rotate(180deg)}.danger[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:hover{color:#fff;font-size:13px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]{position:relative;background-color:#2e2d2d;color:#fff;margin:10px;width:151px;height:44px;display:flex;justify-content:center;align-items:center;font-size:12px;animation:_ngcontent-%COMP%_backgroundFadeblur 2s infinite;transition:font-size .3s ease,color .3s ease;cursor:no-drop}.blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before, .blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0}.blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:after{right:0;top:0;border-top:20px solid transparent;border-bottom:24px solid transparent;border-left:20px solid #2e2d2d;margin-right:-20px}.blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:before{left:0;top:0;border-top:20px solid transparent;border-bottom:22px solid transparent;border-right:21px solid white;margin-left:0;transform:rotate(180deg)}.blur[_ngcontent-%COMP%]   .arrow-box[_ngcontent-%COMP%]:hover{color:#fff;font-size:13px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}@keyframes _ngcontent-%COMP%_backgroundFadedanger{0%,to{background-color:#fa896b}50%{background-color:#fa896c}}@keyframes _ngcontent-%COMP%_backgroundFadewarning{0%,to{background-color:orange}50%{background-color:#ffa504}}@keyframes _ngcontent-%COMP%_backgroundFadesuccess{0%,to{background-color:#6ada7d}50%{background-color:#6ada7e}}@keyframes _ngcontent-%COMP%_backgroundFadeblur{0%,to{background-color:#2e2d2d}50%{background-color:#2e2d2d}}.padd-left[_ngcontent-%COMP%]{padding-left:21px;text-align:center;cursor:grab}.boxNoborder[_ngcontent-%COMP%]{background-color:#fa896b;padding:7px 10px;border-radius:20px;color:#fff}']})}}return c})()},8868:(xe,re,h)=>{h.d(re,{e:()=>Q});var i=h(9212),p=h(7291);let Q=(()=>{class e{constructor(J){this.modal=J}ngOnInit(){}ngOnChanges(J){}close(J){this.modal.close(J)}static{this.\u0275fac=function(c){return new(c||e)(i.Y36(p.Kz))}}static{this.\u0275cmp=i.Xpm({type:e,selectors:[["app-message-modal"]],inputs:{title:"title",subTitle:"subTitle"},features:[i.TTD],decls:15,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/tdrtiskw.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","120px","height","120px"],[1,"mt-2","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"]],template:function(c,R){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"button",2),i.NdJ("click",function(){return R.close("Close click")}),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4),i._UZ(5,"lord-icon",5),i.TgZ(6,"div",6)(7,"h4"),i._uU(8),i.qZA(),i.TgZ(9,"p",7),i._uU(10),i.qZA()()(),i.TgZ(11,"div",8)(12,"button",9),i.NdJ("click",function(){return R.close("Close click")}),i._UZ(13,"i",10),i._uU(14," Close "),i.qZA()()()()),2&c&&(i.xp6(8),i.Oqu(R.title),i.xp6(2),i.hij("",R.subTitle," "))}})}}return e})()},2341:(xe,re,h)=>{h.d(re,{l:()=>d});var i=h(9212),p=h(6289),Q=h(6814);function e(J,c){if(1&J){const R=i.EpF();i.TgZ(0,"button",4),i.NdJ("click",function(){i.CHM(R);const v=i.oxw();return i.KtG(v.signaturePadSignAgain())}),i._uU(1," Clear "),i.qZA()}}let d=(()=>{class J{constructor(){this.sendImagedata=new i.vpe,this.signatureTaken=!1,this.signaturePadOptions={minWidth:3,canvasWidth:390,canvasHeight:200,backgroundColor:"#ffffff"}}ngAfterViewInit(){this.signaturePad.set("minWidth",3),this.signaturePad.clear()}drawComplete(){this.signature=String(this.signaturePad?.toDataURL()),this.sendImagedata.emit(this.signature)}drawStart(){}signaturePadSignAgain(){this.signature="",this.signaturePad?.clear(),this.signatureSave=this.signature,this.sendImagedata.emit(this.signature)}static{this.\u0275fac=function(C){return new(C||J)}}static{this.\u0275cmp=i.Xpm({type:J,selectors:[["app-signature-pad"]],viewQuery:function(C,v){if(1&C&&i.Gf(p.u,5),2&C){let $;i.iGM($=i.CRH())&&(v.signaturePad=$.first)}},outputs:{sendImagedata:"sendImagedata"},decls:6,vars:2,consts:[[1,"signature-pad-container","mb-0"],[3,"options","onBeginEvent","onEndEvent"],[1,"form-label","mt-0","mb-2"],["class","btn btn-outline-warning btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-outline-warning","btn-sm",3,"click"]],template:function(C,v){1&C&&(i.TgZ(0,"div",0)(1,"signature-pad",1),i.NdJ("onBeginEvent",function(){return v.drawStart()})("onEndEvent",function(){return v.drawComplete()}),i.qZA()(),i.TgZ(2,"label",2),i._uU(3," Signature Here.... "),i.qZA(),i.TgZ(4,"div"),i.YNc(5,e,2,0,"button",3),i.qZA()),2&C&&(i.xp6(1),i.Q6J("options",v.signaturePadOptions),i.xp6(4),i.Q6J("ngIf",v.signature))},dependencies:[Q.O5,p.u],styles:[".signature-pad-container[_ngcontent-%COMP%]{width:400px;border:3px solid #dcdcdc!important}"]})}}return J})()},2552:(xe,re,h)=>{h.d(re,{A:()=>R});var i=h(9212),p=h(7291),Q=h(6814),e=h(6223);function d(C,v){if(1&C&&(i.TgZ(0,"p",7),i._uU(1),i.qZA()),2&C){const $=i.oxw();i.xp6(1),i.hij("",$.subTitle1," ")}}function J(C,v){if(1&C&&(i.TgZ(0,"p",18),i._uU(1),i.qZA()),2&C){const $=i.oxw();i.xp6(1),i.hij("",$.subTitle2," ")}}function c(C,v){1&C&&i._UZ(0,"i",19)}let R=(()=>{class C{constructor($){this.modal=$,this.buttonName="Done It",this.CancelName="Close",this.maxCharsDecision=100,this.remarkValue=""}ngOnInit(){}ngOnChanges($){}close($){this.modal.close("success"===$?{value:$,remark:this.remarkValue}:$)}deleteData(){}static{this.\u0275fac=function(F){return new(F||C)(i.Y36(p.Kz))}}static{this.\u0275cmp=i.Xpm({type:C,selectors:[["app-success-modal-with-remark"]],inputs:{title:"title",subTitle:"subTitle",buttonName:"buttonName",subTitle1:"subTitle1",subTitle2:"subTitle2",CancelName:"CancelName"},features:[i.TTD],decls:27,vars:12,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center"],["src","https://cdn.lordicon.com/tqywkdcz.json","trigger","hover",2,"width","150px","height","150px"],[1,"mt-2","fs-15","mx-2","mx-sm-3"],[1,"text-muted","mx-4","mb-3"],["class","text-muted mx-4 mb-3",4,"ngIf"],["class","text-muted mx-4 mb-0",4,"ngIf"],["for","exampleFormControlTextarea1",1,"form-label","text-muted","text-uppercase","fw-semibold"],[1,"starRequried"],["id","Remark","rows","4","placeholder","Remark",1,"form-control","bg-light","border-0",3,"ngModel","maxlength","ngModelChange"],[1,"nopadding","clrlbl"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],["class","ri-close-line me-1 align-middle",4,"ngIf"],["type","button","id","delete-product",1,"btn","w-sm","btn-primary",3,"disabled","click"],[1,"text-muted","mx-4","mb-0"],[1,"ri-close-line","me-1","align-middle"]],template:function(F,U){1&F&&(i.TgZ(0,"div",0)(1,"div",1)(2,"button",2),i.NdJ("click",function(){return U.close("Close click")}),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4),i._UZ(5,"lord-icon",5),i.TgZ(6,"div",6)(7,"h5"),i._uU(8),i.qZA(),i.TgZ(9,"p",7),i._uU(10),i.qZA(),i.YNc(11,d,2,1,"p",8)(12,J,2,1,"p",9),i.qZA(),i.TgZ(13,"div",6)(14,"label",10),i._uU(15,"Remark "),i.TgZ(16,"span",11),i._uU(17,"*"),i.qZA()(),i.TgZ(18,"textarea",12),i.NdJ("ngModelChange",function(pe){return U.remarkValue=pe}),i.qZA(),i.TgZ(19,"label",13),i._uU(20),i.qZA()()(),i.TgZ(21,"div",14)(22,"button",15),i.NdJ("click",function(){return U.close("close")}),i.YNc(23,c,1,0,"i",16),i._uU(24),i.qZA(),i.TgZ(25,"button",17),i.NdJ("click",function(){return U.close("success")}),i._uU(26),i.qZA()()()()),2&F&&(i.xp6(8),i.Oqu(U.title),i.xp6(2),i.hij("",U.subTitle," "),i.xp6(1),i.Q6J("ngIf",U.subTitle1),i.xp6(1),i.Q6J("ngIf",U.subTitle2),i.xp6(6),i.Q6J("ngModel",U.remarkValue)("maxlength",U.maxCharsDecision),i.xp6(2),i.AsE(" Characters Remaining: ",null==U.remarkValue?null:U.remarkValue.length,"/",U.maxCharsDecision,""),i.xp6(3),i.Q6J("ngIf","Close"==U.CancelName),i.xp6(1),i.hij(" ",U.CancelName," "),i.xp6(1),i.Q6J("disabled",0==U.remarkValue.length),i.xp6(1),i.hij(" Yes ",U.buttonName?" ,"+U.buttonName:"","! "))},dependencies:[Q.O5,e.Fj,e.JJ,e.nD,e.On]})}}return C})()},6372:(xe,re,h)=>{h.d(re,{P:()=>Y});var i=h(3643),p=h(553),Q=h(3519),e=h.n(Q),d=h(9212),J=h(7625),c=h(2857),R=h(7291),C=h(4435),v=h(6814),$=h(9417);function F(I,N){if(1&I&&(d.TgZ(0,"span",32),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function U(I,N){if(1&I&&(d.TgZ(0,"span",33),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function ce(I,N){if(1&I&&(d.TgZ(0,"span",34),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function pe(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",35),d.NdJ("click",function(){d.CHM(D);const B=d.oxw().$implicit,le=d.oxw(2);return d.KtG(le.open(le.imageUrl+B.sitePicUrlStart))}),d.qZA()}if(2&I){const D=d.oxw().$implicit,E=d.oxw(2);d.hYB("src","",E.imageUrl,"",D.sitePicUrlStart,"",d.LSH)}}function be(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",36),d.NdJ("click",function(){d.CHM(D);const B=d.oxw(3);return d.KtG(B.open("../../../../../../assets/images/placeholderimage.png"))}),d.qZA()}}function V(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",35),d.NdJ("click",function(){d.CHM(D);const B=d.oxw().$implicit,le=d.oxw(2);return d.KtG(le.open(le.imageUrl+B.sitePicUrlEnd))}),d.qZA()}if(2&I){const D=d.oxw().$implicit,E=d.oxw(2);d.hYB("src","",E.imageUrl,"",D.sitePicUrlEnd,"",d.LSH)}}function z(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",36),d.NdJ("click",function(){d.CHM(D);const B=d.oxw(3);return d.KtG(B.open("../../../../../../assets/images/placeholderimage.png"))}),d.qZA()}}function f(I,N){1&I&&(d.TgZ(0,"h6",10),d._uU(1,"Remark"),d.qZA())}function _(I,N){if(1&I&&(d.TgZ(0,"p",37),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.s9C("ngbTooltip",D.remark),d.xp6(1),d.hij(" ",D.remark||"-"," ")}}function j(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),d._uU(4),d.qZA(),d.TgZ(5,"div")(6,"span",11),d._uU(7),d.qZA()(),d.TgZ(8,"div",12)(9,"span",13),d.YNc(10,F,2,1,"span",14)(11,U,2,1,"span",15)(12,ce,2,1,"span",16),d.qZA()()(),d.TgZ(13,"div",17)(14,"div",18)(15,"div",19),d.YNc(16,pe,1,2,"img",20)(17,be,1,0,"img",21),d.qZA(),d.TgZ(18,"div",22)(19,"h5",23),d._uU(20,"Started By | Date & Time"),d.qZA(),d.TgZ(21,"p",24),d._UZ(22,"i",25),d._uU(23),d.qZA(),d.TgZ(24,"p",26),d._UZ(25,"i",27),d._uU(26),d.qZA()()(),d._UZ(27,"hr",2),d.TgZ(28,"div",18)(29,"div",19),d.YNc(30,V,1,2,"img",20)(31,z,1,0,"img",21),d.qZA(),d.TgZ(32,"div",22)(33,"h5",23),d._uU(34,"Ended By | Date & Time"),d.qZA(),d.TgZ(35,"p",24),d._UZ(36,"i",25),d._uU(37),d.qZA(),d.TgZ(38,"p",26),d._UZ(39,"i",27),d._uU(40),d.qZA()()(),d._UZ(41,"hr",2),d.YNc(42,f,2,0,"h6",28)(43,_,2,2,"p",29),d.TgZ(44,"p",30)(45,"a",31),d.NdJ("click",function(){const le=d.CHM(D).$implicit,we=d.oxw(2);return d.KtG(we.getTechnitionAttendanceListByTaskForSeerviceOrder(null==le?null:le.woTaskId))}),d._uU(46," View Attendance"),d.qZA()()()()()}if(2&I){const D=N.$implicit,E=N.index,B=d.oxw(2);d.xp6(4),d.hij("Task-",B.ticketWOStartEndTask.length-E,""),d.xp6(2),d.Tol(B.commonFunctionService.returnStatusBadgeClasses(D.soStatusId)),d.xp6(1),d.Oqu(D.soStatusName||"-"),d.xp6(3),d.Q6J("ngIf","On-Site"==(null==D?null:D.supportType)||"On Site"==(null==D?null:D.supportType)),d.xp6(1),d.Q6J("ngIf","Remote"==(null==D?null:D.supportType)),d.xp6(1),d.Q6J("ngIf","Phone Call"==(null==D?null:D.supportType)),d.xp6(4),d.Q6J("ngIf",D.sitePicUrlStart),d.xp6(1),d.Q6J("ngIf",!D.sitePicUrlStart),d.xp6(6),d.hij("",D.startDateTimeByName||"-"," "),d.xp6(3),d.hij("",D.startDateTime||"-"," "),d.xp6(4),d.Q6J("ngIf",D.sitePicUrlEnd),d.xp6(1),d.Q6J("ngIf",!D.sitePicUrlEnd),d.xp6(6),d.hij("",D.endDateTimeByName||"-"," "),d.xp6(3),d.hij("",D.endDateTime||"-"," "),d.xp6(2),d.Q6J("ngIf",D.remark),d.xp6(1),d.Q6J("ngIf",D.remark)}}function K(I,N){if(1&I&&(d.TgZ(0,"div",5),d.YNc(1,j,47,17,"div",6),d.qZA()),2&I){const D=d.oxw();d.xp6(1),d.Q6J("ngForOf",D.ticketWOStartEndTask)}}function se(I,N){1&I&&(d.TgZ(0,"div",5)(1,"div",38)(2,"p",39),d._uU(3,"No Task Created"),d.qZA()()())}let Y=(()=>{class I{constructor(D,E,B,le){this.lightbox=D,this.commonFunctionService=E,this.offcanvasService=B,this.auditService=le,this.imageUrl=p.N.apiUrl,this.ticketWOStartEndTask=[]}ngOnChanges(D){}ngOnInit(){}open(D){let B=[];B.push({src:D,caption:"",thumb:"thumb"}),this.lightbox.open(B)}getTechnitionAttendanceListByTaskForSeerviceOrder(D){this.auditService.getTechnitionAttendanceListByTaskForAudit({WOTaskId:D}).subscribe(B=>{B.obj&&this.openModalViewTech(B.obj)})}openModalViewTech(D){if(D.length>0){const E=this.offcanvasService.open(i.f,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas "});E.componentInstance.ticketingTechnicianList=D,E.result.then(B=>{}).catch(B=>{})}else this.waring("No Record Found Technition ")}waring(D){e().fire({toast:!0,position:"top-end",icon:"warning",title:D,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(E){return new(E||I)(d.Y36(J.ey),d.Y36(c.K),d.Y36(R._B),d.Y36(C.C))}}static{this.\u0275cmp=d.Xpm({type:I,selectors:[["app-task-end-audit"]],inputs:{ticketWOStartEndTask:"ticketWOStartEndTask"},features:[d.TTD],decls:7,vars:2,consts:[[1,"px-3","mb-2","mt-3",2,"height","608px"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-2","mt-2"],[1,"card-title","mb-0"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-4 stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","stretch-card"],[1,"card","border","border-dashed"],[1,"card-header","d-flex","justify-content-between","align-items-center","p-2"],[1,"mb-0"],[1,"fs-12"],[1,"d-flex","justify-content-end","align-items-center"],[1,"me-2"],["class","badge bg-primary fs-12",4,"ngIf"],["class","badge bg-warning fs-12",4,"ngIf"],["class","badge bg-info fs-12",4,"ngIf"],[1,"card-body"],[1,"d-flex","mb-0"],[1,"flex-shrink-0"],["class","avatar-md rounded",3,"src","click",4,"ngIf"],["src","../../../../../../assets/images/placeholderimage.png","class","avatar-md rounded",3,"click",4,"ngIf"],[1,"flex-grow-1","ms-2"],[1,"card-title","fs-13","mb-0"],[1,"text-muted","mb-0","fs-14","d-flex","justify-content-start"],[1,"ri-user-fill","me-2"],[1,"text-muted","fs-14","d-flex","justify-content-start"],[1,"ri-calendar-2-fill","me-2"],["class","mb-0",4,"ngIf"],["class","card-text text-muted",3,"ngbTooltip",4,"ngIf"],[1,"text-end","mb-0"],["href","javascript:void(0)",1,"link-info","link-offset-2","text-decoration-underline","link-underline-opacity-25","link-underline-opacity-100-hover",3,"click"],[1,"badge","bg-primary","fs-12"],[1,"badge","bg-warning","fs-12"],[1,"badge","bg-info","fs-12"],[1,"avatar-md","rounded",3,"src","click"],["src","../../../../../../assets/images/placeholderimage.png",1,"avatar-md","rounded",3,"click"],[1,"card-text","text-muted",3,"ngbTooltip"],[1,"col-md-12"],[1,"text-center","text-muted"]],template:function(E,B){1&E&&(d.TgZ(0,"ngx-simplebar",0)(1,"div",1)(2,"div",2)(3,"h6",3),d._uU(4,"TASK START-END"),d.qZA()()(),d.YNc(5,K,2,1,"div",4)(6,se,4,0,"div",4),d.qZA()),2&E&&(d.xp6(5),d.Q6J("ngIf",0!=B.ticketWOStartEndTask.length),d.xp6(1),d.Q6J("ngIf",0==B.ticketWOStartEndTask.length))},dependencies:[v.sg,v.O5,R._L,$.M]})}}return I})()},6334:(xe,re,h)=>{h.d(re,{U:()=>Y});var i=h(553),p=h(3519),Q=h.n(p),e=h(3643),d=h(9212),J=h(7625),c=h(2857),R=h(7291),C=h(9708),v=h(6814),$=h(9417);function F(I,N){if(1&I&&(d.TgZ(0,"span",32),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function U(I,N){if(1&I&&(d.TgZ(0,"span",33),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function ce(I,N){if(1&I&&(d.TgZ(0,"span",34),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.xp6(1),d.Oqu((null==D?null:D.supportType)||"-")}}function pe(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",35),d.NdJ("click",function(){d.CHM(D);const B=d.oxw().$implicit,le=d.oxw(2);return d.KtG(le.open(le.imageUrl+B.sitePicUrlStart))}),d.qZA()}if(2&I){const D=d.oxw().$implicit,E=d.oxw(2);d.hYB("src","",E.imageUrl,"",D.sitePicUrlStart,"",d.LSH)}}function be(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",36),d.NdJ("click",function(){d.CHM(D);const B=d.oxw(3);return d.KtG(B.open("../../../../../../assets/images/placeholderimage.png"))}),d.qZA()}}function V(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",35),d.NdJ("click",function(){d.CHM(D);const B=d.oxw().$implicit,le=d.oxw(2);return d.KtG(le.open(le.imageUrl+B.sitePicUrlEnd))}),d.qZA()}if(2&I){const D=d.oxw().$implicit,E=d.oxw(2);d.hYB("src","",E.imageUrl,"",D.sitePicUrlEnd,"",d.LSH)}}function z(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"img",36),d.NdJ("click",function(){d.CHM(D);const B=d.oxw(3);return d.KtG(B.open("../../../../../../assets/images/placeholderimage.png"))}),d.qZA()}}function f(I,N){1&I&&(d.TgZ(0,"h6",10),d._uU(1,"Remark"),d.qZA())}function _(I,N){if(1&I&&(d.TgZ(0,"p",37),d._uU(1),d.qZA()),2&I){const D=d.oxw().$implicit;d.s9C("ngbTooltip",D.remark),d.xp6(1),d.hij(" ",D.remark||"-"," ")}}function j(I,N){if(1&I){const D=d.EpF();d.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"h6",10),d._uU(4),d.qZA(),d.TgZ(5,"div")(6,"span",11),d._uU(7),d.qZA()(),d.TgZ(8,"div",12)(9,"span",13),d.YNc(10,F,2,1,"span",14)(11,U,2,1,"span",15)(12,ce,2,1,"span",16),d.qZA()()(),d.TgZ(13,"div",17)(14,"div",18)(15,"div",19),d.YNc(16,pe,1,2,"img",20)(17,be,1,0,"img",21),d.qZA(),d.TgZ(18,"div",22)(19,"h5",23),d._uU(20,"Started By | Date & Time"),d.qZA(),d.TgZ(21,"p",24),d._UZ(22,"i",25),d._uU(23),d.qZA(),d.TgZ(24,"p",26),d._UZ(25,"i",27),d._uU(26),d.qZA()()(),d._UZ(27,"hr",2),d.TgZ(28,"div",18)(29,"div",19),d.YNc(30,V,1,2,"img",20)(31,z,1,0,"img",21),d.qZA(),d.TgZ(32,"div",22)(33,"h5",23),d._uU(34,"Ended By | Date & Time"),d.qZA(),d.TgZ(35,"p",24),d._UZ(36,"i",25),d._uU(37),d.qZA(),d.TgZ(38,"p",26),d._UZ(39,"i",27),d._uU(40),d.qZA()()(),d._UZ(41,"hr",2),d.YNc(42,f,2,0,"h6",28)(43,_,2,2,"p",29),d.TgZ(44,"p",30)(45,"a",31),d.NdJ("click",function(){const le=d.CHM(D).$implicit,we=d.oxw(2);return d.KtG(we.getTechnitionAttendanceListByTaskForSeerviceOrder(null==le?null:le.woTaskId))}),d._uU(46," View Attendance"),d.qZA()()()()()}if(2&I){const D=N.$implicit,E=N.index,B=d.oxw(2);d.xp6(4),d.hij("Task-",B.ticketWOStartEndTask.length-E,""),d.xp6(2),d.Tol(B.commonFunctionService.returnStatusBadgeClasses(D.soStatusId)),d.xp6(1),d.Oqu(D.soStatusName||"-"),d.xp6(3),d.Q6J("ngIf","On-Site"==(null==D?null:D.supportType)||"On Site"==(null==D?null:D.supportType)),d.xp6(1),d.Q6J("ngIf","Remote"==(null==D?null:D.supportType)),d.xp6(1),d.Q6J("ngIf","Phone Call"==(null==D?null:D.supportType)),d.xp6(4),d.Q6J("ngIf",D.sitePicUrlStart),d.xp6(1),d.Q6J("ngIf",!D.sitePicUrlStart),d.xp6(6),d.hij("",D.startDateTimeByName||"-"," "),d.xp6(3),d.hij("",D.startDateTime||"-"," "),d.xp6(4),d.Q6J("ngIf",D.sitePicUrlEnd),d.xp6(1),d.Q6J("ngIf",!D.sitePicUrlEnd),d.xp6(6),d.hij("",D.endDateTimeByName||"-"," "),d.xp6(3),d.hij("",D.endDateTime||"-"," "),d.xp6(2),d.Q6J("ngIf",D.remark),d.xp6(1),d.Q6J("ngIf",D.remark)}}function K(I,N){if(1&I&&(d.TgZ(0,"div",5),d.YNc(1,j,47,17,"div",6),d.qZA()),2&I){const D=d.oxw();d.xp6(1),d.Q6J("ngForOf",D.ticketWOStartEndTask)}}function se(I,N){1&I&&(d.TgZ(0,"div",5)(1,"div",38)(2,"p",39),d._uU(3,"No Task Created"),d.qZA()()())}let Y=(()=>{class I{constructor(D,E,B,le){this.lightbox=D,this.commonFunctionService=E,this.offcanvasService=B,this.preventiveService=le,this.imageUrl=i.N.apiUrl,this.ticketWOStartEndTask=[]}ngOnChanges(D){}ngOnInit(){}open(D){let B=[];B.push({src:D,caption:"",thumb:"thumb"}),this.lightbox.open(B)}getTechnitionAttendanceListByTaskForSeerviceOrder(D){this.preventiveService.getTechnitionAttendanceListByTaskForSchedule({WOTaskId:D}).subscribe(B=>{B.obj&&this.openModalViewTech(B.obj)})}openModalViewTech(D){if(D.length>0){const E=this.offcanvasService.open(e.f,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas "});E.componentInstance.ticketingTechnicianList=D,E.result.then(B=>{}).catch(B=>{})}else this.waring("No Record Found Technition ")}waring(D){Q().fire({toast:!0,position:"top-end",icon:"warning",title:D,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(E){return new(E||I)(d.Y36(J.ey),d.Y36(c.K),d.Y36(R._B),d.Y36(C.W))}}static{this.\u0275cmp=d.Xpm({type:I,selectors:[["app-task-end"]],inputs:{ticketWOStartEndTask:"ticketWOStartEndTask"},features:[d.TTD],decls:7,vars:2,consts:[[1,"px-3","mb-2","mt-3",2,"height","608px"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-2","mt-2"],[1,"card-title","mb-0"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-4 stretch-card",4,"ngFor","ngForOf"],[1,"col-md-4","stretch-card"],[1,"card","border","border-dashed"],[1,"card-header","d-flex","justify-content-between","align-items-center","p-2"],[1,"mb-0"],[1,"fs-12"],[1,"d-flex","justify-content-end","align-items-center"],[1,"me-2"],["class","badge bg-primary fs-12",4,"ngIf"],["class","badge bg-warning fs-12",4,"ngIf"],["class","badge bg-info fs-12",4,"ngIf"],[1,"card-body"],[1,"d-flex","mb-0"],[1,"flex-shrink-0"],["class","avatar-md rounded",3,"src","click",4,"ngIf"],["src","../../../../../../assets/images/placeholderimage.png","class","avatar-md rounded",3,"click",4,"ngIf"],[1,"flex-grow-1","ms-2"],[1,"card-title","fs-13","mb-0"],[1,"text-muted","mb-0","fs-14","d-flex","justify-content-start"],[1,"ri-user-fill","me-2"],[1,"text-muted","fs-14","d-flex","justify-content-start"],[1,"ri-calendar-2-fill","me-2"],["class","mb-0",4,"ngIf"],["class","card-text text-muted",3,"ngbTooltip",4,"ngIf"],[1,"text-end","mb-0"],["href","javascript:void(0)",1,"link-info","link-offset-2","text-decoration-underline","link-underline-opacity-25","link-underline-opacity-100-hover",3,"click"],[1,"badge","bg-primary","fs-12"],[1,"badge","bg-warning","fs-12"],[1,"badge","bg-info","fs-12"],[1,"avatar-md","rounded",3,"src","click"],["src","../../../../../../assets/images/placeholderimage.png",1,"avatar-md","rounded",3,"click"],[1,"card-text","text-muted",3,"ngbTooltip"],[1,"col-md-12"],[1,"text-center","text-muted"]],template:function(E,B){1&E&&(d.TgZ(0,"ngx-simplebar",0)(1,"div",1)(2,"div",2)(3,"h6",3),d._uU(4,"TASK START-END"),d.qZA()()(),d.YNc(5,K,2,1,"div",4)(6,se,4,0,"div",4),d.qZA()),2&E&&(d.xp6(5),d.Q6J("ngIf",0!=B.ticketWOStartEndTask.length),d.xp6(1),d.Q6J("ngIf",0==B.ticketWOStartEndTask.length))},dependencies:[v.sg,v.O5,R._L,$.M]})}}return I})()},7189:(xe,re,h)=>{h.d(re,{L:()=>j});var i=h(9212),p=h(1517),Q=h(553),e=h(3519),d=h.n(e),J=h(2857),c=h(3828),R=h(886),C=h(7291),v=h(5143),$=h(2787),F=h(1415),U=h(618),ce=h(6814);const pe=["tableRef"];function be(K,se){if(1&K){const Y=i.EpF();i.TgZ(0,"div",50)(1,"button",51),i.NdJ("click",function(){i.CHM(Y);const N=i.oxw();return i.KtG(N.openModalAProcessInvoiceQuotation())}),i._UZ(2,"i",52),i._uU(3," Process Invoice "),i.qZA()()}}function V(K,se){if(1&K){const Y=i.EpF();i.TgZ(0,"div",50)(1,"button",51),i.NdJ("click",function(){i.CHM(Y);const N=i.oxw(2);return i.KtG(N.openModalRejectQuotation())}),i._UZ(2,"i",52),i._uU(3," Resubmit "),i.qZA()()}}function z(K,se){if(1&K&&(i.ynx(0),i.YNc(1,V,4,0,"div",13),i.BQk()),2&K){const Y=i.oxw();i.xp6(1),i.Q6J("ngIf",57==Y.quotationObject.quotStatusId&&57==(null==Y.ticketInfo[0]?null:Y.ticketInfo[0].ticketStatusId))}}function f(K,se){if(1&K&&(i.TgZ(0,"tr")(1,"th",44),i._uU(2),i.qZA(),i.TgZ(3,"td",61)(4,"span",62),i._uU(5),i.qZA(),i.TgZ(6,"p",63),i._uU(7),i.qZA()(),i.TgZ(8,"td"),i._uU(9),i.qZA(),i.TgZ(10,"td"),i._uU(11),i.qZA(),i.TgZ(12,"td"),i._uU(13),i.qZA(),i.TgZ(14,"td",42),i._uU(15),i.qZA()()),2&K){const Y=se.$implicit,I=se.index;i.uIk("data-index",I),i.xp6(2),i.Oqu(I+1),i.xp6(3),i.Oqu(Y.itemName),i.xp6(2),i.Oqu(Y.itemDetail),i.xp6(2),i.Oqu(Y.uom),i.xp6(2),i.Oqu(Y.unitPrice),i.xp6(2),i.Oqu(Y.qty),i.xp6(2),i.Oqu(Y.unitTotalPrice)}}function _(K,se){if(1&K&&(i.TgZ(0,"div",53)(1,"table",54)(2,"thead")(3,"tr",55)(4,"th",56),i._uU(5,"#"),i.qZA(),i.TgZ(6,"th",57),i._uU(7,"Item Details"),i.qZA(),i.TgZ(8,"th",58),i._uU(9,"UOM"),i.qZA(),i.TgZ(10,"th",58),i._uU(11,"Unit Price"),i.qZA(),i.TgZ(12,"th",58),i._uU(13,"Quantity"),i.qZA(),i.TgZ(14,"th",59),i._uU(15,"Amount "),i.TgZ(16,"span",37),i._uU(17),i.qZA()()()(),i.TgZ(18,"tbody"),i.YNc(19,f,16,8,"tr",60),i.qZA()()()),2&K){const Y=i.oxw();i.xp6(17),i.hij("(",null==Y.departmentDetail?null:Y.departmentDetail.currencyCode,")"),i.xp6(2),i.Q6J("ngForOf",Y.mX_quotationItem)}}let j=(()=>{class K{constructor(Y,I,N,D,E,B,le,we){this.commonFunctionService=Y,this.authAssetService=I,this.quotationService=N,this.modalService=D,this.ticketService=E,this.router=B,this.print=le,this.departmentService=we,this.quotationObject={},this.mX_quotationItem=[],this.resubmitQuotation=new i.vpe,this.imgUrl=Q.N.apiUrl,this.isProject=!1,this.viewQuationProcessInvoiceButtons=!1,this.resubmitButtonView=!1,this.departmentDetail={},this.config={printMode:"template",popupProperties:"toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=0,fullscreen=yes",pageTitle:"",templateString:"{{printBody}}",stylesheets:[{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"}],styles:["header, footer{ text-align: center; }","body .bg-success{ background-color: #4dcf83 !important; }","body .bg-danger{ background-color: #f96868 !important; }"]},this.isProject=this.authAssetService.getisProject()}ngOnInit(){this.viewQuationProcessInvoiceButtons=56==this.quotationObject.quotStatusId&&32==this.ticketInfo[0].ticketStatusId&&"Basic Quotation Page"==this.ticketService.ticketPageAction&&!this.quotationObject.isQuotationBilled}ngOnChanges(Y){this.viewQuationProcessInvoiceButtons=56==this.quotationObject.quotStatusId&&32==this.ticketInfo[0].ticketStatusId&&"Basic Quotation Page"==this.ticketService.ticketPageAction&&!this.quotationObject.isQuotationBilled,this.getDepartmentDetail(this.ticketInfo[0].projectId)}returnStatusBadgeClassesStatus(Y){return this.commonFunctionService.returnStatusBadgeClasses(Y)}openModalAProcessInvoiceQuotation(){const Y=this.modalService.open(p.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});Y.componentInstance.title="Are you sure you want to send this quotation for the invoice process? ",Y.componentInstance.subTitle="Once you proceed, it cannot be reverted back",Y.result.then(I=>{I&&"success"==I&&this.updateV2_MaintenanceQuotationBillProcess()})}getDepartmentDetail(Y){this.departmentService.getDepartmentDetail(Y).subscribe({next:I=>{this.departmentDetail=I.data,console.log("  this.departmentDetail =",this.departmentDetail)}})}openModalRejectQuotation(){const Y=this.modalService.open(p.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});Y.componentInstance.title="Are you sure you want to send this resubmitted quotation for the invoice process? ",Y.componentInstance.subTitle="Once you proceed, it cannot be reverted back",Y.result.then(I=>{I&&"success"==I&&(this.resubmitButtonView=!1,this.resubmitQuotation.emit(!0))})}updateV2_MaintenanceQuotationBillProcess(){this.quotationService.updateV2_MaintenanceQuotationBillProcess({QuotId:this.quotationObject.quotId}).subscribe(I=>{this.success(I),this.router.navigate([this.ticketService.lastStoreTicketRouterName])})}success(Y){d().fire({toast:!0,position:"top-end",icon:"success",title:Y.message,showConfirmButton:!1,timer:3e3})}onPrint2(Y){this.print.print(Y,this.config).subscribe()}static{this.\u0275fac=function(I){return new(I||K)(i.Y36(J.K),i.Y36(c.u),i.Y36(R.G),i.Y36(C.FF),i.Y36(v.w),i.Y36($.F0),i.Y36(F.XU),i.Y36(U.n))}}static{this.\u0275cmp=i.Xpm({type:K,selectors:[["app-view-quotation-ticket"]],viewQuery:function(I,N){if(1&I&&i.Gf(pe,5),2&I){let D;i.iGM(D=i.CRH())&&(N.tableElement=D.first)}},inputs:{quotationObject:"quotationObject",mX_quotationItem:"mX_quotationItem",ticketInfo:"ticketInfo",resubmitButtonView:"resubmitButtonView"},outputs:{resubmitQuotation:"resubmitQuotation"},features:[i.TTD],decls:144,vars:40,consts:[[1,"row","justify-content-center"],[1,"col-xxl-10"],["id","demo",1,"card"],["ngxPrintElement","",1,"row"],["tableRef",""],[1,"col-lg-12","text-center"],[1,"p-4"],[1,"text-center","mb-2"],["alt","logo light","height","47",1,"card-logo",3,"src"],[1,"mt-sm-0","mt-0"],[1,"text-muted","text-uppercase","fw-semibold","mb-0"],[1,"text-muted","mb-1"],["id","zip-code",1,"text-muted","mb-0"],["class","hstack gap-2 justify-content-end d-print-none mt-1 mb-0 ps-2 pe-2",4,"ngIf"],[4,"ngIf"],[1,"col-lg-12"],[1,"card-header","border-bottom-dashed","border-top-dashed","p-4"],[1,"row"],[1,"col-md-6"],[1,"text-muted","text-uppercase","fw-semibold"],["id","address-details",1,"text-muted","mb-1"],[1,"col-md-6","float-right"],[1,"d-flex","justify-content-md-end",2,"overflow","auto"],[1,"department-text"],[1,"text-muted","fw-normal"],["id","legal-register-no"],[2,"width","30px"],["id","invoice-no"],[1,"mt-1","p-2"],[1,"form-label","text-muted","text-uppercase","fw-semibold"],[1,"card-body","p-4"],[1,"row","g-3"],[1,"col-lg-12","col-12","mb-1"],[1,"text-muted","mb-2","text-uppercase","fw-semibold"],[1,"fs-14","mb-0"],[1,"col-lg-3","col-6"],[1,"fs-11"],[1,"fs-10"],["id","total-amount"],["class","table-responsive",4,"ngIf"],[1,"border-top","border-top-dashed","mt-2","d-flex","justify-content-end"],[1,"table","table-borderless","table-nowrap","align-middle","mb-0","ms-auto",2,"width","250px"],[1,"text-end"],[1,"border-top","border-top-dashed","fs-15"],["scope","row"],[1,"mt-4"],[1,"alert","alert-primary"],[1,"mb-0"],[1,"fw-semibold"],["id","note"],[1,"hstack","gap-2","justify-content-end","d-print-none","mt-1","mb-0","ps-2","pe-2"],["type","button",1,"btn","btn-success","btn-label","waves-effect","waves-light",3,"click"],[1,"ri-check-double-line","label-icon","align-middle","fs-16","me-2"],[1,"table-responsive"],[1,"table","table-borderless","text-center","table-nowrap","align-middle","mb-0"],[1,"table-active"],["scope","col",2,"width","50px"],["scope","col",1,"text-start"],["scope","col"],["scope","col",1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-start"],[1,"fw-medium"],[1,"text-muted","mb-0","text-desc"]],template:function(I,N){1&I&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4)(5,"div",5)(6,"div",6)(7,"div",7),i._UZ(8,"img",8),i.qZA(),i.TgZ(9,"div",9)(10,"h6",10),i._uU(11),i.qZA(),i.TgZ(12,"p",11),i._uU(13),i.qZA(),i.TgZ(14,"p",11),i._uU(15),i.qZA(),i.TgZ(16,"p",12)(17,"span"),i._uU(18,"Zip-code:"),i.qZA(),i._uU(19),i.qZA(),i.YNc(20,be,4,0,"div",13)(21,z,2,1,"ng-container",14),i.qZA()()(),i.TgZ(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18)(26,"h6",19),i._uU(27),i.qZA(),i.TgZ(28,"p",20),i._uU(29),i.qZA(),i.TgZ(30,"p",11),i._uU(31),i.qZA(),i.TgZ(32,"p",12)(33,"span"),i._uU(34,"Zip-code:"),i.qZA(),i._uU(35),i.qZA()(),i.TgZ(36,"div",21)(37,"div",22)(38,"table")(39,"tbody")(40,"tr")(41,"td",23)(42,"h6")(43,"span",24),i._uU(44),i.qZA()()(),i.TgZ(45,"td")(46,"h6")(47,"span",25),i._uU(48),i.qZA()()()(),i.TgZ(49,"tr")(50,"td",26)(51,"h6")(52,"span",24),i._uU(53,"Ticket No"),i.qZA()()(),i.TgZ(54,"td")(55,"h6")(56,"span",25),i._uU(57),i.qZA()()()(),i.TgZ(58,"tr")(59,"td",26)(60,"h6")(61,"span",24),i._uU(62,"Quotation No"),i.qZA()()(),i.TgZ(63,"td")(64,"h6")(65,"span",25),i._uU(66,"\xa0: \xa0 #"),i.TgZ(67,"span",27),i._uU(68),i.qZA()()()()()()()()()()(),i.TgZ(69,"div",28)(70,"label",29),i._uU(71," Thank you for your inquiry. We are pleased to submit our quote as follows: "),i.qZA()()(),i.TgZ(72,"div",15)(73,"div",30)(74,"div",31)(75,"div",32)(76,"p",33),i._uU(77," Atten To "),i.qZA(),i.TgZ(78,"h5",34),i._uU(79),i.qZA()(),i.TgZ(80,"div",32)(81,"p",33),i._uU(82,"Title"),i.qZA(),i.TgZ(83,"h5",34),i._uU(84),i.qZA()(),i.TgZ(85,"div",35)(86,"p",33),i._uU(87,"Date"),i.qZA(),i.TgZ(88,"h5",34),i._uU(89),i.ALo(90,"date"),i.qZA()(),i.TgZ(91,"div",35)(92,"p",33),i._uU(93,"Status"),i.qZA(),i.TgZ(94,"span",36),i._uU(95),i.qZA()(),i.TgZ(96,"div",35)(97,"p",33),i._uU(98," Created By "),i.qZA(),i.TgZ(99,"h5",34),i._uU(100),i.qZA()(),i.TgZ(101,"div",35)(102,"p",33),i._uU(103," Total Amount "),i.TgZ(104,"span",37),i._uU(105),i.qZA()(),i.TgZ(106,"h5",34)(107,"span",38),i._uU(108),i.qZA()()()()()(),i.TgZ(109,"div",15)(110,"div",30),i.YNc(111,_,20,2,"div",39),i.TgZ(112,"div",40)(113,"table",41)(114,"tbody")(115,"tr")(116,"td"),i._uU(117,"Sub Total"),i.qZA(),i.TgZ(118,"td",42),i._uU(119),i.qZA()(),i.TgZ(120,"tr")(121,"td"),i._uU(122),i.qZA(),i.TgZ(123,"td",42),i._uU(124),i.qZA()(),i.TgZ(125,"tr")(126,"td"),i._uU(127),i.qZA(),i.TgZ(128,"td",42),i._uU(129),i.qZA()(),i.TgZ(130,"tr",43)(131,"th",44),i._uU(132,"Total Amount "),i.TgZ(133,"span",37),i._uU(134),i.qZA()(),i.TgZ(135,"th",42),i._uU(136),i.qZA()()()()(),i.TgZ(137,"div",45)(138,"div",46)(139,"p",47)(140,"span",48),i._uU(141,"NOTES:"),i.qZA(),i.TgZ(142,"span",49),i._uU(143),i.qZA()()()()()()()()()()),2&I&&(i.xp6(8),i.Q6J("src",N.quotationObject.companyLogoURL?N.imgUrl+N.quotationObject.companyLogoURL:"../../../../../../assets/images/placeholderimage.png",i.LSH),i.xp6(3),i.hij(" ",N.quotationObject.companyName," "),i.xp6(2),i.hij(" ",N.quotationObject.companyAddress1," "),i.xp6(2),i.lnq(" ",N.quotationObject.companyAddress2?N.quotationObject.companyAddress2:""," ",N.quotationObject.companyAddress3?N.quotationObject.companyAddress3:""," ",null!=N.quotationObject&&N.quotationObject.companyCountry?null==N.quotationObject?null:N.quotationObject.companyCountry:""," "),i.xp6(4),i.hij(" ",N.quotationObject.companyPostalCode," "),i.xp6(1),i.Q6J("ngIf",N.viewQuationProcessInvoiceButtons),i.xp6(1),i.Q6J("ngIf",N.resubmitButtonView),i.xp6(6),i.hij(" ",N.quotationObject.clientName," "),i.xp6(2),i.hij(" ",N.quotationObject.clientAddress1," "),i.xp6(2),i.lnq(" ",N.quotationObject.clientAddress2?N.quotationObject.clientAddress2:""," ",N.quotationObject.clientAddress3?N.quotationObject.clientAddress3:""," ",N.quotationObject.clientCountry?N.quotationObject.clientCountry:""," "),i.xp6(4),i.hij(" ",N.quotationObject.clientPostalCode," "),i.xp6(9),i.Oqu(N.isProject?"Project":"Department"),i.xp6(4),i.hij(" \xa0: \xa0",N.quotationObject.projectName,""),i.xp6(9),i.hij("\xa0: \xa0 #",N.quotationObject.ticketNo,""),i.xp6(11),i.Oqu(N.quotationObject.quotNo),i.xp6(11),i.hij(" ",N.quotationObject.attentionTo," "),i.xp6(5),i.hij(" ",N.quotationObject.quotTitle," "),i.xp6(5),i.hij(" ",i.xi3(90,37,N.quotationObject.createdDate,"dd-MM-YYY")," "),i.xp6(5),i.Tol(N.returnStatusBadgeClassesStatus(N.quotationObject.quotStatusId)),i.xp6(1),i.Oqu(N.quotationObject.quotStatusName),i.xp6(5),i.Oqu(N.quotationObject.createdBy),i.xp6(5),i.hij("(",null==N.departmentDetail?null:N.departmentDetail.currencyCode,")"),i.xp6(3),i.Oqu(N.quotationObject.totalPrice),i.xp6(3),i.Q6J("ngIf",0!=N.mX_quotationItem.length),i.xp6(8),i.Oqu(N.quotationObject.subTotal),i.xp6(3),i.hij("Discount (",N.quotationObject.discountRate,") %"),i.xp6(2),i.Oqu(N.quotationObject.discountPrice),i.xp6(3),i.Oqu(N.quotationObject.serviceTaxType),i.xp6(2),i.Oqu(N.quotationObject.gstPrice),i.xp6(5),i.hij("(",null==N.departmentDetail?null:N.departmentDetail.currencyCode,")"),i.xp6(2),i.Oqu(N.quotationObject.totalPrice),i.xp6(7),i.hij("",N.quotationObject.remark," "))},dependencies:[ce.sg,ce.O5,F.Oj,ce.uU],styles:["@media only screen and (max-width: 600px){.text-desc[_ngcontent-%COMP%]{width:150px}}.department-text[_ngcontent-%COMP%]{width:30px}"]})}}return K})()}}]);
"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[4069],{4069:(tn,q,c)=>{c.r(q),c.d(q,{ConfigurationModule:()=>en});var m=c(6814),v=c(2787),f=c(553),F=c(3519),_=c.n(F),T=c(859),j=c(8868),e=c(9212),d=c(7291),y=c(9708),Z=c(3828),P=c(7235),x=c(2857),U=c(9750),p=c(6223),S=c(9417),A=c(8617),O=c(5675);function Q(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.finalSubmit())}),e._uU(1,"Final Submit"),e.qZA()}}function R(a,s){1&a&&(e.ynx(0),e.TgZ(1,"h6",7),e._uU(2,"No Asset Found"),e.qZA(),e.BQk())}function Y(a,s){if(1&a&&e._UZ(0,"img",25),2&a){const t=e.oxw().$implicit,i=e.oxw(2);e.hYB("src","",i.imageUrl,"",t.assetImagePath,"",e.LSH)}}function G(a,s){1&a&&e._UZ(0,"img",26)}function B(a,s){if(1&a&&(e.TgZ(0,"p",27),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" Category : ",t.preventiveCategoryName," ")}}function H(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),o=n.$implicit,r=n.index,l=e.oxw(2),u=e.MAs(10);return e.KtG(l.getMX_PreventiveMaintenanceTypeDrobDown(o.preventiveCategoryId,u,o.item,r))}),e._uU(1," Add Items "),e.qZA()}}function E(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"label",31),e._uU(3),e.TgZ(4,"input",32),e.NdJ("click",function(n){const r=e.CHM(t).index,l=e.oxw(),u=l.index,h=l.$implicit,g=e.oxw(2);return e.KtG(g.updateCheckboxValue(n,u,r,h))}),e.qZA(),e._UZ(5,"i",33),e.qZA()()()}if(2&a){const t=s.$implicit,i=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Tol(1==t.isNew?"text-danger":"text-bold"),e.xp6(1),e.hij(" ",t.preventiveTypeName," "),e.xp6(1),e.Q6J("checked",!!t.isActive&&t.isActive)("disabled",n.shouldDisableCheckbox(i.item))}}function K(a,s){if(1&a&&(e.TgZ(0,"div",9)(1,"div")(2,"div",10)(3,"div",11)(4,"div",12),e.YNc(5,Y,1,2,"img",13)(6,G,1,0,"img",14),e.qZA(),e.TgZ(7,"div",15)(8,"a",16)(9,"h6",17),e._uU(10),e.qZA()(),e.TgZ(11,"p",18),e._uU(12),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.qZA()(),e.TgZ(15,"div",19),e.YNc(16,B,2,1,"p",20),e._UZ(17,"p",21),e.YNc(18,H,2,0,"button",22),e.qZA()()(),e.TgZ(19,"div",23)(20,"div",3),e.YNc(21,E,6,5,"div",24),e.qZA()()()()),2&a){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Gre("card profile-project-card shadow-none profile-project-",i.getBorderBagde(t.p_AssetStatusId?t.p_AssetStatusId:+t.assetStatusId),""),e.xp6(4),e.Q6J("ngIf",t.assetImagePath),e.xp6(1),e.Q6J("ngIf",!t.assetImagePath),e.xp6(4),e.hij(" ",t.assetName," "),e.xp6(1),e.Tol(t.assetTagId?"text-primary":"text-danger"),e.Q6J("title",t.assetTagId?t.assetTagId:"Not Present"),e.xp6(1),e.hij(" #",t.assetTagId?t.assetTagId:"CCC-DDD-TYPE-0000-00000"," "),e.xp6(1),e.Tol(i.commonFunctionService.returnStatusBadgeClasses(t.p_AssetStatusId?t.p_AssetStatusId:+t.assetStatusId)),e.xp6(1),e.hij(" ",t.p_AssetStatusName?t.p_AssetStatusName:t.assetStatus," "),e.xp6(2),e.Q6J("ngIf",t.preventiveCategoryName),e.xp6(2),e.Q6J("ngIf",t.preventiveCategoryId),e.xp6(3),e.Q6J("ngForOf",t.item)}}function $(a,s){if(1&a&&(e.ynx(0),e.YNc(1,K,22,16,"div",8),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.scheduleCheckList)}}function X(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",47)(1,"div",48)(2,"input",49),e.NdJ("change",function(n){const r=e.CHM(t).index,l=e.oxw(3);return e.KtG(l.createV2_MX_ScheduleAssetChecklist(n,r))}),e.qZA(),e.TgZ(3,"label",50),e._uU(4),e.qZA()()()}if(2&a){const t=s.$implicit;e.xp6(2),e.Q6J("checked",t.checked)("id",t.preventiveTypeName),e.xp6(1),e.Q6J("for",t.preventiveTypeName),e.xp6(1),e.hij(" ",t.preventiveTypeName," ")}}function z(a,s){if(1&a&&(e.TgZ(0,"div",45),e.YNc(1,X,5,4,"div",46),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.preventiveMaintenanceTypeList)}}function W(a,s){1&a&&(e.TgZ(0,"div",45)(1,"div",39)(2,"div",51)(3,"div"),e._UZ(4,"lord-icon",52),e.qZA(),e.TgZ(5,"div",53)(6,"h5"),e._uU(7,"Sorry! No Checklist type List"),e.qZA()()()()())}function ee(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"h4",37),e._uU(4,"Checklist type"),e.qZA(),e.TgZ(5,"button",38),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(6,"div",39),e._UZ(7,"hr",40),e.qZA()()(),e.TgZ(8,"div",41)(9,"div",3),e.YNc(10,z,2,1,"div",42)(11,W,8,0,"div",42),e.qZA()(),e.TgZ(12,"div",43)(13,"button",44),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("cancel"))}),e._uU(14," Close "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(10),e.Q6J("ngIf",0!=t.preventiveMaintenanceTypeList.length),e.xp6(1),e.Q6J("ngIf",0==t.preventiveMaintenanceTypeList.length)}}let te=(()=>{class a{constructor(t,i,n){this.commonFunctionService=t,this.preventiveService=i,this.modalService=n,this.scheduleCheckList=[],this.imageUrl=f.N.apiUrl,this.preventiveMaintenanceTypeList=[],this.storeUpdateCheckPreventiveTypeIdList=[]}ngOnInit(){}ngOnChanges(t){this.getV2_MX_Config_PreventiveScheduleDetail()}getV2_MX_Config_PreventiveScheduleDetail(){this.preventiveService.getMX_ConfigScheduleCheckListSetup({ConfigPreventiveId:this.configPreventiveId}).subscribe(i=>{0!=i.length&&(this.scheduleCheckList=this.getRawDataChanges(i.list))})}getBorderBagde(t){return this.commonFunctionService.returnAssetStatusBorderAndBadgeClasses(t)}getRawDataChanges(t){const i={};return t.forEach(n=>{const o=n.assetId;i[o]||(i[o]={assetId:o,assetName:n.assetName,assetTagId:n.assetTagId,assetStatusId:n.assetStatusId,assetStatus:n.assetStatus,configPreventiveId:n.configPreventiveId,preventiveCategoryId:n.preventiveCategoryId,preventiveCategoryName:n.preventiveCategoryName,configPreventiveForAssetId:n.configPreventiveForAssetId,item:[]}),i[o].item.push({mX_Config_CheckListItemId:n.mX_Config_CheckListItemId,preventiveTypeId:n.preventiveTypeId,preventiveTypeName:n.preventiveTypeName,isActive:n.isActive,isNew:!1})}),Object.values(i)}updateCheckboxValue(t,i,n,o){this.scheduleCheckList[i].item[n].isActive=t.target.checked;const r=this.scheduleCheckList[i].assetId,l=this.scheduleCheckList[i].item[n].preventiveTypeId,u=this.storeUpdateCheckPreventiveTypeIdList.findIndex(h=>h.assetId===r&&h.preventiveTypeId===l);-1===u?this.storeUpdateCheckPreventiveTypeIdList.push({assetId:r,preventiveTypeId:l}):-1!==u&&this.storeUpdateCheckPreventiveTypeIdList.splice(u,1),0==t.target.checked&&this.scheduleCheckList[i].item[n].isNew&&this.scheduleCheckList[i].item.splice(n,1)}getMX_PreventiveMaintenanceTypeDrobDown(t,i,n,o){let r=t;this.preventiveMaintenanceTypeList=[],this.preventiveService.getMX_PreventiveMaintenanceTypeDrobDown({SearchPreventCategoryId:r}).subscribe(u=>{0!=u.list.length&&(this.preventiveMaintenanceTypeList=u.list.filter(h=>!n.some(g=>h.preventiveTypeId===g.preventiveTypeId)),this.preventiveMaintenanceTypeList=this.preventiveMaintenanceTypeList.map(h=>({...h,checked:!1})),this.modalService.open(i,{ariaLabelledBy:"modal-basic-title",centered:!0,windowClass:"modalclass",backdrop:"static",keyboard:!1}).result.then(h=>{this.afterSubmitScheduleAssetChecklist(o)},h=>{this.afterSubmitScheduleAssetChecklist(o)}))},u=>{})}afterSubmitScheduleAssetChecklist(t){this.preventiveMaintenanceTypeList.forEach(i=>{if(1==i.checked){this.scheduleCheckList[t].item.push({mX_Config_CheckListItemId:0,preventiveTypeId:i.preventiveTypeId,preventiveTypeName:i.preventiveTypeName,isActive:!0,isNew:!0});const n=this.scheduleCheckList[t].assetId,o=i.preventiveTypeId,r=this.storeUpdateCheckPreventiveTypeIdList.findIndex(l=>l.assetId===n&&l.preventiveTypeId===o);-1===r?this.storeUpdateCheckPreventiveTypeIdList.push({assetId:n,preventiveTypeId:o}):-1!==r&&this.storeUpdateCheckPreventiveTypeIdList.splice(r,1)}})}createV2_MX_ScheduleAssetChecklist(t,i){this.preventiveMaintenanceTypeList[i].checked=t.target.checked}finalSubmit(){let t=[];const i={};this.scheduleCheckList.forEach(o=>{this.storeUpdateCheckPreventiveTypeIdList.forEach(r=>{if(r.assetId==o.assetId){const l=o.assetId;i[l]||(i[l]={assetId:l,assetName:o.assetName,assetTagId:o.assetTagId,assetStatusId:o.assetStatusId,assetStatus:o.assetStatus,configPreventiveId:o.configPreventiveId,preventiveCategoryId:o.preventiveCategoryId,preventiveCategoryName:o.preventiveCategoryName,configPreventiveForAssetId:o.configPreventiveForAssetId,item:[]}),o.item.forEach(u=>{r.preventiveTypeId===u.preventiveTypeId&&i[l].item.push({mX_Config_CheckListItemId:u.mX_Config_CheckListItemId,preventiveTypeId:u.preventiveTypeId,preventiveTypeName:u.preventiveTypeName,isActive:u.isActive,isNew:u.isNew})})}})}),t=Object.values(i);let n=this.revertData(t);this.createUpdateSchedueleChecklistConfiguration(n)}shouldDisableCheckbox(t){return t.filter(n=>n.isActive).length<=1}createUpdateSchedueleChecklistConfiguration(t){this.preventiveService.createUpdateSchedueleChecklistConfiguration(t).subscribe(i=>{this.success(i),this.storeUpdateCheckPreventiveTypeIdList=[],this.getV2_MX_Config_PreventiveScheduleDetail()})}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}revertData(t){const i=[];return t.forEach(n=>{const{assetId:o,assetName:r,assetTagId:l,assetStatusId:u,assetStatus:h,configPreventiveId:g,preventiveCategoryId:C,preventiveCategoryName:M,configPreventiveForAssetId:L,item:N}=n;N.forEach(b=>{i.push({mX_Config_CheckListItemId:b.mX_Config_CheckListItemId,configPreventiveId:g,configPreventiveForAssetId:L,assetId:o,assetName:r,assetTagId:l,assetStatusId:u,assetStatus:h,preventiveCategoryId:C,preventiveCategoryName:M,preventiveTypeId:b.preventiveTypeId,preventiveTypeName:b.preventiveTypeName,isActive:b.isActive,isNew:b.isNew})})}),i}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(x.K),e.Y36(y.W),e.Y36(d.FF))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-checklist"]],inputs:{configPreventiveId:"configPreventiveId"},features:[e.TTD],decls:11,vars:3,consts:[[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"card-title","mb-0"],["class","btn btn-primary ",3,"click",4,"ngIf"],[1,"row"],[4,"ngIf"],["addItemSchedule",""],[1,"btn","btn-primary",3,"click"],[1,"card-title","fs-17"],["class","col-xxl-12 col-sm-12 stretch-card",4,"ngFor","ngForOf"],[1,"col-xxl-12","col-sm-12","stretch-card"],[1,"card-header","pe-3","ps-3","pt-1","pb-1"],[1,"d-flex","mb-2"],[1,"flex-shrink-0"],["alt","","height","50","class","rounded",3,"src",4,"ngIf"],["src","../../../../assets/images/placeholderimage.png","alt","","height","50","class","rounded",4,"ngIf"],[1,"flex-grow-1","ms-3","overflow-hidden"],["href","javascript:void(0);"],[1,"fs-14","mb-0"],[1,"fw-bold","mb-0","fs-12",3,"title"],[1,"flex-grow-2","ms-3","overflow-hidden","text-end"],["class"," fw-bold mb-0 fs-12",4,"ngIf"],[1,"mt-0"],["class","btn btn-primary btn-sm mb-0",3,"click",4,"ngIf"],[1,"card-body","p-3"],["class","col-sm-6 col-md-3",4,"ngFor","ngForOf"],["alt","","height","50",1,"rounded",3,"src"],["src","../../../../assets/images/placeholderimage.png","alt","","height","50",1,"rounded"],[1,"fw-bold","mb-0","fs-12"],[1,"btn","btn-primary","btn-sm","mb-0",3,"click"],[1,"col-sm-6","col-md-3"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","disabled","click"],[1,"input-frame"],[1,"modal-header"],[1,"row","w-100"],[1,"col-md-12","d-flex","justify-content-between","mb-1"],["id","modal-title",1,"modal-title","mb-2"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-12"],[1,"mb-0","mt-1"],[1,"modal-body","modal-scrollbar"],["class","row me-0 ms-0",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"row","me-0","ms-0"],["class","col-md-12 mt-2 pe-2 ps-2",4,"ngFor","ngForOf"],[1,"col-md-12","mt-2","pe-2","ps-2"],[1,"form-check","border-bottom","mt-2","mb-2","pb-2"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",3,"for"],[1,"py-4","text-center"],["src","https://cdn.lordicon.com/msoeawqm.json","trigger","loop","colors","primary:#405189,secondary:#0ab39c",2,"width","72px","height","72px"],[1,"mt-4"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div")(2,"h6",1),e._uU(3,"CheckList"),e.qZA()(),e.TgZ(4,"div"),e.YNc(5,Q,2,0,"button",2),e.qZA()(),e.TgZ(6,"div",3),e.YNc(7,R,3,0,"ng-container",4)(8,$,2,1,"ng-container",4),e.qZA(),e.YNc(9,ee,15,2,"ng-template",null,5,e.W1O)),2&i&&(e.xp6(5),e.Q6J("ngIf",0!=n.storeUpdateCheckPreventiveTypeIdList.length),e.xp6(2),e.Q6J("ngIf",0==n.scheduleCheckList.length),e.xp6(1),e.Q6J("ngIf",0!=n.scheduleCheckList.length))},dependencies:[m.sg,m.O5]})}}return a})();var I=c(4807);const ne=["customNav"],ie=["defaultNav"];function ae(a,s){if(1&a&&(e.TgZ(0,"a",56),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.xp6(1),e.Oqu(t.preventiveTypeName)}}function oe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",58),e._uU(3),e.qZA()(),e.TgZ(4,"td",59)(5,"i",60),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.openModalDeleteSkipMonth(o.scheduleSkipId))}),e.qZA()()()}if(2&a){const t=s.$implicit;e.xp6(3),e.Oqu(t.skipFlag||"NA")}}function re(a,s){if(1&a&&(e.TgZ(0,"tbody"),e.YNc(1,oe,6,1,"tr",57),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.maintenanceScheduleSkipList)}}function se(a,s){1&a&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",61),e._uU(3," No Skip Months Selected "),e.qZA()()())}function le(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",30)(2,"div",31)(3,"div",2)(4,"div",32)(5,"div",33)(6,"h6",34),e._uU(7," Remark "),e.qZA(),e.TgZ(8,"p",35),e._uU(9),e.qZA(),e.TgZ(10,"h5",36),e._uU(11,"CheckList Type"),e.qZA(),e.TgZ(12,"div",37),e.YNc(13,ae,2,1,"a",38),e.qZA()()(),e.TgZ(14,"div",39)(15,"div",40)(16,"h6",41),e._uU(17,"Skip Months"),e.qZA(),e.TgZ(18,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),o=e.MAs(55);return e.KtG(n.addSkipMonth(o))}),e._uU(19," Add Skip Month "),e.qZA()(),e.TgZ(20,"div",43)(21,"div",44)(22,"table",45)(23,"thead")(24,"tr",46)(25,"th"),e._uU(26,"Month"),e.qZA(),e._UZ(27,"th"),e.qZA()(),e.YNc(28,re,2,1,"tbody",47)(29,se,4,0,"tbody",47),e.qZA()()()()()()(),e.TgZ(30,"div",48)(31,"div",49)(32,"div",50)(33,"h5",41),e._uU(34,"Schedule Details"),e.qZA()(),e.TgZ(35,"div",33)(36,"div",51)(37,"table",52)(38,"tbody")(39,"tr")(40,"td",53),e._uU(41,"Maintenace Type"),e.qZA(),e.TgZ(42,"td"),e._uU(43),e.qZA()(),e.TgZ(44,"tr")(45,"td",53),e._uU(46,"Support Type"),e.qZA(),e.TgZ(47,"td",54),e._uU(48),e.qZA()(),e.TgZ(49,"tr")(50,"td",53),e._uU(51,"Frequency"),e.qZA(),e.TgZ(52,"td"),e._uU(53),e.qZA()(),e.TgZ(54,"tr")(55,"td",53),e._uU(56,"Frequency Data"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA()(),e.TgZ(59,"tr")(60,"td",53),e._uU(61," Next Schdule Start "),e.qZA(),e.TgZ(62,"td"),e._uU(63),e.qZA()(),e.TgZ(64,"tr")(65,"td",53),e._uU(66,"Status"),e.qZA(),e.TgZ(67,"td")(68,"span",55),e._uU(69),e.qZA()()()()()()()()()()}if(2&a){const t=e.oxw();e.xp6(9),e.hij(" ",t.masterScheduleList.remark||"-"," "),e.xp6(4),e.Q6J("ngForOf",t.masterCheckListList),e.xp6(15),e.Q6J("ngIf",0!=t.maintenanceScheduleSkipList.length),e.xp6(1),e.Q6J("ngIf",0==t.maintenanceScheduleSkipList.length),e.xp6(14),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.maintenanceType)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.supportType)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.frequency)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.frequencyData)||"-"," "),e.xp6(5),e.hij(" ",(null==t.masterScheduleList?null:t.masterScheduleList.nextSchduleStart)||"-"," "),e.xp6(5),e.Tol(t.returnStatusBadgeClassesStatus(t.masterScheduleList.pmScheduleStatusId)),e.xp6(1),e.Oqu(t.masterScheduleList.pmScheduleStatusName)}}function ce(a,s){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",22)(3,"div",2),e._UZ(4,"app-asset-view",62),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(4),e.Q6J("assetList",t.assetTicketItem)}}function de(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2),o=e.MAs(53);return e.KtG(n.openModalTechnician(o))}),e._UZ(1,"i",72),e._uU(2," Add Member "),e.qZA()}}function pe(a,s){1&a&&(e.TgZ(0,"th",69),e._uU(1," Action "),e.qZA())}function ue(a,s){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",73),e._uU(3," No Member Assign "),e.qZA()(),e.BQk())}function he(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"a",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.openModalDeleteConf(n))}),e._UZ(2,"i",80),e.qZA()()}}function me(a,s){if(1&a&&(e.TgZ(0,"tr")(1,"th",74)(2,"div",75),e._UZ(3,"img",76),e.TgZ(4,"div",77)(5,"a",78),e._uU(6),e.qZA()()()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,he,3,0,"td",47),e.qZA()),2&a){const t=s.$implicit,i=e.oxw(3);e.xp6(3),e.Q6J("src",t.profileImageUrl?i.imgURl+t.profileImageUrl:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij("",t.techName?t.techName:t.fullName," "),e.xp6(2),e.Oqu(t.designationName),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(1),e.Q6J("ngIf",i.deleteButtonAddButtonShown)}}function ge(a,s){if(1&a&&(e.ynx(0),e.YNc(1,me,12,5,"tr",57),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.mX_WOTechAssignment)}}function _e(a,s){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",22)(3,"div",2)(4,"div",63),e._UZ(5,"div"),e.TgZ(6,"div",64),e.YNc(7,de,3,0,"button",65),e.qZA()(),e.TgZ(8,"div",66)(9,"table",67)(10,"thead",68)(11,"tr")(12,"th",69),e._uU(13,"Name"),e.qZA(),e.TgZ(14,"th",69),e._uU(15,"Designation"),e.qZA(),e.TgZ(16,"th",69),e._uU(17,"Phone Number"),e.qZA(),e.YNc(18,pe,2,0,"th",70),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,ue,4,0,"ng-container",47)(21,ge,2,1,"ng-container",47),e.qZA()()()()()()()),2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.deleteButtonAddButtonShown),e.xp6(11),e.Q6J("ngIf",t.deleteButtonAddButtonShown),e.xp6(2),e.Q6J("ngIf",0==t.mX_WOTechAssignment.length),e.xp6(1),e.Q6J("ngIf",0!=t.mX_WOTechAssignment.length)}}function ve(a,s){if(1&a&&e._UZ(0,"app-checklist",82),2&a){const t=e.oxw(2);e.Q6J("configPreventiveId",t.storeConfigPreventiveId)}}function fe(a,s){if(1&a&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",22)(3,"div",2),e.YNc(4,ve,1,1,"app-checklist",81),e.qZA()()()()),2&a){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",4==t.activeId)}}function Ce(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",96),e.NdJ("click",function(){const n=e.CHM(t),o=n.index,r=n.$implicit,l=e.oxw(2);return e.KtG(l.selectTechnician(l.filteredTechnicianList,o,r))}),e.TgZ(2,"div",97)(3,"div",98)(4,"div",99)(5,"label",100)(6,"input",101),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.filteredTechnicianList[r].checked=n)}),e.qZA(),e._UZ(7,"i",102),e.qZA()()()(),e.TgZ(8,"div",103),e._UZ(9,"img",104),e.qZA(),e.TgZ(10,"div",105)(11,"h5",106)(12,"a",107),e._uU(13),e.qZA(),e.TgZ(14,"p",108),e._uU(15),e.qZA()()(),e.TgZ(16,"div",109)(17,"p",110)(18,"span"),e._UZ(19,"i",111),e._uU(20),e.qZA()()()()()}if(2&a){const t=s.$implicit,i=s.index,n=e.oxw(2);e.xp6(6),e.s9C("value",t),e.Q6J("ngModel",n.filteredTechnicianList[i].checked)("disabled",n.filteredTechnicianList[i].disabled),e.xp6(3),e.s9C("src",t.profileImageUrl?n.imgURl+t.profileImageUrl:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.hij(" ",t.fullName," "),e.xp6(2),e.hij("Role:",t.roleName,""),e.xp6(5),e.Oqu(t.phoneNumber)}}function be(a,s){1&a&&(e.TgZ(0,"div",112)(1,"p"),e._uU(2,"No Member Found"),e.qZA()())}function Te(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",83)(1,"h5",84),e._uU(2,"Add Members"),e.qZA(),e.TgZ(3,"button",85),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return o.dismiss("Cross click"),e.KtG(r.resetValue())}),e.qZA()(),e.TgZ(4,"div",86)(5,"div",87)(6,"input",88),e.NdJ("keyup",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.filterTechnician(n))})("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.technicianSearchText=n)}),e.qZA(),e._UZ(7,"i",89),e.qZA(),e.TgZ(8,"ngx-simplebar",90)(9,"div",91),e.YNc(10,Ce,21,7,"div",57)(11,be,3,0,"div",92),e.qZA()()(),e.TgZ(12,"div",93)(13,"button",94),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return o.close("Close click"),e.KtG(r.resetValue())}),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",95),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.sweetAlertUpdateTechinionDetails())}),e._uU(16," Submit "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.technicianSearchText),e.xp6(4),e.Q6J("ngForOf",t.filteredTechnicianList),e.xp6(1),e.Q6J("ngIf",t.technicianList&&t.filteredTechnicianList&&t.technicianSearchText.length>0?!t.filteredTechnicianList.length:!t.technicianList.length),e.xp6(4),e.Q6J("disabled",0==t.selectedTech.length)}}const ye=()=>({standalone:!0});function xe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",113)(1,"div",114)(2,"h5",115),e._uU(3,"Add Skip Month"),e.qZA(),e.TgZ(4,"button",85),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(5,"div",116)(6,"div",117)(7,"div",118)(8,"label",119),e._uU(9,"Month"),e.TgZ(10,"span",120),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"ng-select",121),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectMonthValue=n)}),e.qZA()()()(),e.TgZ(13,"div",93)(14,"button",122),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._UZ(15,"i",123),e._uU(16," Close "),e.qZA(),e.TgZ(17,"button",124),e.NdJ("click",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.close("Ok",n))}),e._uU(18," Yes, Submit It! "),e.qZA()()()}if(2&a){const t=e.oxw();e.xp6(12),e.Q6J("items",t.arrayOfMonth)("clearable",!1)("ngModel",t.selectMonthValue)("ngModelOptions",e.DdM(6,ye))("clearable",!1),e.xp6(5),e.Q6J("disabled",!t.selectMonthValue)}}let Ie=(()=>{class a{constructor(t,i,n,o,r,l,u){this.router=t,this.modalService=i,this.preventiveService=n,this.authService=o,this.menuService=r,this.commonFunctionService=l,this.maintenanceService=u,this.defaultNavActiveId=1,this.assetTicketItem=[],this.imgURl=f.N.apiUrl,this.label="Preventive Management",this.breadCrumbItems=[{label:"Configuration"},{label:"Configuration View",active:!0}],this.mX_WOTechAssignment=[],this.activeId=1,this.imageUrl=f.N.apiUrl,this.viewQuotationTabShown=!1,this.paylod={ConfigPreventiveId:null,PreventiveCategoryId:null},this.masterCheckListList=[],this.masterScheduleList=[],this.deleteButtonAddButtonShown=!0,this.maintenanceScheduleSkipList=[],this.arrayOfMonth=[],this.selectMonthValue=null,this.technicianList=[],this.selectedTech=[],this.filteredTechnicianList=[],this.technicianSearchText="",this.isProject=this.authService.getisProject(),this.storeConfigPreventiveId=this.preventiveService.configPreventiveId?this.preventiveService.configPreventiveId:0,this.storePreventiveCategoryId=this.preventiveService.preventiveCategoryId?this.preventiveService.preventiveCategoryId:0,this.paylod.ConfigPreventiveId=this.storeConfigPreventiveId,this.paylod.PreventiveCategoryId=this.storePreventiveCategoryId,0==this.storeConfigPreventiveId||null==this.storeConfigPreventiveId?this.router.navigate(["maintenace-management/preventive/configuration/list-configuration"]):this.getV2_MX_Config_PreventiveScheduleDetail()}ngOnInit(){"Add Checklist"===this.preventiveService.pageAction&&(this.activeId=4);let t=(new Date).getFullYear();this.arrayOfMonth=[{name:"January",id:t+"-01-01",disabled:!1},{name:"February",id:t+"-02-01",disabled:!1},{name:"March",id:t+"-03-01",disabled:!1},{name:"April",id:t+"-04-01",disabled:!1},{name:"May",id:t+"-05-01",disabled:!1},{name:"June",id:t+"-06-01",disabled:!1},{name:"July",id:t+"-07-01",disabled:!1},{name:"August",id:t+"-08-01",disabled:!1},{name:"September",id:t+"-09-01",disabled:!1},{name:"October",id:t+"-10-01",disabled:!1},{name:"November",id:t+"-11-01",disabled:!1},{name:"December",id:t+"-12-01",disabled:!1}],this.defaultNavActiveId=1}refreshThePage(){this.defaultNavActiveId=1,this.getV2_MX_Config_PreventiveScheduleDetail()}getV2_MX_Config_PreventiveScheduleDetail(){this.preventiveService.getV2_MX_Config_PreventiveScheduleDetail(this.paylod).subscribe(t=>{Object.keys(t.list).forEach(i=>{null===t.list[i]&&(t.list[i]=[])}),this.masterScheduleList=t.list.schedule,this.assetTicketItem=t.list.assetList,this.masterCheckListList=t.list.checkList,this.mX_WOTechAssignment=t.list.mX_WOTechAssignment,this.deleteButtonAddButtonShown=32!=this.masterScheduleList.scheduleStatusId&&61!=this.masterScheduleList.scheduleStatusId&&62!=this.masterScheduleList.scheduleStatusId,this.getV2_MX_MaintenanceScheduleSkipList(this.storeConfigPreventiveId)})}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}goback(){this.router.navigate(["maintenace-management/preventive/configuration/list-configuration"])}loadTechnician(){this.maintenanceService.getTechnician(this.masterScheduleList.projectId).subscribe(t=>{t&&(this.technicianList=t?.data,this.technicianList.forEach(i=>{i.checked=!1,i.disabled=!1}),this.mX_WOTechAssignment.length>0&&this.technicianList.forEach(i=>{this.mX_WOTechAssignment.forEach(n=>{n.techId===i.userId&&(i.checked=!0,i.disabled=!0)})}),this.filteredTechnicianList=this.technicianList)},t=>{})}openModalTechnician(t){this.modalService.open(t,{size:"lg",centered:!0}),this.loadTechnician()}getTechnicianIndex(t){return this.technicianList.findIndex(i=>i.userId===t)}getSelectedTechnicianIndex(t){return this.selectedTech.findIndex(i=>i.userId===t)}selectTechnician(t,i,n){if(this.filteredTechnicianList[i].disabled)return;const o=this.getTechnicianIndex(n.userId);this.technicianList[o].checked=!this.technicianList[o].checked,this.getTodoListChecked(t[i].checked,n)}getTodoListChecked(t,i){1==t?this.selectedTech.push(i):this.selectedTech.forEach((n,o)=>{n.userId==i.userId&&(this.selectedTech.splice(o,1),i.checked=!1)})}unCheckItem(t){const i=this.getTechnicianIndex(t.userId);this.technicianList[i].checked=!1;const n=this.getSelectedTechnicianIndex(t.userId);this.selectedTech.splice(n,1)}filterTechnician(t){this.filteredTechnicianList=this.technicianList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}clearTeach(t){this.technicianSearchText="",this.filteredTechnicianList=this.technicianList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}openModalDeleteConf(t){const i=this.modalService.open(T.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="You are about to delete a Member ?",i.componentInstance.subTitle="Deleting your Member will remove for this Schedule list",i.result.then(n=>{n&&"delete"==n&&this.DeleteTechnitionforConfigScheudle(t)})}DeleteTechnitionforConfigScheudle(t){this.preventiveService.DeleteTechnitionforConfigScheudle({TicketTechId:t.ticketTechId,techId:t.techId}).subscribe(n=>{this.getV2_MX_Config_PreventiveScheduleDetail()},n=>{n&&this.openModaWaringConf(n)})}openModaWaringConf(t){const i=this.modalService.open(j.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title=t,i.componentInstance.subTitle="",i.result.then(n=>{})}sweetAlertUpdateTechinionDetails(){_().fire({title:"Do you want to add an additional member for this  Schedule list?",text:"You won't be able to revert this!",icon:"info",showCancelButton:!0,cancelButtonColor:"#FF3366",confirmButtonText:"<span class='swal2-confirm '> Yes, Update it!</span>"}).then(t=>{t.isConfirmed&&this.submitTechinionDetails()})}resetValue(){this.selectedTech=[]}submitTechinionDetails(){console.log(this.selectedTech);let t=[];this.selectedTech.forEach(i=>{t.push({techId:i.userId,techName:i.fullName,ticketId:this.masterScheduleList.configPreventiveId})}),this.preventiveService.InsertTechnitionforConfigSchedule(t).subscribe(i=>{this.modalService.dismissAll(),this.selectedTech=[],this.getV2_MX_Config_PreventiveScheduleDetail()})}getV2_MX_MaintenanceScheduleSkipList(t){for(let n=0;n<this.arrayOfMonth.length;n++)this.arrayOfMonth[n]&&this.arrayOfMonth[n].hasOwnProperty("disabled")&&(this.arrayOfMonth[n].disabled=!1);this.maintenanceScheduleSkipList=[],this.preventiveService.getV2_MX_MaintenanceScheduleSkipList({ConfigPreventiveId:t}).subscribe(n=>{this.maintenanceScheduleSkipList=n.list,this.arrayOfMonth.forEach((o,r)=>{this.maintenanceScheduleSkipList.forEach(l=>{o.name==l.skipFlag&&(this.arrayOfMonth[r].disabled=!0)})})})}addSkipMonth(t){this.arrayOfMonth=this.arrayOfMonth,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1}).result.then(i=>{this.selectMonthValue&&this.onSubmitMonth()},i=>{})}openModalDeleteSkipMonth(t){const i=this.modalService.open(T.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="Are you sure you want to delete a skip month?",i.componentInstance.subTitle="Deleting the month will remove it from the database.",i.result.then(n=>{n&&"delete"==n&&this.onDeleteMonth(t)})}onDeleteMonth(t){this.preventiveService.deleteMX_MaintenanceScheduleSkip({ScheduleSkipId:t}).subscribe(n=>{this.getV2_MX_MaintenanceScheduleSkipList(this.storeConfigPreventiveId),this.success(n)})}onSubmitMonth(){this.preventiveService.createMX_MaintenanceScheduleSkip({ConfigPreventiveId:this.storeConfigPreventiveId,SkipFlag:this.selectMonthValue}).subscribe(i=>{this.success(i),this.selectMonthValue=null,this.getV2_MX_MaintenanceScheduleSkipList(this.storeConfigPreventiveId)})}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(v.F0),e.Y36(d.FF),e.Y36(y.W),e.Y36(Z.u),e.Y36(P.l),e.Y36(x.K),e.Y36(U.N))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-configuration-view"]],viewQuery:function(i,n){if(1&i&&(e.Gf(ne,5),e.Gf(ie,5)),2&i){let o;e.iGM(o=e.CRH())&&(n.customNav=o.first),e.iGM(o=e.CRH())&&(n.defaultNav=o.first)}},decls:56,vars:11,consts:[["title","Preventive Management",3,"breadcrumbItems"],[1,"row","mt-1"],[1,"col-lg-12"],[1,"card","mt-n4","mx-n4"],[1,"bg-warning-subtle"],[1,"card-body","pb-0","px-4"],[1,"row","mb-4"],["href","javascript:void(0);",1,"text-primary","text-decoration-underline","fw-medium","text-end",3,"click"],[1,"ri-refresh-line","text-primary","fs-18"],[1,"col-md"],[1,"row","align-items-center"],[1,"fw-bold"],[1,"hstack","gap-3","flex-wrap"],[1,"ri-building-line","align-bottom","me-1"],[1,"vr"],[1,"ri-building-2-line","align-bottom","me-1"],[1,"ri-community-line","align-bottom","me-1"],["ngbNav","","role","tablist",1,"nav","nav-tabs-custom","border-bottom-0",3,"activeId","activeIdChange"],["customNav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],["ngbNavContent",""],[1,"row"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect","mx-3",3,"click"],["role","document"],["TechnicianListModal",""],["addSkipMonthForm",""],[1,"col-xxl-8"],[1,"row","me-0","ms-0"],[1,"card"],[1,"card-body"],[1,"fw-semibold","text-uppercase","mb-3"],[1,"text-muted","mb-2"],[1,"card-title","mb-4"],[1,"d-flex","flex-wrap","gap-2","fs-20","smalltext1"],["href","javascript:void(0);","class","badge bg-primary-subtle text-primary smalltext",4,"ngFor","ngForOf"],[1,"card","mt-3"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title","mb-0"],[1,"btn","btn-primary",3,"click"],[1,"card-body","maxHeightCard"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"col-xxl-4"],[1,"card","ribbon-box","right"],[1,"card-header","d-flex","justify-content-between","align-items-baseline"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],[1,"fw-medium","w-10"],["id","t-client"],[1,"fs-12"],["href","javascript:void(0);",1,"badge","bg-primary-subtle","text-primary","smalltext"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary"],[1,"text-end"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-danger",3,"click"],["colspan","3",1,"text-center"],[3,"assetList"],[1,"d-flex","align-items-center","justify-content-between","mb-3","mt-2"],[1,"mb-2"],["class","btn btn-success btn-sm","type","button","class","btn btn-soft-primary btn-sm","data-bs-toggle","modal","data-bs-target","#inviteMembersModal",3,"click",4,"ngIf"],[1,"table-responsive","table-card"],[1,"table","align-middle","mb-0"],[1,"table-light","text-muted"],["scope","col"],["scope","col",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#inviteMembersModal",1,"btn","btn-soft-primary","btn-sm",3,"click"],[1,"ri-add-fill","align-bottom","me-1"],["colspan","4",1,"text-center"],["scope","row"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle","avatar-xxs",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1","ms-2"],["href","javascript:void(0);",1,"fw-medium"],["href","javascript:void(0)",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-danger"],[3,"configPreventiveId",4,"ngIf"],[3,"configPreventiveId"],[1,"modal-header","p-3","bg-primary-subtle"],["id","inviteMembersModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"search-box","mb-3"],["type","text","placeholder","Search member here...",1,"form-control","bg-light","border-light",3,"ngModel","keyup","ngModelChange"],[1,"ri-search-line","search-icon"],[1,"mx-n4","px-4",2,"height","400px"],[1,"vstack","gap-3"],["class","text-center mt-3 text-muted",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-success","w-xs","me-3",3,"disabled","click"],[1,"d-flex","align-items-center",3,"click"],[1,"flex-shrink-0","me-3"],[1,"d-flex","align-items-center","gap-1"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],[1,"input-frame"],[1,"avatar-xs","flex-shrink-0","me-3"],["alt","",1,"img-fluid","rounded-circle",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1"],[1,"fs-14","mb-0"],["href","javascript:void(0);",1,"text-body","d-block"],[1,"mt-0","mb-0"],[1,"flex-shrink-0","me-3","mb-0"],[1,"mb-0"],[1,"ri-phone-fill","me-1"],[1,"text-center","mt-3","text-muted"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"mb-3"],[1,"form-group"],[1,"form-label"],[1,"starRequried"],["bindLabel","name","bindValue","id","placeholder","Select Month",3,"items","clearable","ngModel","ngModelOptions","ngModelChange"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-primary",3,"disabled","click"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),e.NdJ("click",function(){return n.refreshThePage()}),e._UZ(8,"i",8),e.qZA(),e.TgZ(9,"div",9)(10,"div",10)(11,"div",9)(12,"div")(13,"h4",11),e._uU(14),e.qZA(),e.TgZ(15,"div",12)(16,"div"),e._UZ(17,"i",13),e._uU(18),e.qZA(),e._UZ(19,"div",14),e.TgZ(20,"div"),e._UZ(21,"i",15),e._uU(22),e.qZA(),e._UZ(23,"div",14),e.TgZ(24,"div"),e._UZ(25,"i",16),e._uU(26),e.qZA()()()()()()(),e.TgZ(27,"ul",17,18),e.NdJ("activeIdChange",function(r){return n.activeId=r}),e.TgZ(29,"li",19)(30,"a",20),e._uU(31," Schedule "),e.qZA(),e.YNc(32,le,70,12,"ng-template",21),e.qZA(),e.TgZ(33,"li",19)(34,"a",20),e._uU(35," Assets "),e.qZA(),e.YNc(36,ce,5,1,"ng-template",21),e.qZA(),e.TgZ(37,"li",19)(38,"a",20),e._uU(39," Assigned To "),e.qZA(),e.YNc(40,_e,22,4,"ng-template",21),e.qZA(),e.TgZ(41,"li",19)(42,"a",20),e._uU(43," CheckList "),e.qZA(),e.YNc(44,fe,5,1,"ng-template",21),e.qZA()()()()()()(),e.TgZ(45,"div",22)(46,"div",2)(47,"div",23),e._UZ(48,"div",24),e.qZA()()(),e.TgZ(49,"div",25)(50,"button",26),e.NdJ("click",function(){return n.goback()}),e._uU(51," Back "),e.qZA()(),e.YNc(52,Te,17,4,"ng-template",27,28,e.W1O)(54,xe,19,7,"ng-template",null,29,e.W1O)),2&i){const o=e.MAs(28);e.Q6J("breadcrumbItems",n.breadCrumbItems),e.xp6(14),e.hij(" ",(null==n.masterScheduleList?null:n.masterScheduleList.configPreventivePDescription)||"-"," "),e.xp6(4),e.hij(" ",(null==n.masterScheduleList?null:n.masterScheduleList.companyName)||"-"," "),e.xp6(4),e.hij("",(null==n.masterScheduleList?null:n.masterScheduleList.clientName)||"-"," "),e.xp6(4),e.hij("",(null==n.masterScheduleList?null:n.masterScheduleList.projectName)||"-"," "),e.xp6(1),e.Q6J("activeId",n.activeId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavItem",3),e.xp6(4),e.Q6J("ngbNavItem",4),e.xp6(7),e.Q6J("ngbNavOutlet",o)}},dependencies:[m.sg,m.O5,p.Fj,p.Wl,p.JJ,p.On,S.M,A.n,O.F,te,d.uN,d.Pz,d.nv,d.Is,d.Vx,d.tO,d.Dy,I.w9],styles:["@media only screen and (max-width: 600px){.smalltext[_ngcontent-%COMP%]{width:10em;margin:.5em;white-space:normal;vertical-align:top;display:inline-block}}"]})}}return a})();var Ze=c(2438),Se=c(2181),Ae=c(3620),De=c(3997),we=c(9397),J=c(1517),D=c(9455),ke=c(5143),Me=c(471);const Le=["inputerRequesterName"],Ne=["inputerCreatedDate"];function qe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.navigateToAdd())}),e._UZ(3,"i",32),e._uU(4," Add Configuration "),e.qZA()()()}}function Pe(a,s){1&a&&(e.TgZ(0,"th"),e._uU(1,"Client"),e.qZA())}function Ue(a,s){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",42),e._uU(3," No Configuration Data "),e.qZA()(),e.BQk())}function Je(a,s){if(1&a&&(e.TgZ(0,"span",57),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function Ve(a,s){if(1&a&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function Fe(a,s){if(1&a&&(e.TgZ(0,"span",59),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function je(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"li")(1,"a",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(3);return e.KtG(o.openModalActiveDeactive(n.configPreventiveId,"Inactive"))}),e._UZ(2,"i",60),e._uU(3," Inactive "),e.qZA()()}}function Oe(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",44),e.NdJ("click",function(){const n=e.CHM(t),o=n.$implicit,r=n.index,l=e.oxw(3);return e.KtG(l.expandTitle("configPreventivePDescription_"+o.configPreventivePDescription+"_"+r))}),e.TgZ(2,"a",45),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.viewHandler(o.configPreventiveId,null==o?null:o.preventiveCategoryId))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",44),e.NdJ("click",function(){const n=e.CHM(t),o=n.$implicit,r=n.index,l=e.oxw(3);return e.KtG(l.expandTitle("companyName_"+o.configPreventivePDescription+"_"+r))}),e._uU(5),e.qZA(),e.TgZ(6,"td",44),e.NdJ("click",function(){const n=e.CHM(t),o=n.$implicit,r=n.index,l=e.oxw(3);return e.KtG(l.expandTitle("clientName_"+o.configPreventivePDescription+"_"+r))}),e._uU(7),e.qZA(),e.TgZ(8,"td",44),e.NdJ("click",function(){const n=e.CHM(t),o=n.$implicit,r=n.index,l=e.oxw(3);return e.KtG(l.expandTitle("projectName_"+o.configPreventivePDescription+"_"+r))}),e._uU(9),e.qZA(),e.TgZ(10,"td",46),e._uU(11),e.qZA(),e.TgZ(12,"td",46),e._uU(13),e.qZA(),e.TgZ(14,"td",47),e.YNc(15,Je,2,1,"span",48)(16,Ve,2,1,"span",49)(17,Fe,2,1,"span",50),e.qZA(),e.TgZ(18,"td",47)(19,"span"),e._uU(20),e.qZA()(),e.TgZ(21,"td")(22,"span")(23,"div",51)(24,"button",52),e._UZ(25,"i",53),e.qZA(),e.TgZ(26,"ul",54)(27,"li")(28,"a",55),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.viewHandler(o.configPreventiveId,null==o?null:o.preventiveCategoryId))}),e._UZ(29,"i",56),e._uU(30," View "),e.qZA()(),e.YNc(31,je,4,0,"li",36),e.qZA()()()()()}if(2&a){const t=s.$implicit,i=s.index,n=e.oxw(3);e.xp6(1),e.Q6J("title",t.configPreventivePDescription)("id","configPreventivePDescription_"+t.configPreventivePDescription+"_"+i),e.xp6(2),e.Oqu(t.configPreventivePDescription),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.configPreventivePDescription+"_"+i),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.companyName)("id","clientName_"+t.configPreventivePDescription+"_"+i),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.configPreventivePDescription+"_"+i),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(1),e.Q6J("title",t.nextSchduleStart),e.xp6(1),e.hij(" ",t.nextSchduleStart," "),e.xp6(1),e.Q6J("title",t.frequency),e.xp6(1),e.hij(" ",t.frequency," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t?null:t.supportType)),e.xp6(2),e.Tol(n.returnStatusBadgeClassesStatus(t.pmScheduleStatusId)),e.xp6(1),e.Oqu(t.pmScheduleStatusName),e.xp6(11),e.Q6J("ngIf",28==t.pmScheduleStatusId)}}function Qe(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Oe,32,23,"tr",43),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.preventiveConfigList)}}function Re(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"ngb-pagination",61),e.NdJ("pageChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.page=n)})("pageChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.OnChangesPage(n))}),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function Ye(a,s){if(1&a&&(e.TgZ(0,"div",33)(1,"table",34)(2,"thead")(3,"tr",35)(4,"th"),e._uU(5,"Schedule Title"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.YNc(8,Pe,2,0,"th",36),e.TgZ(9,"th"),e._uU(10),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Next Schedule Start on"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Frequency"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Action Type"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Status"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Ue,4,0,"ng-container",36)(23,Qe,2,1,"ng-container",36),e.qZA()()(),e.TgZ(24,"div",37)(25,"div",38)(26,"div",39),e._uU(27),e.qZA()(),e.TgZ(28,"div",38)(29,"div",40),e.YNc(30,Re,1,5,"ngb-pagination",41),e.qZA()()()),2&a){const t=e.oxw();e.xp6(8),e.Q6J("ngIf",t.isProject),e.xp6(2),e.Oqu(t.isProject?"Project":"Department"),e.xp6(12),e.Q6J("ngIf",0==t.preventiveConfigList.length),e.xp6(1),e.Q6J("ngIf",0!=t.preventiveConfigList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Ge(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Filters"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",65)(5,"div",1)(6,"div",66)(7,"label",67),e._uU(8,"Requester Name"),e.qZA(),e.TgZ(9,"input",68),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedRequesterName=n)}),e.qZA()(),e.TgZ(10,"div",66)(11,"label",69),e._uU(12,"Requester Email"),e.qZA(),e.TgZ(13,"input",70),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectedRequesterEmail=n)}),e.qZA()()()(),e.TgZ(14,"div",71)(15,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetSerachVariable())})("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Close click"))}),e._uU(16," Clear "),e.qZA(),e.TgZ(17,"button",73),e.NdJ("click",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.close("Ok",n))}),e._uU(18," Search "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(9),e.Q6J("ngModel",t.selectedRequesterName),e.xp6(4),e.Q6J("ngModel",t.selectedRequesterEmail)}}let Be=(()=>{class a{constructor(t,i,n,o,r,l,u,h,g,C,M,L){this.dropdownService=t,this.router=i,this.modalService=n,this.ticketService=o,this.authService=r,this.formBuilder=l,this.commonFunctionService=u,this.dropdownServices=h,this.datePipe=g,this.helpDeskService=C,this.preventiveService=M,this.menuService=L,this.isProject=!1,this.label="Preventive Management",this.breadCrumbItems=[{label:"Configuration"},{label:"Configuration List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchPMScheduleStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.preventiveConfigList=[],this.page=1,this.collectionSize=0,this.frequencyList=["Monthly","Hourly","Yearly","Quarterly"],this.imageUrl=f.N.apiUrl,this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.getDropdownCompanyList(),this.getPreventiveStatusList(),this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,"Client User"===this.currentUserRole&&(this.disabledWithAceessGroup=!0),localStorage.getItem("objectSerachForConfigurationList")?this.getObjectAfterRefresh():this.loadData()}navigateToAdd(){this.preventiveService.accessRight=!0,this.router.navigate(["/maintenace-management/preventive/configuration/add-configuration"])}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.preventiveService.getV2_MX_Config_PreventiveList_ServerPaging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.preventiveConfigList=t.list,this.setObjectBeforeRefesh(),this.preventiveConfigList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((i,n)=>n.rowNum<i?n.rowNum:i,t.list[0].rowNum),this.to=t.list.reduce((i,n)=>n.rowNum>i?n.rowNum:i,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue),this.typeFrequencyValue&&(t.SearchFrequency=this.typeFrequencyValue),this.scheduleStatusIdValue&&(t.SearchPMScheduleStatusId=this.scheduleStatusIdValue),this.typeRequesterNameValue&&(t.SearchConfigPreventivePDescription=this.typeRequesterNameValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForConfigurationList",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForConfigurationList"));this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.typeFrequencyValue=t.SearchFrequency?t.SearchFrequency:null,this.scheduleStatusIdValue=t.SearchPMScheduleStatusId?t.SearchPMScheduleStatusId:null,this.typeRequesterNameValue=t.SearchConfigPreventivePDescription?t.SearchConfigPreventivePDescription:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchFrequency=this.typeFrequencyValue,this.payload.SearchPMScheduleStatusId=this.scheduleStatusIdValue,this.payload.SearchConfigPreventivePDescription=this.typeRequesterNameValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}getPreventiveStatusList(){this.preventiveService.getPreventiveStatusList().subscribe(t=>{this.preventiveStatusList=t,this.setObjectBeforeRefesh()})}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.typeFrequencyValue=null,this.typeRequesterNameValue=null,this.selectedRequesterEmail=null,this.scheduleStatusIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchRequesterEmail:null,SearchPMScheduleStatusId:null},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(i=>{this.arrayListDropDownClientList=i.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),this.setObjectBeforeRefesh()})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(i=>{this.arrayListDropDownProjectOrDeparmentList=i.list,0!=i.list.length&&"Client User"===this.currentUserRole&&(i.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange(""))),this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.setObjectBeforeRefesh(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.setObjectBeforeRefesh(),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,Ze.R)(this.inputerRequesterName.nativeElement,"input").pipe((0,Se.h)(Boolean),(0,Ae.b)(1e3),(0,De.x)(),(0,we.b)(t=>{this.onTypeRequesterNameChange()})).subscribe()}onTypeRequesterNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchConfigPreventivePDescription=this.typeRequesterNameValue,this.loadData()}onChangeFrequencyValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchFrequency=this.typeFrequencyValue,this.loadData()}onChangePMScheduleStatusIValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchPMScheduleStatusId=this.scheduleStatusIdValue,this.loadData()}submitFilterData(){this.payload.SearchConfigPreventivePDescription=this.selectedRequesterName,this.payload.SearchRequesterEmail=this.selectedRequesterEmail,this.loadData()}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(i=>{this.submitFilterData()},i=>{this.submitFilterData()})}viewHandler(t,i){this.preventiveService.configPreventiveId=t,this.preventiveService.preventiveCategoryId=i,this.router.navigate(["maintenace-management/preventive/configuration/view-configuration"])}openModalActiveDeactive(t,i){const n=this.modalService.open(J.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="Do you want to "+i+" this  Schedule ",n.componentInstance.subTitle="You won't be able to revert this!",n.componentInstance.buttonName=i+" It",n.result.then(o=>{o&&"success"==o&&this.updateUserActiveInActive(t,i)})}updateUserActiveInActive(t,i){this.preventiveService.DeactivteConfigSchedule({ConfigPreventiveId:t}).subscribe(o=>{this.loadData(),this.success(o)})}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(D.V),e.Y36(v.F0),e.Y36(d.FF),e.Y36(ke.w),e.Y36(Z.u),e.Y36(p.qu),e.Y36(x.K),e.Y36(D.V),e.Y36(m.uU),e.Y36(Me.S),e.Y36(y.W),e.Y36(P.l))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-configuration-list"]],viewQuery:function(i,n){if(1&i&&(e.Gf(Le,7),e.Gf(Ne,7)),2&i){let o;e.iGM(o=e.CRH())&&(n.inputerRequesterName=o.first),e.iGM(o=e.CRH())&&(n.inputerCreatedDate=o.first)}},decls:42,vars:28,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-lg-auto"],[1,"card-title","mb-0"],[1,"col-lg"],["placeholder","Select Frequency",1,"w-100","me-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","assetStatus","bindValue","assetStatusId","id","ticketStatus","placeholder","Select Schedule Status","for","ticketStatus",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Schedule Title",1,"form-control",3,"ngModel","ngModelChange"],["inputerRequesterName",""],[1,"ri-search-line","search-icon"],["class","col-lg-auto text-end",4,"ngIf"],[1,"card-body","border","border-dashed","border-end-0","border-start-0","m-0"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId",1,"",3,"readonly","items","disabled","clearable","ngModel","placeholder","change","ngModelChange"],[1,"col-lg-auto","text-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["filtetcontent",""],["type","button","id","create-btn",1,"btn","btn-success","add-btn",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","10",1,"text-center"],[4,"ngFor","ngForOf"],[1,"title",3,"title","id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[3,"title"],[1,"status"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],[1,"ri-close-circle-line","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-lg-6","mb-3"],["for","selectedRequesterName",1,"form-label","fw-semibold"],["type","text","name","selectedRequesterName","id","selectedRequesterName","placeholder","Requester Name ",1,"form-control",3,"ngModel","ngModelChange"],["for","selectedRequesterEmail",1,"form-label","fw-semibold"],["type","email","name","selectedRequesterEmail","id","selectedRequesterEmail","placeholder","Search Requester Email",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Configuration List"),e.qZA()(),e._UZ(9,"div",8),e.TgZ(10,"div",8)(11,"ng-select",9),e.NdJ("change",function(){return n.onChangeFrequencyValueChange()})("ngModelChange",function(r){return n.typeFrequencyValue=r}),e.qZA()(),e.TgZ(12,"div",8)(13,"ng-select",10),e.NdJ("change",function(){return n.onChangePMScheduleStatusIValueChange()})("ngModelChange",function(r){return n.scheduleStatusIdValue=r}),e.qZA()(),e.TgZ(14,"div",8)(15,"div",11)(16,"input",12,13),e.NdJ("ngModelChange",function(r){return n.typeRequesterNameValue=r}),e.qZA(),e._UZ(18,"i",14),e.qZA()(),e.YNc(19,qe,5,0,"div",15),e.qZA()(),e.TgZ(20,"div",16)(21,"div",5)(22,"div",8)(23,"ng-select",17),e.NdJ("change",function(r){return n.onDropdownCompanyValueChange(r)})("ngModelChange",function(r){return n.selectedDropDownCompanyIdValue=r}),e.qZA()(),e.TgZ(24,"div",8)(25,"ng-select",18),e.NdJ("change",function(r){return n.onDropdownClientValueChange(r)})("ngModelChange",function(r){return n.selectedDropDownClientIdValue=r}),e.qZA()(),e.TgZ(26,"div",8)(27,"ng-select",19),e.NdJ("change",function(r){return n.onDropdownDepartmentValueChange(r)})("ngModelChange",function(r){return n.selectedDropDownProjectOrDeparmentIdValue=r}),e.qZA()(),e.TgZ(28,"div",20)(29,"button",21),e.NdJ("click",function(){return n.resetSerachVariable()}),e._UZ(30,"i",22),e._uU(31," Clear "),e.qZA()()()(),e.TgZ(32,"div",23)(33,"div")(34,"ul",24,25)(36,"li",26),e.YNc(37,Ye,31,8,"ng-template",27),e.qZA()(),e.TgZ(38,"div",28),e._UZ(39,"div",29),e.qZA()()()()()(),e.YNc(40,Ge,19,2,"ng-template",null,30,e.W1O)),2&i){const o=e.MAs(35);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(11),e.Q6J("items",n.frequencyList)("clearable",!0)("ngModel",n.typeFrequencyValue),e.xp6(2),e.Q6J("items",n.preventiveStatusList)("clearable",!0)("ngModel",n.scheduleStatusIdValue),e.xp6(3),e.Q6J("ngModel",n.typeRequesterNameValue),e.xp6(3),e.Q6J("ngIf",n.returnValueMenu.add),e.xp6(4),e.Q6J("items",n.arrayListDropDownCompany)("clearable",!0)("ngModel",n.selectedDropDownCompanyIdValue)("readonly",n.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",n.arrayListDropDownClientList)("disabled",!n.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",n.selectedDropDownClientIdValue)("readonly",n.disabledWithAceessGroup),e.xp6(2),e.Q6J("readonly",n.projectDepartmentFieldDisiabled)("items",n.arrayListDropDownProjectOrDeparmentList)("disabled",!n.selectedDropDownCompanyIdValue||!n.selectedDropDownClientIdValue)("clearable",!0)("ngModel",n.selectedDropDownProjectOrDeparmentIdValue)("placeholder",n.isProject?"Select Project":"Select Department"),e.xp6(7),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",o)}},dependencies:[m.sg,m.O5,p.Fj,p.JJ,p.On,d.N9,d.jt,d.iD,d.Vi,d._L,A.n,d.uN,d.Pz,d.nv,d.Is,d.Dy,I.w9],styles:[".widthMax[_ngcontent-%COMP%]{width:120%!important}"]})}}return a})();var He=c(7930),Ee=c(8568),V=c(6762),w=c(9275);const Ke=["defaultNav"],$e=["noMaintenanceTypePopUp"],Xe=["noMaintenanceCategoryPopUp"];function ze(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Company is Required "),e.qZA())}function We(a,s){if(1&a&&(e.TgZ(0,"div",50),e.YNc(1,ze,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.CompanyId.errors.required)}}function et(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Client is Required "),e.qZA())}function tt(a,s){if(1&a&&(e.TgZ(0,"div",50),e.YNc(1,et,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.ClientId.errors.required)}}function nt(a,s){if(1&a&&(e.TgZ(0,"small",52),e._uU(1),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.isProject?"Project":"Department"," is Required")}}function it(a,s){if(1&a&&(e.TgZ(0,"div",50),e.YNc(1,nt,2,1,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.ProjectId.errors.required)}}function at(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Frequency is Required "),e.qZA())}function ot(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,at,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.Frequency.errors?null:t.Frequency.errors.required)}}function rt(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Frequency Data is Required "),e.qZA())}function st(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,rt,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.FrequencyData.errors?null:t.FrequencyData.errors.required)}}function lt(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Action type is Required "),e.qZA())}function ct(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,lt,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.SupportType.errors?null:t.SupportType.errors.required)}}function dt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"i",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearChangDate())}),e.qZA()}}function pt(a,s){if(1&a&&e._UZ(0,"input",54),2&a){e.oxw();const t=e.MAs(67);e.Q6J("ngxMatTimepicker",t)}}function ut(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Schedule Start On is Required "),e.qZA())}function ht(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ut,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.NextSchduleStart.errors?null:t.NextSchduleStart.errors.required)}}function mt(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Time is Required "),e.qZA())}function gt(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,mt,2,0,"small",51),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.NextSchduleStarttime.errors?null:t.NextSchduleStarttime.errors.required)}}function _t(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Title is Required "),e.qZA())}function vt(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,_t,2,0,"small",51),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.ConfigPreventivePDescription.errors.required)}}function ft(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Remark is Required "),e.qZA())}function Ct(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ft,2,0,"small",51),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.Remark.errors?null:t.Remark.errors.required)}}function bt(a,s){1&a&&(e.TgZ(0,"small",52),e._uU(1," Checklist Category Name is Required "),e.qZA())}function Tt(a,s){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,bt,2,0,"small",51),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.PreventiveCategoryId.errors?null:t.PreventiveCategoryId.errors.required)}}function yt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",66)(2,"input",71),e.NdJ("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.checkPreventiveMaintenance(n,r.preventiveTypeId))}),e.qZA(),e.TgZ(3,"label",68),e._uU(4),e.qZA()()()}if(2&a){const t=s.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("checked",i.returnValue(t.preventiveTypeId))("id",t.preventiveTypeName),e.xp6(1),e.Q6J("for",t.preventiveTypeName),e.xp6(1),e.hij(" ",t.preventiveTypeName," ")}}function xt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",63)(2,"div",64)(3,"label",65),e._uU(4,"Checklist type "),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"div",66)(8,"input",67),e.NdJ("change",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkSelectedAll(n))}),e.qZA(),e.TgZ(9,"label",68),e._uU(10," Select All "),e.qZA()()(),e._UZ(11,"div",50),e.YNc(12,yt,5,4,"div",69),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(8),e.Q6J("id","selectAll")("checked",t.returnaSelectAll()),e.xp6(1),e.Q6J("for","selectAll"),e.xp6(3),e.Q6J("ngForOf",t.preventiveMaintenanceTypeList)}}function It(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",55)(2,"div",56)(3,"div",7)(4,"div",8)(5,"label",16),e._uU(6,"Title"),e.TgZ(7,"span",10),e._uU(8,"*"),e.qZA()(),e._UZ(9,"input",57),e.YNc(10,vt,2,1,"div",20),e.qZA(),e.TgZ(11,"div",8)(12,"label"),e._uU(13,"Remark"),e.TgZ(14,"span",10),e._uU(15,"*"),e.qZA()(),e._UZ(16,"textarea",58),e.TgZ(17,"label",59),e._uU(18),e.qZA(),e.YNc(19,Ct,2,1,"div",20),e.qZA(),e.TgZ(20,"div",8)(21,"div",13)(22,"label",60),e._uU(23,"Checklist Category "),e.TgZ(24,"span",10),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"ng-select",61),e.NdJ("change",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.onchangePreventiveMaintenanceCategory(n))})("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.searchPreventCategoryId=n)}),e.qZA(),e.YNc(27,Tt,2,1,"div",20),e.qZA()(),e.YNc(28,xt,13,4,"div",62),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(9),e.ekj("is-invalid",t.ConfigPreventivePDescription.invalid&&t.ConfigPreventivePDescription.touched)("is-valid",t.ConfigPreventivePDescription.valid&&t.ConfigPreventivePDescription.touched),e.xp6(1),e.Q6J("ngIf",t.ConfigPreventivePDescription.invalid&&t.ConfigPreventivePDescription.touched),e.xp6(6),e.ekj("is-invalid",t.Remark.invalid&&t.Remark.touched)("is-valid",t.Remark.valid&&t.Remark.touched),e.Q6J("maxlength",t.maxCharsDecision),e.xp6(2),e.AsE(" Characters Remaining: ",null==t.Remark||null==t.Remark.value?null:t.Remark.value.length,"/",t.maxCharsDecision,""),e.xp6(1),e.Q6J("ngIf",t.Remark.invalid&&t.Remark.touched),e.xp6(7),e.Q6J("items",t.preventiveMaintenanceCategoryList)("clearable",!1)("ngModel",t.searchPreventCategoryId),e.xp6(1),e.Q6J("ngIf",t.PreventiveCategoryId.invalid&&t.PreventiveCategoryId.touched),e.xp6(1),e.Q6J("ngIf",0!=t.preventiveMaintenanceTypeList.length)}}function Zt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",79),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td",80)(7,"span",81),e._uU(8),e.qZA()(),e.TgZ(9,"td",80)(10,"a",82),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(4);return e.KtG(r.openModalDeleteAssetObject(o))}),e._UZ(11,"i",83),e.qZA()()()}if(2&a){const t=s.$implicit,i=e.oxw(4);e.xp6(3),e.Oqu(t.assetTagId?t.assetTagId:"NA"),e.xp6(2),e.hij(" ",t.assetName," "),e.xp6(2),e.Q6J("ngClass",i.returnStatusBadgeClassesStatus(t.assetStatusId)),e.xp6(1),e.Oqu(t.assetStatus)}}function St(a,s){if(1&a&&(e.TgZ(0,"tbody"),e.YNc(1,Zt,12,4,"tr",78),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.selectedAssetList)}}function At(a,s){1&a&&(e.TgZ(0,"tbody")(1,"tr")(2,"td",84),e._uU(3," No Asset Selected "),e.qZA()()())}function Dt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",72)(2,"button",73),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.getAssetList())}),e._uU(3," Add Asset "),e.qZA()(),e.TgZ(4,"div",74)(5,"div",75)(6,"table",76)(7,"thead")(8,"tr",77)(9,"th"),e._uU(10,"Asset No"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Asset"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Status"),e.qZA(),e._UZ(15,"th"),e.qZA()(),e.YNc(16,St,2,1,"tbody",20)(17,At,4,0,"tbody",20),e.qZA()()()()}if(2&a){const t=e.oxw(2);e.xp6(16),e.Q6J("ngIf",0!=t.selectedAssetList.length),e.xp6(1),e.Q6J("ngIf",0==t.selectedAssetList.length)}}function wt(a,s){1&a&&(e.TgZ(0,"li",35)(1,"a",36)(2,"div",37)(3,"p",38),e._uU(4,"Asset"),e.qZA()()(),e.YNc(5,Dt,18,2,"ng-template",39),e.qZA()),2&a&&e.Q6J("ngbNavItem",2)}function kt(a,s){1&a&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",84),e._uU(3," No Member Assign "),e.qZA()(),e.BQk())}function Mt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"th",95)(2,"div",96),e._UZ(3,"img",97),e.TgZ(4,"div",98)(5,"a",99),e._uU(6),e.qZA()()()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",82),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(4);return e.KtG(r.openModalDeleteConf(o))}),e._UZ(13,"i",83),e.qZA()()()}if(2&a){const t=s.$implicit,i=e.oxw(4);e.xp6(3),e.Q6J("src",t.profileImageUrl?i.imgURl+t.profileImageUrl:"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(3),e.hij("",t.fullName," "),e.xp6(2),e.Oqu(t.designation),e.xp6(2),e.Oqu(t.phoneNumber)}}function Lt(a,s){if(1&a&&(e.ynx(0),e.YNc(1,Mt,14,4,"tr",78),e.BQk()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.selectedTech)}}function Nt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",87),e._UZ(1,"div"),e.TgZ(2,"div",88)(3,"button",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2),o=e.MAs(101);return e.KtG(n.openModalTechnician(o))}),e._UZ(4,"i",90),e._uU(5," Add Member "),e.qZA()()(),e.TgZ(6,"div",91)(7,"table",92)(8,"thead",93)(9,"tr")(10,"th",94),e._uU(11,"Name"),e.qZA(),e.TgZ(12,"th",94),e._uU(13,"Designation"),e.qZA(),e.TgZ(14,"th",94),e._uU(15,"Phone Number"),e.qZA(),e.TgZ(16,"th",94),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,kt,4,0,"ng-container",20)(20,Lt,2,1,"ng-container",20),e.qZA()()()}if(2&a){const t=e.oxw(2);e.xp6(19),e.Q6J("ngIf",0==t.selectedTech.length),e.xp6(1),e.Q6J("ngIf",0!=t.selectedTech.length)}}function qt(a,s){1&a&&(e.ynx(0),e.TgZ(1,"li",85)(2,"a",86),e._uU(3," Assigned To "),e.qZA(),e.YNc(4,Nt,21,2,"ng-template",39),e.qZA(),e.BQk()),2&a&&(e.xp6(1),e.Q6J("ngbNavItem",3))}const Pt=()=>({standalone:!0});function Ut(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h6",100),e._uU(3,"Skip Month"),e.qZA()(),e.TgZ(4,"div",74)(5,"div",8)(6,"div",13)(7,"label",16),e._uU(8,"Month"),e.TgZ(9,"span",10),e._uU(10,"*"),e.qZA()(),e.TgZ(11,"ng-select",101),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.selectMonthValue=n)})("change",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.onMonthSkip(n))}),e.qZA()()()()()}if(2&a){const t=e.oxw();e.xp6(11),e.Q6J("items",t.arrayOfMonth)("multiple",!0)("closeOnSelect",!1)("clearable",!1)("ngModel",t.selectMonthValue)("ngModelOptions",e.DdM(6,Pt))}}function Jt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",102)(1,"div",103)(2,"button",104),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",105)(4,"div",106),e._UZ(5,"lord-icon",107),e.qZA(),e.TgZ(6,"div",108)(7,"h4"),e._uU(8,"Information!"),e.qZA(),e.TgZ(9,"p",109),e._uU(10," To create a Checklist type for a specific company or organization, you may need to request the administrator to create this. "),e.qZA()(),e.TgZ(11,"p",110),e._uU(12,"You can follow these steps:"),e.qZA(),e.TgZ(13,"ol",111)(14,"li"),e._uU(15,"Access the application settings."),e.qZA(),e.TgZ(16,"li"),e._uU(17,'Navigate to "Maintenance Setup" within the application setting.'),e.qZA(),e.TgZ(18,"li"),e._uU(19,'Look for an option button "Add Checklist type".'),e.qZA()(),e.TgZ(20,"div",112)(21,"button",113),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(22," Ok "),e.qZA()()()()}}function Vt(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",102)(1,"div",103)(2,"button",104),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",105)(4,"div",106),e._UZ(5,"lord-icon",107),e.qZA(),e.TgZ(6,"div",108)(7,"h4"),e._uU(8,"Information!"),e.qZA(),e.TgZ(9,"p",109),e._uU(10," To create a Checklist Category for a specific company or organization, you may need to request the administrator to create this. "),e.qZA()(),e.TgZ(11,"p",110),e._uU(12,"You can follow these steps:"),e.qZA(),e.TgZ(13,"ol",111)(14,"li"),e._uU(15,"Access the application settings."),e.qZA(),e.TgZ(16,"li"),e._uU(17,'Navigate to "Maintenance Setup" within the application setting.'),e.qZA(),e.TgZ(18,"li"),e._uU(19,'Look for an option button "Add Checklist Category".'),e.qZA()(),e.TgZ(20,"div",112)(21,"button",113),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(22," Ok "),e.qZA()()()()}}function Ft(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",126),e.NdJ("click",function(){const n=e.CHM(t),o=n.index,r=n.$implicit,l=e.oxw(2);return e.KtG(l.selectTechnician(l.filteredTechnicianList,o,r))}),e.TgZ(2,"div",127)(3,"div",128)(4,"div",129)(5,"label",130)(6,"input",131),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.filteredTechnicianList[r].checked=n)}),e.qZA(),e._UZ(7,"i",132),e.qZA()()()(),e.TgZ(8,"div",133),e._UZ(9,"img",134),e.qZA(),e.TgZ(10,"div",135)(11,"h5",136)(12,"a",137),e._uU(13),e.qZA(),e.TgZ(14,"p",138),e._uU(15),e.qZA()()(),e.TgZ(16,"div",139)(17,"p",140)(18,"span"),e._UZ(19,"i",141),e._uU(20),e.qZA()()()()()}if(2&a){const t=s.$implicit,i=s.index,n=e.oxw(2);e.xp6(6),e.s9C("value",t),e.Q6J("ngModel",n.filteredTechnicianList[i].checked),e.xp6(3),e.s9C("src",t.profileImageUrl?n.imgURl+t.profileImageUrl:"../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(4),e.hij(" ",t.fullName," "),e.xp6(2),e.hij("Role:",t.roleName,""),e.xp6(5),e.Oqu(t.phoneNumber)}}function jt(a,s){1&a&&(e.TgZ(0,"div",142)(1,"p"),e._uU(2,"No Member Found"),e.qZA()())}function Ot(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",114)(1,"h5",115),e._uU(2,"Add Technicians"),e.qZA(),e.TgZ(3,"button",116),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",117)(5,"div",118)(6,"input",119),e.NdJ("keyup",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.filterTechnician(n))})("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.technicianSearchText=n)}),e.qZA(),e._UZ(7,"i",120),e.qZA(),e.TgZ(8,"ngx-simplebar",121)(9,"div",122),e.YNc(10,Ft,21,6,"div",78)(11,jt,3,0,"div",123),e.qZA()()(),e.TgZ(12,"div",124)(13,"button",125),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(14," Close "),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.technicianSearchText),e.xp6(4),e.Q6J("ngForOf",t.filteredTechnicianList),e.xp6(1),e.Q6J("ngIf",t.technicianList&&t.filteredTechnicianList&&t.technicianSearchText.length>0?!t.filteredTechnicianList.length:!t.technicianList.length)}}const k=(a,s)=>({"is-invalid":a,"is-valid":s}),Qt=[{path:"list-configuration",component:Be},{path:"add-configuration",component:(()=>{class a{constructor(t,i,n,o,r,l,u,h,g,C){this.formBuilder=t,this.dropdownServices=i,this.preventiveService=n,this.modalService=o,this.router=r,this.commonFunctionService=l,this.offcanvasService=u,this.datePipe=h,this.authService=g,this.maintenanceService=C,this.isProject=!1,this.defaultNavActiveId=1,this.label="Preventive Management",this.breadCrumbItems=[{label:"Configuration"},{label:"Add Configuration ",active:!0}],this.maxCharsDecision=300,this.Editor=He,this.imgURl=f.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.arrayListDropDownAssetStatus=[],this.frequencyList=["Monthly","Hourly","Yearly","Quarterly"],this.droupFrequencyData=[1,2,3,4,5,6,7,8,9,10,11,12],this.supportTypeAarry=["On-Site","Remote","Phone Call"],this.preventiveMaintenanceTypeList=[],this.preventiveMaintenanceCategoryList=[],this.selectedPreventiveMaintenanceTypeArray=[],this.selectMonthValue=[],this.arrayOfMonth=[],this.selectedAssetList=[],this.selectedTime="",this.technicianList=[],this.selectedTech=[],this.filteredTechnicianList=[],this.technicianSearchText="",this.preventiveService.accessRight?(this.isProject=this.authService.getisProject(),this.getDropdownCompanyList()):this.goback()}ngOnInit(){let t=(new Date).getFullYear();this.arrayOfMonth=[{name:"January",id:t+"-01-01"},{name:"February",id:t+"-02-01"},{name:"March",id:t+"-03-01"},{name:"April",id:t+"-04-01"},{name:"May",id:t+"-05-01"},{name:"June",id:t+"-06-01"},{name:"July",id:t+"-07-01"},{name:"August",id:t+"-08-01"},{name:"September",id:t+"-09-01"},{name:"October",id:t+"-10-01"},{name:"November",id:t+"-11-01"},{name:"December",id:t+"-12-01"}],this.getfromBinding()}getfromBinding(){this.addMasterSchedule=this.formBuilder.group({ConfigPreventivePDescription:["",p.kI.required],Frequency:[null,p.kI.required],FrequencyData:[null,p.kI.required],NextSchduleStart:["",p.kI.required],Remark:["",p.kI.required],ProjectId:[null,p.kI.required],ClientId:[null,p.kI.required],CompanyId:[null,p.kI.required],SupportType:[null,p.kI.required],PreventiveCategoryId:[null,p.kI.required],NextSchduleStarttime:[]})}get ConfigPreventivePDescription(){return this.addMasterSchedule.get("ConfigPreventivePDescription")}get Frequency(){return this.addMasterSchedule.get("Frequency")}get FrequencyData(){return this.addMasterSchedule.get("FrequencyData")}get NextSchduleStart(){return this.addMasterSchedule.get("NextSchduleStart")}get Remark(){return this.addMasterSchedule.get("Remark")}get ProjectId(){return this.addMasterSchedule.get("ProjectId")}get ClientId(){return this.addMasterSchedule.get("ClientId")}get CompanyId(){return this.addMasterSchedule.get("CompanyId")}get SupportType(){return this.addMasterSchedule.get("SupportType")}get PreventiveCategoryId(){return this.addMasterSchedule.get("PreventiveCategoryId")}get NextSchduleStarttime(){return this.addMasterSchedule.get("NextSchduleStarttime")}onchangesFrequency(t){"Hourly"==t?this.NextSchduleStarttime.setValidators([p.kI.required]):this.NextSchduleStarttime.clearValidators(),this.NextSchduleStarttime.updateValueAndValidity()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,this.selectedTech=[],this.technicianList=[],this.filteredTechnicianList=[]})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(i=>{this.arrayListDropDownClientList=i.list,this.selectedTech=[],this.technicianList=[],this.filteredTechnicianList=[]})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(i=>{this.arrayListDropDownProjectOrDeparmentList=i.list,this.selectedTech=[],this.technicianList=[],this.filteredTechnicianList=[]})}onDropdownCompanyValueChange(t){this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.defaultNav.activeId=1,this.searchPreventMaintenanceId=null,this.searchPreventCategoryId=null,this.preventiveMaintenanceTypeList=[],this.preventiveMaintenanceCategoryList=[],this.selectedAssetList=[],this.GetV2_GetMX_PreventiveMaintenanceCategoryDrobDown(this.selectedDropDownCompanyIdValue)}onDropdownClientValueChange(t){this.selectedAssetList=[],this.defaultNav.activeId=1,this.selectedDropDownProjectOrDeparmentIdValue=null,this.getDropdownDepartmentList()}onDropdownDepartmentValueChange(t){this.selectedAssetList=[],this.defaultNav.activeId=1}onchangePreventiveMaintenanceCategory(t){this.searchPreventMaintenanceId=[],this.selectedPreventiveMaintenanceTypeArray=[],this.searchPreventCategoryId=t.preventiveCategoryId,this.GetMX_PreventiveMaintenanceTypeDrobDown(this.searchPreventCategoryId)}GetV2_GetMX_PreventiveMaintenanceCategoryDrobDown(t){this.preventiveService.getV2_GetMX_PreventiveMaintenanceCategoryDrobDown({SearchCompanyId:t}).subscribe(n=>{this.preventiveMaintenanceCategoryList=n.list,0==n.list.length&&this.noMaintenanceeCategoryPopUpOpen()},n=>{})}GetMX_PreventiveMaintenanceTypeDrobDown(t){this.preventiveService.getMX_PreventiveMaintenanceTypeDrobDown({SearchPreventCategoryId:t}).subscribe(n=>{this.preventiveMaintenanceTypeList=n.list,0==n.list.length&&(this.searchPreventCategoryId=null,this.noMaintenanceTypePopUpOpen())},n=>{})}returnValue(t){return this.selectedPreventiveMaintenanceTypeArray.includes(t)}returnaSelectAll(){return this.selectedPreventiveMaintenanceTypeArray.length===this.preventiveMaintenanceTypeList.length}checkSelectedAll(t,i=0){this.selectedPreventiveMaintenanceTypeArray=[],t.target.checked?this.preventiveMaintenanceTypeList.map(n=>{this.selectedPreventiveMaintenanceTypeArray.push(n.preventiveTypeId)}):this.selectedPreventiveMaintenanceTypeArray=[]}checkPreventiveMaintenance(t,i){t.target.checked?this.selectedPreventiveMaintenanceTypeArray.push(i):this.selectedPreventiveMaintenanceTypeArray.splice(this.selectedPreventiveMaintenanceTypeArray.indexOf(i),1)}noMaintenanceTypePopUpOpen(){this.modalService.open(this.noMaintenanceTypePopUp,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{},t=>{})}noMaintenanceeCategoryPopUpOpen(){this.modalService.open(this.noMaintenanceTypePopUp,{backdrop:"static",keyboard:!1,centered:!0}).result.then(t=>{},t=>{})}addMasterScheduleDetails(){let t=[];this.selectedPreventiveMaintenanceTypeArray.forEach(r=>{t.push({PreventiveCategoryId:this.PreventiveCategoryId.value,PreventiveTypeId:r})});let i=[];this.selectedAssetList.forEach(r=>{i.push({AssetId:r.id,Note:r.text})});let n=[];0!==this.selectedTech.length&&this.selectedTech.forEach(r=>{n.push({TechId:r?.userId,TechName:r?.fullName})});let o={ConfigPreventivePDescription:this.ConfigPreventivePDescription.value,Frequency:this.Frequency.value,FrequencyData:this.FrequencyData.value,NextSchduleStart:"Hourly"==this.Frequency.value?this.datePipe.transform(this.NextSchduleStart.value,"yyyy-MM-dd ")+" "+this.NextSchduleStarttime.value:this.datePipe.transform(this.NextSchduleStart.value,"yyyy-MM-dd "),Remark:this.Remark.value,ProjectId:this.ProjectId.value,ClientId:this.ClientId.value,CompanyId:this.CompanyId.value,SupportType:this.SupportType.value,PreventiveCategoryId:this.PreventiveCategoryId.value,assertItemlist:i,checklist:t,ClientName:this.findNameById(this.ClientId.value,this.arrayListDropDownClientList,"clientName","clientId"),CompanyName:this.findNameById(this.CompanyId.value,this.arrayListDropDownCompany,"companyName","companyId"),ProjectName:this.findNameById(this.ProjectId.value,this.arrayListDropDownProjectOrDeparmentList,"departmentName","departmentId"),mX_WOTechAssignment:n||[],mX_MaintenanceScheduleSkip:this.selectMonthValue?this.selectMonthValue.map(r=>({SkipFlag:r})):[]};this.preventiveService.CreateMX_Config_Preventive(o).subscribe(r=>{this.openModalView(r)})}clearChangDate(){this.NextSchduleStart.reset(),this.NextSchduleStarttime.reset()}openModalView(t){const i=this.modalService.open(J.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title=t.message,i.componentInstance.subTitle="Do you want to setup Checklist on Schedule Configuration",i.componentInstance.subTitle1="If yes then navigate to View Schedule page.",i.componentInstance.buttonName="Go It",i.result.then(n=>{n&&("success"==n?t.configPreventiveId?this.gotoView(t.configPreventiveId,this.PreventiveCategoryId.value):(this.warning("In this schedule the Admin not sending the configPreventiveId Value !! "),this.goback()):this.goback())})}gotoView(t,i){this.preventiveService.configPreventiveId=t,this.preventiveService.preventiveCategoryId=i,this.preventiveService.pageAction="Add Checklist",this.router.navigate(["maintenace-management/preventive/configuration/view-configuration"])}success(t){_().fire({toast:!0,position:"top-end",icon:"success",title:t,showConfirmButton:!1,timer:3e3})}warning(t){_().fire({toast:!0,position:"top-end",icon:"warning",title:t.message,showConfirmButton:!1,timer:3e3})}goback(){this.router.navigate(["/maintenace-management/preventive/configuration/list-configuration"])}findNameById(t,i,n,o){const r=i.find(l=>l[o]===t);return r?r[n]:void 0}getAssetList(){const t=this.offcanvasService.open(Ee._,{scroll:!0,position:"end",keyboard:!1,backdrop:"static",panelClass:"custom-offcanvas "});t.componentInstance.selectedDropDownCompanyIdValue=this.CompanyId.value,t.componentInstance.selectedDropDownClientIdValue=this.ClientId.value,t.componentInstance.selectedDropDownProjectOrDeparmentIdValue=this.ProjectId.value,t.componentInstance.selectedAsset=0!=this.selectedAssetList.length?this.selectedAssetList:[],t.result.then(i=>{this.selectedAssetList=i}).catch(i=>{this.selectedAssetList=i})}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}timeChanged(){this.selectedTime=this.selectedTime?this.formatTime(this.selectedTime):""}formatTime(t){return t.split(":")[0]+":00"}convertTo12HourFormat(t){const[i,n]=t.split(":");let o=parseInt(i,10);const r=o>=12?"PM":"AM";return o>12?o-=12:0===o&&(o=12),`${o}:${n} ${r}`}openModalTechnician(t){this.modalService.open(t,{size:"lg",centered:!0}),this.loadTechnician()}loadTechnician(){this.maintenanceService.getTechnician(this.ProjectId.value).subscribe(t=>{t&&(this.technicianList=t?.data,this.technicianList.forEach(i=>{i.checked=!1,i.disabled=!1}),this.selectedTech.length>0&&this.technicianList.forEach(i=>{this.selectedTech.forEach(n=>{n.userId===i.userId&&(i.checked=!0,i.disabled=!0)})}),this.filteredTechnicianList=this.technicianList)},t=>{})}getTechnicianIndex(t){return this.technicianList.findIndex(i=>i.userId===t)}getSelectedTechnicianIndex(t){return this.selectedTech.findIndex(i=>i.userId===t)}selectTechnician(t,i,n){if(this.filteredTechnicianList[i].disabled)return;const o=this.getTechnicianIndex(n.userId);this.technicianList[o].checked=!this.technicianList[o].checked,this.getTodoListChecked(t[i].checked,n)}getTodoListChecked(t,i){1==t?this.selectedTech.push(i):this.selectedTech.forEach((n,o)=>{n.userId==i.userId&&this.selectedTech.splice(o,1)})}unCheckItem(t){const i=this.getTechnicianIndex(t.userId);this.technicianList[i].checked=!1;const n=this.getSelectedTechnicianIndex(t.userId);this.selectedTech.splice(n,1)}filterTechnician(t){this.filteredTechnicianList=this.technicianList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}clearTeach(t){this.technicianSearchText="",this.filteredTechnicianList=this.technicianList.filter(i=>i.fullName.toLowerCase().includes(t.target.value.toLowerCase()||""))}openModalDeleteConf(t){const i=this.modalService.open(T.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="You are about to delete a Member ?",i.componentInstance.subTitle="Deleting your Member will remove for this Member List  ",i.result.then(n=>{n&&"delete"==n&&this.unCheckItem(t)})}openModalDeleteAssetObject(t){console.log(t,"hh");const i=this.modalService.open(T.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="You are about to delete a Asset ?",i.componentInstance.subTitle="Deleting your Asset will remove for this Asset List  ",i.result.then(n=>{n&&"delete"==n&&this.unCheckItemAssetList(t)})}unCheckItemAssetList(t){const i=this.getAssetIndex(t.id);this.selectedAssetList.splice(i,1)}getAssetIndex(t){return this.selectedAssetList.findIndex(i=>i.id===t)}onMonthSkip(t){console.log(this.selectMonthValue)}static{this.\u0275fac=function(i){return new(i||a)(e.Y36(p.qu),e.Y36(D.V),e.Y36(y.W),e.Y36(d.FF),e.Y36(v.F0),e.Y36(x.K),e.Y36(d._B),e.Y36(m.uU),e.Y36(Z.u),e.Y36(U.N))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-configuration-add"]],viewQuery:function(i,n){if(1&i&&(e.Gf(Ke,5),e.Gf($e,7),e.Gf(Xe,7)),2&i){let o;e.iGM(o=e.CRH())&&(n.defaultNav=o.first),e.iGM(o=e.CRH())&&(n.noMaintenanceTypePopUp=o.first),e.iGM(o=e.CRH())&&(n.noMaintenanceCategoryPopUp=o.first)}},decls:102,vars:57,consts:[[3,"title","breadcrumbItems"],[3,"formGroup"],[1,"row"],[1,"col-lg-4","ps-0","pe-0","mt-n2","stretch-card"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"mb-3"],["for","companyId",1,"form-label"],[1,"starRequried"],["bindLabel","companyName","bindValue","companyId","placeholder","Select Company","formControlName","CompanyId",1,"custom",3,"items","clearable","ngModel","ngClass","ngModelChange","change"],["class","mt-2",4,"ngIf"],[1,"form-group"],["for","ClientId",1,"form-label"],["bindLabel","clientName","bindValue","clientId","placeholder","Select Client","formControlName","ClientId",1,"custom",3,"items","clearable","ngModel","ngClass","ngModelChange","change"],[1,"form-label"],["bindLabel","departmentName","bindValue","departmentId","formControlName","ProjectId",1,"custom",3,"items","ngModel","placeholder","clearable","ngClass","ngModelChange","change"],["for","Frequency",1,"form-label"],["formControlName","Frequency","id","Frequency","placeholder","Frequency",1,"w-100","mr-2",3,"items","clearable","change"],[4,"ngIf"],["for","FrequencyData",1,"form-label"],["formControlName","FrequencyData","id","Frequency Data","placeholder","Frequency Data",1,"w-100","mr-2",3,"items","clearable"],["for","SupportType"],["placeholder","Action type","formControlName","SupportType",3,"items","clearable"],["for","NextSchduleStart",1,"form-label"],["class","ri-close-circle-line text-danger",3,"click",4,"ngIf"],[1,"d-flex"],["type","date","id","NextSchduleStart","formControlName","NextSchduleStart","placeholder","Schedule Start On","mwlFlatpickr","",1,"form-control",3,"altInput","enableTime","convertModelValue","dateFormat"],["id","timeInput","class","form-control","placeholder","Select Time","formControlName","NextSchduleStarttime",3,"ngxMatTimepicker",4,"ngIf"],["dottedMinutesInGap","","enableKeyboardInput",""],["picker",""],[1,"col-lg-8","pe-0","mt-n2","stretch-card"],["ngbNav","",1,"nav-tabs","nav-tabs-custom",3,"activeId","activeIdChange"],["defaultNav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"d-flex","flex-row","flex-lg-column","flex-xl-row","align-items-center"],[1,"d-none1","d-sm-block","mb-0"],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"text-end","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect","mx-3",3,"click"],["type","button",1,"btn","btn-success","w-sm",3,"disabled","click"],["noMaintenanceTypePopUp",""],["noMaintenanceCategoryPopUp",""],["role","document"],["TechnicianListModal",""],[1,"mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"ri-close-circle-line","text-danger",3,"click"],["id","timeInput","placeholder","Select Time","formControlName","NextSchduleStarttime",1,"form-control",3,"ngxMatTimepicker"],[1,"col-lg-12"],[1,"card","mb-1"],["type","text","placeholder","Enter Title","formControlName","ConfigPreventivePDescription",1,"form-control"],["formControlName","Remark","rows","4","cols","6","placeholder","Remark",1,"form-control",3,"maxlength"],[1,"nopadding","clrlbl"],["for","PreventiveCategoryId",1,"form-label"],["bindLabel","preventiveCategoryName","formControlName","PreventiveCategoryId","bindValue","preventiveCategoryId","id","PreventiveCategoryId","placeholder","Checklist Category",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["class","mb-3",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],["for","preventiveTypeName",1,"form-label"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],[1,"form-check-label",3,"for"],["class","col-4 mt-2",4,"ngFor","ngForOf"],[1,"col-4","mt-2"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"card-header","text-end","p-2"],[1,"btn","btn-primary",3,"click"],[1,"card-body","maxHeightCard"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"fw-medium","link-primary"],[1,"status"],[3,"ngClass"],["href","javascript:void(0)",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-danger"],["colspan","4",1,"text-center"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","role","tab",1,"nav-link"],[1,"d-flex","align-items-center","justify-content-between","mb-3","mt-2"],[1,"mb-2"],["type","button","data-bs-toggle","modal","data-bs-target","#inviteMembersModal",1,"btn","btn-soft-primary","btn-sm",3,"click"],[1,"ri-add-fill","align-bottom","me-1"],[1,"table-responsive","table-card"],[1,"table","align-middle","mb-0"],[1,"table-light","text-muted"],["scope","col"],["scope","row"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle","avatar-xxs",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1","ms-2"],["href","javascript:void(0);",1,"fw-medium"],[1,"mb-0","card-title"],["bindLabel","name","bindValue","id","placeholder","Select Month",3,"items","multiple","closeOnSelect","clearable","ngModel","ngModelOptions","ngModelChange","change"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center"],["src","https://cdn.lordicon.com/tdrtiskw.json","trigger","loop","colors","primary:#f06548,secondary:#f7b84b",2,"width","120px","height","120px"],[1,"mt-2","fs-15","text-center"],[1,"text-muted","mx-4","mb-0"],[1,"mx-3","mb-0"],[1,"pt-0","fs-15"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["type","button","aria-label","",1,"swal2-cancel","btn","btn-primary","w-xs","mb-1",2,"display","inline-block",3,"click"],[1,"modal-header","p-3","bg-primary-subtle"],["id","inviteMembersModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","p-4"],[1,"search-box","mb-3"],["type","text","placeholder","Search member here...",1,"form-control","bg-light","border-light",3,"ngModel","keyup","ngModelChange"],[1,"ri-search-line","search-icon"],[1,"mx-n4","px-4",2,"height","400px"],[1,"vstack","gap-3"],["class","text-center mt-3 text-muted",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"d-flex","align-items-center",3,"click"],[1,"flex-shrink-0","me-3"],[1,"d-flex","align-items-center","gap-1"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"value","ngModel","ngModelChange"],[1,"input-frame"],[1,"avatar-xs","flex-shrink-0","me-3"],["alt","",1,"img-fluid","rounded-circle",2,"width","40px","height","40px",3,"src"],[1,"flex-grow-1"],[1,"fs-14","mb-0"],["href","javascript:void(0);",1,"text-body","d-block"],[1,"mt-0","mb-0"],[1,"flex-shrink-0","me-3","mb-0"],[1,"mb-0"],[1,"ri-phone-fill","me-1"],[1,"text-center","mt-3","text-muted"]],template:function(i,n){if(1&i&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7,"Basic Information"),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Company"),e.TgZ(12,"span",10),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"ng-select",11),e.NdJ("ngModelChange",function(r){return n.selectedDropDownCompanyIdValue=r})("change",function(r){return n.onDropdownCompanyValueChange(r)}),e.qZA(),e.YNc(15,We,2,1,"div",12),e.qZA(),e.TgZ(16,"div",8)(17,"div",13)(18,"label",14),e._uU(19,"Client"),e.TgZ(20,"span",10),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"ng-select",15),e.NdJ("ngModelChange",function(r){return n.selectedDropDownClientIdValue=r})("change",function(r){return n.onDropdownClientValueChange(r)}),e.qZA(),e.YNc(23,tt,2,1,"div",12),e.qZA()(),e.TgZ(24,"div",8)(25,"div",13)(26,"label",16),e._uU(27),e.TgZ(28,"span",10),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"ng-select",17),e.NdJ("ngModelChange",function(r){return n.selectedDropDownProjectOrDeparmentIdValue=r})("change",function(r){return n.onDropdownDepartmentValueChange(r)}),e.qZA(),e.YNc(31,it,2,1,"div",12),e.qZA()(),e.TgZ(32,"div",8)(33,"div",13)(34,"label",18),e._uU(35,"Frequency "),e.TgZ(36,"span",10),e._uU(37,"*"),e.qZA()(),e.TgZ(38,"ng-select",19),e.NdJ("change",function(r){return n.onchangesFrequency(r)}),e.qZA(),e.YNc(39,ot,2,1,"div",20),e.qZA()(),e.TgZ(40,"div",8)(41,"div",13)(42,"label",21),e._uU(43,"Frequency Data "),e.TgZ(44,"span",10),e._uU(45,"*"),e.qZA()(),e._UZ(46,"ng-select",22),e.YNc(47,st,2,1,"div",20),e.qZA()(),e.TgZ(48,"div",8)(49,"div",13)(50,"label",23),e._uU(51,"Action Type "),e.TgZ(52,"span",10),e._uU(53,"*"),e.qZA()(),e._UZ(54,"ng-select",24),e.YNc(55,ct,2,1,"div",20),e.qZA()(),e.TgZ(56,"div",8)(57,"div",13)(58,"label",25),e._uU(59,"Schedule Start On "),e.TgZ(60,"span",10),e._uU(61,"*"),e.qZA(),e.YNc(62,dt,1,0,"i",26),e.qZA(),e.TgZ(63,"div",27),e._UZ(64,"input",28),e.YNc(65,pt,1,1,"input",29),e._UZ(66,"ngx-mat-timepicker",30,31),e.qZA(),e.YNc(68,ht,2,1,"div",20)(69,gt,2,1,"div",20),e.qZA()()()()(),e.TgZ(70,"div",32)(71,"div",4)(72,"div",7)(73,"ul",33,34),e.NdJ("activeIdChange",function(r){return n.defaultNavActiveId=r}),e.TgZ(75,"li",35)(76,"a",36)(77,"div",37)(78,"p",38),e._uU(79,"Ticket"),e.qZA()()(),e.YNc(80,It,29,18,"ng-template",39),e.qZA(),e.YNc(81,wt,6,1,"li",40)(82,qt,5,1,"ng-container",20),e.TgZ(83,"li",35)(84,"a",36)(85,"div",37)(86,"p",38),e._uU(87,"Skip Month"),e.qZA()()(),e.YNc(88,Ut,12,7,"ng-template",39),e.qZA()(),e.TgZ(89,"div",41),e._UZ(90,"div",42),e.qZA()()()()(),e.TgZ(91,"div",43)(92,"button",44),e.NdJ("click",function(){return n.goback()}),e._uU(93," Back "),e.qZA(),e.TgZ(94,"button",45),e.NdJ("click",function(){return n.addMasterScheduleDetails()}),e._uU(95," Submit "),e.qZA()()(),e.YNc(96,Jt,23,0,"ng-template",null,46,e.W1O)(98,Vt,23,0,"ng-template",null,47,e.W1O)(100,Ot,15,3,"ng-template",48,49,e.W1O)),2&i){const o=e.MAs(74);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(1),e.Q6J("formGroup",n.addMasterSchedule),e.xp6(13),e.Q6J("items",n.arrayListDropDownCompany)("clearable",!1)("ngModel",n.selectedDropDownCompanyIdValue)("ngClass",e.WLB(48,k,n.CompanyId.invalid&&n.CompanyId.touched,n.CompanyId.valid&&n.CompanyId.touched)),e.xp6(1),e.Q6J("ngIf",n.CompanyId.invalid&&n.CompanyId.touched),e.xp6(7),e.Q6J("items",n.arrayListDropDownClientList)("clearable",!1)("ngModel",n.selectedDropDownClientIdValue)("ngClass",e.WLB(51,k,n.ClientId.invalid&&n.ClientId.touched,n.ClientId.valid&&n.ClientId.touched)),e.xp6(1),e.Q6J("ngIf",n.ClientId.invalid&&n.ClientId.touched),e.xp6(4),e.Oqu(n.isProject?"Project":"Department"),e.xp6(3),e.Q6J("items",n.arrayListDropDownProjectOrDeparmentList)("ngModel",n.selectedDropDownProjectOrDeparmentIdValue)("placeholder",n.isProject?"Select Project":"Select Department")("clearable",!1)("ngClass",e.WLB(54,k,n.ProjectId.invalid&&n.ProjectId.touched,n.ProjectId.valid&&n.ProjectId.touched)),e.xp6(1),e.Q6J("ngIf",(null==n.ProjectId?null:n.ProjectId.invalid)&&(null==n.ProjectId?null:n.ProjectId.touched)),e.xp6(7),e.Q6J("items",n.frequencyList)("clearable",!1),e.xp6(1),e.Q6J("ngIf",n.Frequency.invalid&&n.Frequency.touched),e.xp6(7),e.Q6J("items",n.droupFrequencyData)("clearable",!1),e.xp6(1),e.Q6J("ngIf",n.FrequencyData.invalid&&n.FrequencyData.touched),e.xp6(7),e.Q6J("items",n.supportTypeAarry)("clearable",!1),e.xp6(1),e.Q6J("ngIf",n.SupportType.invalid&&n.SupportType.touched),e.xp6(7),e.Q6J("ngIf",n.NextSchduleStart.value),e.xp6(2),e.ekj("is-invalid",n.NextSchduleStart.invalid&&n.NextSchduleStart.touched)("is-valid",n.NextSchduleStart.valid&&n.NextSchduleStart.touched),e.Q6J("altInput",!1)("enableTime",!1)("convertModelValue",!0)("dateFormat","d-m-Y"),e.xp6(1),e.Q6J("ngIf","Hourly"==n.Frequency.value),e.xp6(3),e.Q6J("ngIf",n.NextSchduleStart.invalid&&n.NextSchduleStart.touched),e.xp6(1),e.Q6J("ngIf",n.NextSchduleStarttime.invalid&&n.NextSchduleStarttime.touched),e.xp6(4),e.Q6J("activeId",n.defaultNavActiveId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(6),e.Q6J("ngIf",n.selectedDropDownProjectOrDeparmentIdValue),e.xp6(1),e.Q6J("ngIf",n.CompanyId.value&&n.ClientId.value&&n.ProjectId.value),e.xp6(1),e.Q6J("ngbNavItem",4),e.xp6(7),e.Q6J("ngbNavOutlet",o),e.xp6(4),e.Q6J("disabled",n.addMasterSchedule.invalid||0==n.selectedAssetList.length||0==n.selectedPreventiveMaintenanceTypeArray.length)}},dependencies:[m.mk,m.sg,m.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.nD,p.On,p.sg,p.u,V.as,S.M,A.n,d.uN,d.Pz,d.nv,d.Is,d.Vx,d.tO,d.Dy,I.w9,w.ft,w.Bi],styles:[".maxHeightCard[_ngcontent-%COMP%]{height:703px;overflow-y:scroll}"]})}}return a})()},{path:"view-configuration",component:Ie},{path:"",pathMatch:"full",redirectTo:"list-configuration"}];let Rt=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({imports:[v.Bz.forChild(Qt),v.Bz]})}}return a})();var Yt=c(6208),Gt=c(4647),Bt=c(9101),Ht=c(5223),Et=c(6802),Kt=c(6592),$t=c(6250),Xt=c(3187),zt=c(6480),Wt=c(2032);let en=(()=>{class a{static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({providers:[m.uU],imports:[m.ez,Rt,p.u5,p.UX,d.jF,d.ZS,d.XC,d.HK,Kt.m,V.JT.forRoot(),S.t,Yt.m,d.ZQ,d.Oz,Bt.p.pick(Et.kEt),Gt.d,Ht.Ti,I.A0,zt.DashboardModule,$t.QuotationModule,Xt.ServiceOrderModule,w.Yy,Wt.c]})}}return a})()}}]);
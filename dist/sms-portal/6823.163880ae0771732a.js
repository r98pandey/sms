"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[6823,9455],{618:(w,y,p)=>{p.d(y,{n:()=>g});var l=p(9862),u=p(553),c=p(9212),m=p(2787),A=p(5035);let g=(()=>{class f{static{this.editDepartmentId=0}constructor(e,d,C){this._http=e,this._route=d,this.authService=C,this.accessRight=!1}getDepartmentTableList_LocalPagination(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetDepartmentTableList_LocalPagination",e,{headers:(new l.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json")})}postDepartment(e){return this._http.post(u.N.apiUrl+"api/V2_Master/CreateDepartment",e,{headers:(new l.WM).set("Content-Type","application/json")})}postUpdateDepartmentLogo(e){return this._http.post(u.N.apiUrl+"api/Master/UpdateDepartmentLogo",e,{headers:(new l.WM).set("Content-Type","application/json")})}getDepartmentByCompanyId(e){return this._http.get(u.N.apiUrl+"api/Master/GetDepartmentList/"+e,{headers:(new l.WM).set("Content-Type","application/json")})}getDepartmentByClientId(e,d){return this._http.get(u.N.apiUrl+"api/Master/GetDepartmentListByClient/"+e+"/"+d,{headers:(new l.WM).set("Content-Type","application/json")})}getCompanyListWithDept(e){return this._http.get(u.N.apiUrl+"api/Master/GetCompanyListWithDept/"+e,{headers:(new l.WM).set("Content-Type","application/json")})}getDepartmentListByDeptId(e){return this._http.get(u.N.apiUrl+"api/Master/GetDepartmentListByDeptId/"+e,{headers:(new l.WM).set("Content-Type","application/json")})}getDepartmentDetail(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetDepartmentDetail",{DepartmentId:e},{headers:(new l.WM).set("Content-Type","application/json")})}postUpdateDepartment(e){return this._http.post(u.N.apiUrl+"api/V2_Master/UpdateDepartment",e,{headers:(new l.WM).set("Content-Type","application/json")})}postDeleteDepartment(e){return this._http.post(u.N.apiUrl+"api/Master/DeleteDepartment",e,{headers:(new l.WM).set("Content-Type","application/json")})}getClient(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetClientListDrobDown",{SearchCompanyId:e},{headers:(new l.WM).set("Content-Type","application/json")})}getDepartmentListDropdown(e,d){return this._http.post(u.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",{SearchCompanyId:e,SearchClientId:d},{headers:(new l.WM).set("Content-Type","application/json")})}static{this.\u0275fac=function(d){return new(d||f)(c.LFG(l.eN),c.LFG(m.F0),c.LFG(A.$))}}static{this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},6823:(w,y,p)=>{p.r(y),p.d(y,{NewClientModule:()=>dt});var l=p(6814),u=p(2787),c=p(6223),m=p(3934),A=p(8868),g=p(1517),f=p(3519),b=p.n(f),e=p(9212),d=p(9455),C=p(618),h=p(7291),T=p(4807),U=p(8617);function M(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Company is Required"),e.qZA()())}function E(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Client is Required"),e.qZA()())}function q(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Full Name is Required"),e.qZA())}function F(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"small",47),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.FullName.errors.required)}}function P(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Email is Required"),e.qZA())}function V(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,P,2,0,"small",47),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.Email.errors.required)}}function R(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Phone Number is Required"),e.qZA())}function G(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,R,2,0,"small",47),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.PhoneNumber.errors.required)}}function J(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Role is Required "),e.qZA()())}function j(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Access Group is Required "),e.qZA()())}function O(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"label",48)(1,"div",49)(2,"div",50)(3,"i",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.crossFirstImage(i.profile_img))}),e.qZA()()()()}}function B(a,r){1&a&&(e.TgZ(0,"label",52)(1,"div",49)(2,"div",50),e._UZ(3,"i",53),e.qZA()()())}function Q(a,r){1&a&&(e.TgZ(0,"div",3)(1,"h4",4),e._uU(2,"Data Access Level \xa0"),e.qZA()())}function Y(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",27)(2,"input",60),e.NdJ("change",function(i){const s=e.CHM(t),o=s.$implicit,_=s.index,v=e.oxw(2);return e.KtG(v.checkDeparmentAccess(i,o.departmentId,_))}),e.qZA(),e.TgZ(3,"label",56),e._uU(4),e.qZA()()()}if(2&a){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("checked",n.returnValue(t.departmentId))("id",t.departmentName),e.xp6(1),e.Q6J("for",t.departmentName),e.xp6(1),e.hij(" ",t.departmentName," ")}}function z(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",25)(2,"div",54)(3,"div",27)(4,"input",55),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.checkSelectedAll(i))}),e.qZA(),e.TgZ(5,"label",56),e._uU(6," Select All "),e.qZA()()(),e._UZ(7,"div",57),e.YNc(8,Y,5,4,"div",58),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("id","selectAll")("checked",t.returnaSelectAll()),e.xp6(1),e.Q6J("for","selectAll"),e.xp6(3),e.Q6J("ngForOf",t.departmentList)}}const x=a=>({"is-invalid":a});let W=(()=>{class a{constructor(t,n,i,s,o,_){this.formBuilder=t,this.userService=n,this.dropDownService=i,this.departmentService=s,this.router=o,this.modalService=_,this.loading={role:!1,accessGroup:!1},this.label="Add Client User",this.breadCrumbItems=[{label:"Application Setup"},{label:"Add Client User",active:!0}],this.rolesList=[],this.accessGroupList=[],this.companyList=[],this.profileStatus=[],this.selectedProfileStatus="",this.clientList=[],this.selectedCompanies=[],this.dataAccessLevelByCompany={},this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.userService.accessRight?(this.buildForm(),this.getRoles(),this.getCompanyDropDownList()):this.goBack()}buildForm(){this.profile_img=this.default_profile_img="../../../../../../assets/images/userClientPlaceholder.png",this.userForm=this.formBuilder.group({Email:["",[c.kI.required,c.kI.email]],FullName:["",c.kI.required],PhoneNumber:["",c.kI.required],roleId:[null,c.kI.required],AccessGroupId:[null,c.kI.required],PortalEnable:[!1],CompanyId:[null,c.kI.required],ClientId:[null,c.kI.required],UserImageBase64string:[""]})}get form(){return this.userForm.controls}get AccessGroupId(){return this.userForm.get("AccessGroupId")}get roleId(){return this.userForm.get("roleId")}get FullName(){return this.userForm.get("FullName")}get Email(){return this.userForm.get("Email")}get UserImageBase64string(){return this.userForm.get("UserImageBase64string")}get PortalEnable(){return this.userForm.get("PortalEnable")}get PhoneNumber(){return this.userForm.get("PhoneNumber")}get CompanyId(){return this.userForm.get("CompanyId")}get ClientId(){return this.userForm.get("ClientId")}getRoleName(t){return this.rolesList.find(n=>t==n.id)}getClientName(t){return this.clientList.find(n=>t==n.clientId)}onTypeRole(t){this.AccessGroupId.reset(),this.getAccessGroup(t.id)}getRoles(){this.userService.getRoleListForClient().subscribe({next:t=>{this.rolesList=t.data}})}getAccessGroup(t){this.loading.accessGroup=!0,this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:n=>{this.loading.accessGroup=!1,this.accessGroupList=n.data}})}getCompanyDropDownList(){this.dropDownService.GetCompanyListDrobDown({}).subscribe({next:t=>{this.companyList=t.list}})}getClientListDrobDown(){this.dropDownService.getClientForApplicationSettingDrobDown({SearchCompanyId:this.CompanyId.value}).subscribe({next:n=>{this.clientList=n.list}})}getDepartmentListDrobDown(){this.dropDownService.GetDepartmentListDrobDown({SearchCompanyId:this.CompanyId.value,SearchClientId:this.ClientId.value}).subscribe({next:n=>{this.departmentList=n.list}})}getCompany(t){return this.companyList.find(n=>n.companyId===t)}onTypeAccessGroup(t){}checkDeparmentAccess(t,n,i){t.target.checked?this.selectedCompanyAccessLevelArray.push(n):this.selectedCompanyAccessLevelArray.splice(this.selectedCompanyAccessLevelArray.indexOf(n),1)}returnValue(t){return this.selectedCompanyAccessLevelArray.includes(t)}returnaSelectAll(){return this.selectedCompanyAccessLevelArray.length===this.departmentList.length}checkSelectedAll(t,n=0){this.selectedCompanyAccessLevelArray=[],t.target.checked?this.departmentList.map(i=>{this.selectedCompanyAccessLevelArray.push(i.departmentId)}):this.selectedCompanyAccessLevelArray=[]}onSelectFile(t){if(t.target.files&&t.target.files[0]){var n=new FileReader;n.onload=o=>{this.profile_img=o.target.result,this.isFirstImageVisible=!0},n.onerror=()=>{this.profile_img=this.default_profile_img,this.UserImageBase64string.setValue("")},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(t.target.files[0].type)?n.readAsDataURL(t.target.files[0]):(this.profile_img=this.default_profile_img,this.UserImageBase64string.setValue(""))}else this.profile_img=this.default_profile_img,this.UserImageBase64string.setValue("")}crossFirstImage(t){t&&(this.profile_img="../../../../../../assets/images/userClientPlaceholder.png",this.isFirstImageVisible=!1,this.resetFileInput())}resetFileInput(){const t=document.getElementById("asset_id0");t&&(t.value="")}submit(){const t={Role:this.getRoleName(this.roleId.value).name,AccessGroupId:this.AccessGroupId.value?this.AccessGroupId.value:null,UserName:this.Email.value?this.Email.value:null,Email:this.Email.value?this.Email.value:null,FullName:this.FullName.value?this.FullName.value:null,PhoneNumber:this.PhoneNumber.value?this.PhoneNumber.value+"":null,MobileEnable:!1,PortalEnable:this.PortalEnable.value,UserImageBase64string:"../../../../../../assets/images/userClientPlaceholder.png"!==this.profile_img?this.profile_img.replace(/^data:image\/[a-z]+;base64,/,""):null,clientId:this.ClientId.value,clientName:this.getClientName(this.ClientId.value).clientName,list:[{DepartmentId:this.selectedCompanyAccessLevelArray.join(","),CompanyId:this.CompanyId.value,AccessLevel:"D"}]};this.userService.postClientUser(t).subscribe(n=>{this.success(n),this.openModalView(n)},n=>{this.openModaWaringConf(n)})}onChangeCompany(t){this.ClientId.reset(),this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.getClientListDrobDown()}onTypeClient(t){this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.getDepartmentListDrobDown()}goBack(){this.router.navigate(["/application-settings/user-management/client-user/list"])}success(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}openModaWaringConf(t){const n=this.modalService.open(A.e,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title=t,n.componentInstance.subTitle="",n.result.then(i=>{i&&"Close click"==i&&this.router.navigate(["/application-settings/user-management/client-user/list"])})}openModalView(t){if(t.id){const n=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="Profile Create successfully and credential email to respective email.",n.componentInstance.subTitle="Do you want to setup Email Notification & Real time Push Notification & My Task",n.componentInstance.subTitle1="If yes then navigate to View page to admin for setup.",n.componentInstance.buttonName="Go It",n.result.then(i=>{i&&("success"==i?this.gotoView(t.id):this.router.navigate(["/application-settings/user-management/client-user/list"]))})}else this.router.navigate(["/application-settings/user-management/client-user/list"])}gotoView(t){m.i.selectedUserId=t,this.router.navigate(["/application-settings/user-management/client-user/view"])}static{this.\u0275fac=function(n){return new(n||a)(e.Y36(c.qu),e.Y36(m.i),e.Y36(d.V),e.Y36(C.n),e.Y36(u.F0),e.Y36(h.FF))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-new-client"]],decls:89,vars:39,consts:[[3,"title","breadcrumbItems"],[1,""],[1,"mt-2","card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"col-md-4"],["for","company",1,"form-label"],[1,"text-danger"],["bindLabel","companyName","bindValue","companyId","id","company","formControlName","CompanyId","placeholder","Select Company",1,"w-100","mr-2","my-1",3,"items","clearable","change"],[4,"ngIf"],["bindLabel","clientName","bindValue","clientId","id","client","formControlName","ClientId","placeholder","Select Client",1,"w-100","mr-2","my-1",3,"items","clearable","change"],["for","Project-Name",1,"form-label"],["type","text","formControlName","FullName","id","fullName","name","fullName",1,"form-control","my-1",3,"placeholder","ngClass"],[1,"col-md-4","mt-3"],["for","HOD",1,"form-label"],["type","email","placeholder","Email","formControlName","Email","id","email","name","email",1,"form-control","my-1",3,"ngClass"],["for","phoneNumber",1,"form-label"],["type","number","placeholder","Phone Number","formControlName","PhoneNumber","id","phoneNumber","name","PhoneNumber",1,"form-control","my-1",3,"ngClass"],["for","Client",1,"form-label"],["bindLabel","name","bindValue","id","id","roleName","formControlName","roleId","placeholder","Select Role",1,"w-100","mr-2","my-1",3,"items","loading","clearable","change"],["bindLabel","name","bindValue","accessGroupMasterId","id","companyName","formControlName","AccessGroupId","placeholder","Select Access Group",1,"w-100","mr-2","my-1",3,"items","loading","clearable","disabled","change"],[1,"row","mt-3"],[1,"col-6"],[1,"form-check"],["type","checkbox","value","Portal","formControlName","PortalEnable","id","Portal",1,"form-check-input"],["for","Portal",1,"form-check-label"],[1,"col-sm-2","textcenter"],[1,"form-label"],[1,"textcenter","mt-2"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","asset_id0","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["formControlName","UserImageBase64string","value","","id","asset_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-md","img-size-fixed",3,"src"],[1,"card"],["class","card-header",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"d-flex","justify-content-end","mt-2","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button","me-2",3,"click"],[1,"btn","btn-success",3,"disabled","click"],["class","text-danger",4,"ngIf"],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","asset_id0","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],[1,"col-12"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],[1,"form-check-label",3,"for"],[1,"mt-2"],["class","col-sm-4 mt-2",4,"ngFor","ngForOf"],[1,"col-sm-4","mt-2"],["type","checkbox",1,"form-check-input",3,"checked","id","change"]],template:function(n,i){1&n&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Basic Detail \xa0"),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",7)(11,"div",9)(12,"label",10),e._uU(13,"Company "),e.TgZ(14,"span",11),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"ng-select",12),e.NdJ("change",function(o){return i.onChangeCompany(o)}),e.qZA(),e.YNc(17,M,3,0,"div",13),e.qZA(),e.TgZ(18,"div",9)(19,"label",10),e._uU(20,"Client "),e.TgZ(21,"span",11),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"ng-select",14),e.NdJ("change",function(o){return i.onTypeClient(o)}),e.qZA(),e.YNc(24,E,3,0,"div",13),e.qZA(),e.TgZ(25,"div",9)(26,"label",15),e._uU(27,"Full Name "),e.TgZ(28,"span",11),e._uU(29,"*"),e.qZA()(),e._UZ(30,"input",16),e.YNc(31,F,2,1,"div",13),e.qZA(),e.TgZ(32,"div",17)(33,"label",18),e._uU(34,"Email "),e.TgZ(35,"span",11),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",19),e.YNc(38,V,2,1,"div",13),e.qZA(),e.TgZ(39,"div",17)(40,"label",20),e._uU(41,"Phone Number "),e.TgZ(42,"span",11),e._uU(43,"*"),e.qZA()(),e._UZ(44,"input",21),e.YNc(45,G,2,1,"div",13),e.qZA(),e.TgZ(46,"div",17)(47,"label",22),e._uU(48,"Role "),e.TgZ(49,"span",11),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"ng-select",23),e.NdJ("change",function(o){return i.onTypeRole(o)}),e.qZA(),e.YNc(52,J,3,0,"div",13),e.qZA(),e.TgZ(53,"div",17)(54,"label",22),e._uU(55,"Access Group "),e.TgZ(56,"span",11),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"ng-select",24),e.NdJ("change",function(o){return i.onTypeAccessGroup(o)}),e.qZA(),e.YNc(59,j,3,0,"div",13),e.qZA(),e.TgZ(60,"div",17)(61,"label",22),e._uU(62,"Device Access"),e.qZA(),e.TgZ(63,"div",25)(64,"div",26)(65,"div",27),e._UZ(66,"input",28),e.TgZ(67,"label",29),e._uU(68," Portal "),e.qZA()()()()()()(),e.TgZ(69,"div",30)(70,"label",31),e._uU(71,"Profile Image"),e.qZA(),e.TgZ(72,"div",32)(73,"div",33)(74,"div",34),e.YNc(75,O,4,0,"label",35)(76,B,4,0,"label",36),e.TgZ(77,"input",37),e.NdJ("change",function(o){return i.onSelectFile(o)}),e.qZA()(),e.TgZ(78,"div",38)(79,"div",39),e._UZ(80,"img",40),e.qZA()()()()()()()()(),e.TgZ(81,"div",41),e.YNc(82,Q,3,0,"div",42)(83,z,9,4,"div",43),e.qZA(),e.TgZ(84,"div",44)(85,"button",45),e.NdJ("click",function(){return i.goBack()}),e._uU(86," Back "),e.qZA(),e.TgZ(87,"button",46),e.NdJ("click",function(){return i.submit()}),e._uU(88," Submit "),e.qZA()()()),2&n&&(e.Q6J("title",i.label)("breadcrumbItems",i.breadCrumbItems),e.xp6(7),e.Q6J("formGroup",i.userForm),e.xp6(9),e.Q6J("items",i.companyList)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.CompanyId.invalid&&i.form.CompanyId.touched),e.xp6(6),e.Q6J("items",i.clientList)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.ClientId.invalid&&i.form.ClientId.touched),e.xp6(6),e.Q6J("placeholder","Full Name")("ngClass",e.VKq(33,x,i.form.FullName.invalid&&i.form.FullName.touched)),e.xp6(1),e.Q6J("ngIf",i.form.FullName.invalid&&i.form.FullName.touched),e.xp6(6),e.Q6J("ngClass",e.VKq(35,x,i.form.Email.invalid&&i.form.Email.touched)),e.xp6(1),e.Q6J("ngIf",i.form.Email.invalid&&i.form.Email.touched),e.xp6(6),e.Q6J("ngClass",e.VKq(37,x,i.form.PhoneNumber.invalid&&i.form.PhoneNumber.touched)),e.xp6(1),e.Q6J("ngIf",i.form.PhoneNumber.invalid&&i.form.PhoneNumber.touched),e.xp6(6),e.Q6J("items",i.rolesList)("loading",i.loading.role)("clearable",!1)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.roleId.invalid&&i.form.roleId.touched),e.xp6(6),e.Q6J("items",i.accessGroupList)("loading",i.loading.accessGroup)("clearable",!1)("disabled",!0)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.AccessGroupId.invalid&&i.form.AccessGroupId.touched),e.xp6(16),e.Q6J("ngIf",i.isFirstImageVisible),e.xp6(1),e.Q6J("ngIf",!i.isFirstImageVisible),e.xp6(4),e.s9C("src",i.profile_img,e.LSH),e.xp6(2),e.Q6J("ngIf",i.departmentList.length),e.xp6(1),e.Q6J("ngIf",i.departmentList.length),e.xp6(4),e.Q6J("disabled",i.userForm.invalid||0==i.selectedCompanyAccessLevelArray.length))},dependencies:[l.mk,l.sg,l.O5,c._Y,c.Fj,c.wV,c.Wl,c.JJ,c.JL,c.sg,c.u,T.w9,U.n,h._L],styles:[".text-small[_ngcontent-%COMP%]{font-size:.7rem;font-weight:400}.textcenter[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 600px){.textcenter[_ngcontent-%COMP%]{text-align:left!important}}"]})}}return a})();var D=p(859),I=p(553),Z=p(2857);function K(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Company is Required"),e.qZA()())}function H(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Client is Required"),e.qZA()())}function $(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Full Name is Required"),e.qZA())}function X(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,$,2,0,"small",48),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.FullName.errors.required)}}function ee(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Email is Required"),e.qZA())}function te(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"small",48),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.Email.errors.required)}}function ie(a,r){1&a&&(e.TgZ(0,"small",11),e._uU(1," Phone Number is Required"),e.qZA())}function ne(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,ie,2,0,"small",48),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.PhoneNumber.errors.required)}}function ae(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Role is Required "),e.qZA()())}function se(a,r){1&a&&(e.TgZ(0,"div")(1,"small",11),e._uU(2," Access Group is Required "),e.qZA()())}function oe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"label",49)(1,"div",50)(2,"div",51)(3,"i",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openModalDeleteConf(i.profile_img))}),e.qZA()()()()}}function le(a,r){1&a&&(e.TgZ(0,"label",53)(1,"div",50)(2,"div",51),e._UZ(3,"i",54),e.qZA()()())}function re(a,r){1&a&&(e.TgZ(0,"div",3)(1,"h4",4),e._uU(2,"Data Access Level \xa0"),e.qZA()())}function ce(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",60)(1,"div",27)(2,"input",61),e.NdJ("change",function(i){const s=e.CHM(t),o=s.$implicit,_=s.index,v=e.oxw(2);return e.KtG(v.checkDeparmentAccess(i,o.departmentId,_))}),e.qZA(),e.TgZ(3,"label",57),e._uU(4),e.qZA()()()}if(2&a){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("checked",n.returnValue(t.departmentId))("id",t.departmentName),e.xp6(1),e.Q6J("for",t.departmentName),e.xp6(1),e.hij(" ",t.departmentName," ")}}function de(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",25)(2,"div",55)(3,"div",27)(4,"input",56),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.checkSelectedAll(i))}),e.qZA(),e.TgZ(5,"label",57),e._uU(6," Select All "),e.qZA()()(),e._UZ(7,"div",58),e.YNc(8,ce,5,4,"div",59),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(4),e.Q6J("id","selectAll")("checked",t.returnaSelectAll()),e.xp6(1),e.Q6J("for","selectAll"),e.xp6(3),e.Q6J("ngForOf",t.departmentList)}}const S=a=>({"is-invalid":a});let pe=(()=>{class a{constructor(t,n,i,s,o,_,v){this.formBuilder=t,this.userService=n,this.dropDownService=i,this.departmentService=s,this.router=o,this.modalService=_,this.commonFunctionService=v,this.loading={role:!1,accessGroup:!1},this.label="Edit Client User",this.breadCrumbItems=[{label:"Application Setup"},{label:"Edit Client User",active:!0}],this.rolesList=[],this.accessGroupList=[],this.companyList=[],this.profileStatus=[],this.selectedProfileStatus="",this.clientList=[],this.selectedCompanies=[],this.dataAccessLevelByCompany={},this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.imagEUrl=I.N.apiUrl,0==m.i.selectedUserId||null==m.i.selectedUserId||null==!m.i.selectedUserId?this.router.navigate(["/application-settings/user-management/client-user/list"]):(this.buildForm(),this.getRoles(),this.getCompanyDropDownList())}ngOnInit(){this.buildForm()}buildForm(){this.userForm=this.formBuilder.group({Email:["",c.kI.required],FullName:["",c.kI.required],PhoneNumber:["",c.kI.required],roleId:[null,c.kI.required],AccessGroupId:[null,c.kI.required],PortalEnable:[!1],CompanyId:[null,c.kI.required],ClientId:[null,c.kI.required],UserImageBase64string:[""]})}get form(){return this.userForm.controls}get AccessGroupId(){return this.userForm.get("AccessGroupId")}get roleId(){return this.userForm.get("roleId")}get FullName(){return this.userForm.get("FullName")}get Email(){return this.userForm.get("Email")}get PortalEnable(){return this.userForm.get("PortalEnable")}get PhoneNumber(){return this.userForm.get("PhoneNumber")}get CompanyId(){return this.userForm.get("CompanyId")}get ClientId(){return this.userForm.get("ClientId")}get UserImageBase64string(){return this.userForm.get("UserImageBase64string")}getRoleName(t){return this.rolesList.find(n=>t==n.id)}onTypeRole(t){this.AccessGroupId.reset(),this.getAccessGroup(t.id)}getRoles(){this.userService.getRoleListForClient().subscribe({next:t=>{this.rolesList=t.data}})}getAccessGroup(t){this.loading.accessGroup=!0,this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:n=>{this.loading.accessGroup=!1,this.accessGroupList=n.data}})}getCompanyDropDownList(){this.dropDownService.GetCompanyListDrobDown({}).subscribe({next:t=>{this.companyList=t.list,this.getUserDetail(m.i.selectedUserId)}})}getUserDetail(t){this.userService.getUserListByUserId(t).subscribe({next:n=>{this.userData=n.data,this.getAccessGroup(this.userData.roleId),this.userForm.patchValue({FullName:this.userData.fullName,Email:this.userData.email,roleId:this.userData.roleId,PhoneNumber:this.userData.phoneNumber,AccessGroupId:this.userData.accessGroupId,PortalEnable:this.userData.portalEnable}),this.profile_img=this.userData.profileImageUrl?this.imagEUrl+this.userData.profileImageUrl:"../../../../../../assets/images/userClientPlaceholder.png",this.isFirstImageVisible=!!this.userData.profileImageUrl,this.userData.list.forEach(i=>{this.companyList.forEach(s=>{i.companyId==s.companyId&&(this.CompanyId.setValue(i.companyId),this.getClientListDrobDown(),this.getDepartmentListDrobDown(),this.selectedCompanyAccessLevelArray=i.departmentId.split(",").map(Number))})})}})}getClientListDrobDown(){this.dropDownService.getClientForApplicationSettingDrobDown({SearchCompanyId:this.CompanyId.value}).subscribe({next:n=>{this.clientList=n.list}})}getDepartmentListDrobDown(){let t=[];this.userData.list.forEach(i=>{t=i.departmentId.split(",").map(Number)}),this.dropDownService.GetDepartmentListDrobDown({SearchCompanyId:this.CompanyId.value,SearchClientId:this.ClientId?.value}).subscribe({next:i=>{0!=i.list.length&&i.list.forEach(s=>{s.departmentId==t[0]&&(this.ClientId.setValue(s.clientId),this.getDepartmentListDrobDown2())})}})}getDepartmentListDrobDown2(){this.dropDownService.GetDepartmentListDrobDown({SearchCompanyId:this.CompanyId.value,SearchClientId:this.ClientId?.value}).subscribe({next:n=>{0!=n.list.length&&(this.departmentList=n.list)}})}getCompany(t){return this.companyList.find(n=>n.companyId===t)}onTypeAccessGroup(t){}checkDeparmentAccess(t,n,i){t.target.checked?this.selectedCompanyAccessLevelArray.push(n):this.selectedCompanyAccessLevelArray.splice(this.selectedCompanyAccessLevelArray.indexOf(n),1)}returnValue(t){return this.selectedCompanyAccessLevelArray.includes(t)}returnaSelectAll(){return this.selectedCompanyAccessLevelArray.length===this.departmentList.length}checkSelectedAll(t,n=0){this.selectedCompanyAccessLevelArray=[],t.target.checked?this.departmentList.map(i=>{this.selectedCompanyAccessLevelArray.push(i.departmentId)}):this.selectedCompanyAccessLevelArray=[]}onChangeCompany(t){this.ClientId.reset(),this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.getClientListDrobDown()}onTypeClient(t){this.departmentList=[],this.selectedCompanyAccessLevelArray=[],this.getDepartmentListDrobDown()}goBack(){this.router.navigate(["/application-settings/user-management/client-user/list"])}success(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}updatePerspon(){const t={Id:this.userData.id,Role:this.getRoleName(this.roleId.value).name,AccessGroupId:this.AccessGroupId.value?this.AccessGroupId.value:null,UserName:this.Email.value?this.Email.value:null,Email:this.Email.value?this.Email.value:null,FullName:this.FullName.value?this.FullName.value:null,PhoneNumber:this.PhoneNumber.value?this.PhoneNumber.value+"":null,MobileEnable:!1,PortalEnable:this.PortalEnable.value,RoleId:this.roleId.value};this.userService.postUpdateUserBasicDetail(t).subscribe({next:n=>{this.success(n),this.router.navigate(["/application-settings/user-management/client-user/list"])}})}updateUserDataAccessLevel(){const t={Id:this.userData.id,list:[{DepartmentId:this.selectedCompanyAccessLevelArray.join(","),CompanyId:this.CompanyId.value,AccessLevel:"D"}]};this.userService.postUpdateCompanyDepartmentAccessLevel(t).subscribe({next:n=>{this.success(n),this.router.navigate(["/application-settings/user-management/client-user/list"])}})}openModalDeleteConf(t){const n=this.modalService.open(D.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="You are about to delete a Profile Image?",n.componentInstance.subTitle="Deleting your Profile Image will remove for the database",n.result.then(i=>{i&&"delete"==i&&this.crossFirstImage(t)})}crossFirstImage(t){t&&(this.profile_img="../../../../../../assets/images/userClientPlaceholder.png",this.isFirstImageVisible=!1,this.resetFileInput(),this.saveImage())}resetFileInput(){const t=document.getElementById("asset_id0");t&&(t.value="")}onSelectFile(t){if(t.target.files&&t.target.files[0]){var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=i=>{this.profile_img=i.target.result,this.UserImageBase64string.setValue(""),this.profile_img&&(this.isFirstImageVisible=!0),this.saveImage()}}}saveImage(){let t={Id:this.userData.id,UserLogoBase64string:"../../../../../../assets/images/userClientPlaceholder.png"!==this.profile_img?this.profile_img.replace(/^data:image\/[a-z]+;base64,/,""):null};this.userService.postUpdateProfileLogo(this.commonFunctionService.clean(t)).subscribe(n=>{this.successForImageInsert(n)})}successForImageInsert(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(n){return new(n||a)(e.Y36(c.qu),e.Y36(m.i),e.Y36(d.V),e.Y36(C.n),e.Y36(u.F0),e.Y36(h.FF),e.Y36(Z.K))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-edit-new-client"]],decls:92,vars:42,consts:[[3,"title","breadcrumbItems"],[1,""],[1,"mt-2","card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-sm-10"],[1,"col-md-4"],["for","company",1,"form-label"],[1,"text-danger"],["bindLabel","companyName","bindValue","companyId","id","company","formControlName","CompanyId","placeholder","Select Company",1,"w-100","mr-2","my-1",3,"items","readonly","clearable","change"],[4,"ngIf"],["bindLabel","clientName","bindValue","clientId","id","client","formControlName","ClientId","placeholder","Select Client",1,"w-100","mr-2","my-1",3,"items","readonly","clearable","change"],["for","Project-Name",1,"form-label"],["type","text","formControlName","FullName","id","fullName","name","fullName",1,"form-control","my-1",3,"placeholder","ngClass"],[1,"col-md-4","mt-3"],["for","HOD",1,"form-label"],["type","email","placeholder","Email","readonly","","formControlName","Email","id","email","name","email",1,"form-control","my-1",3,"ngClass"],["for","phoneNumber",1,"form-label"],["type","number","placeholder","Phone Number","formControlName","PhoneNumber","id","phoneNumber","name","PhoneNumber",1,"form-control","my-1",3,"ngClass"],["for","Client",1,"form-label"],["bindLabel","name","bindValue","id","id","roleName","formControlName","roleId","placeholder","Select Role",1,"w-100","mr-2","my-1",3,"items","loading","clearable","change"],["bindLabel","name","bindValue","accessGroupMasterId","id","companyName","formControlName","AccessGroupId","placeholder","Select Access Group",1,"w-100","mr-2","my-1",3,"items","loading","clearable","disabled","change"],[1,"row","mt-3"],[1,"col-6"],[1,"form-check"],["type","checkbox","value","Portal","formControlName","PortalEnable","id","Portal",1,"form-check-input"],["for","Portal",1,"form-check-label"],[1,"col-sm-2","textcenter"],[1,"form-label"],[1,"textcenter","mt-2"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","asset_id0","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["formControlName","UserImageBase64string","value","","id","asset_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-md","img-size-fixed",3,"src"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-success",3,"disabled","click"],[1,"card"],["class","card-header",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"mt-2","mb-4","d-flex","justify-content-end"],[1,"btn","btn-soft-primary","waves-effect","back-button","me-2",3,"click"],["class","text-danger",4,"ngIf"],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","asset_id0","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],[1,"col-12"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],[1,"form-check-label",3,"for"],[1,"mt-2"],["class","col-sm-4 mt-2",4,"ngFor","ngForOf"],[1,"col-sm-4","mt-2"],["type","checkbox",1,"form-check-input",3,"checked","id","change"]],template:function(n,i){1&n&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Basic Detail \xa0"),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"div",8)(10,"div",7)(11,"div",9)(12,"label",10),e._uU(13,"Company "),e.TgZ(14,"span",11),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"ng-select",12),e.NdJ("change",function(o){return i.onChangeCompany(o)}),e.qZA(),e.YNc(17,K,3,0,"div",13),e.qZA(),e.TgZ(18,"div",9)(19,"label",10),e._uU(20,"Client "),e.TgZ(21,"span",11),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"ng-select",14),e.NdJ("change",function(o){return i.onTypeClient(o)}),e.qZA(),e.YNc(24,H,3,0,"div",13),e.qZA(),e.TgZ(25,"div",9)(26,"label",15),e._uU(27,"Full Name "),e.TgZ(28,"span",11),e._uU(29,"*"),e.qZA()(),e._UZ(30,"input",16),e.YNc(31,X,2,1,"div",13),e.qZA(),e.TgZ(32,"div",17)(33,"label",18),e._uU(34,"Email "),e.TgZ(35,"span",11),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",19),e.YNc(38,te,2,1,"div",13),e.qZA(),e.TgZ(39,"div",17)(40,"label",20),e._uU(41,"Phone Number "),e.TgZ(42,"span",11),e._uU(43,"*"),e.qZA()(),e._UZ(44,"input",21),e.YNc(45,ne,2,1,"div",13),e.qZA(),e.TgZ(46,"div",17)(47,"label",22),e._uU(48,"Role "),e.TgZ(49,"span",11),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"ng-select",23),e.NdJ("change",function(o){return i.onTypeRole(o)}),e.qZA(),e.YNc(52,ae,3,0,"div",13),e.qZA(),e.TgZ(53,"div",17)(54,"label",22),e._uU(55,"Access Group "),e.TgZ(56,"span",11),e._uU(57,"*"),e.qZA()(),e.TgZ(58,"ng-select",24),e.NdJ("change",function(o){return i.onTypeAccessGroup(o)}),e.qZA(),e.YNc(59,se,3,0,"div",13),e.qZA(),e.TgZ(60,"div",17)(61,"label",22),e._uU(62,"Device Access"),e.qZA(),e.TgZ(63,"div",25)(64,"div",26)(65,"div",27),e._UZ(66,"input",28),e.TgZ(67,"label",29),e._uU(68," Portal "),e.qZA()()()()()()(),e.TgZ(69,"div",30)(70,"label",31),e._uU(71,"Profile Image"),e.qZA(),e.TgZ(72,"div",32)(73,"div",33)(74,"div",34),e.YNc(75,oe,4,0,"label",35)(76,le,4,0,"label",36),e.TgZ(77,"input",37),e.NdJ("change",function(o){return i.onSelectFile(o)}),e.qZA()(),e.TgZ(78,"div",38)(79,"div",39),e._UZ(80,"img",40),e.qZA()()()()()()()(),e.TgZ(81,"div",41)(82,"button",42),e.NdJ("click",function(){return i.updatePerspon()}),e._uU(83," Update "),e.qZA()()(),e.TgZ(84,"div",43),e.YNc(85,re,3,0,"div",44)(86,de,9,4,"div",45),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e.NdJ("click",function(){return i.goBack()}),e._uU(89," Back "),e.qZA(),e.TgZ(90,"button",42),e.NdJ("click",function(){return i.updateUserDataAccessLevel()}),e._uU(91," Submit "),e.qZA()()()),2&n&&(e.Q6J("title",i.label)("breadcrumbItems",i.breadCrumbItems),e.xp6(7),e.Q6J("formGroup",i.userForm),e.xp6(9),e.Q6J("items",i.companyList)("readonly",!0)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.CompanyId.invalid&&i.form.CompanyId.touched),e.xp6(6),e.Q6J("items",i.clientList)("readonly",!0)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.ClientId.invalid&&i.form.ClientId.touched),e.xp6(6),e.Q6J("placeholder","Full Name")("ngClass",e.VKq(36,S,i.form.FullName.invalid&&i.form.FullName.touched)),e.xp6(1),e.Q6J("ngIf",i.form.FullName.invalid&&i.form.FullName.touched),e.xp6(6),e.Q6J("ngClass",e.VKq(38,S,i.form.Email.invalid&&i.form.Email.touched)),e.xp6(1),e.Q6J("ngIf",i.form.Email.invalid&&i.form.Email.touched),e.xp6(6),e.Q6J("ngClass",e.VKq(40,S,i.form.PhoneNumber.invalid&&i.form.PhoneNumber.touched)),e.xp6(1),e.Q6J("ngIf",i.form.PhoneNumber.invalid&&i.form.PhoneNumber.touched),e.xp6(6),e.Q6J("items",i.rolesList)("loading",i.loading.role)("clearable",!1)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.roleId.invalid&&i.form.roleId.touched),e.xp6(6),e.Q6J("items",i.accessGroupList)("loading",i.loading.accessGroup)("clearable",!1)("disabled",!0)("clearable",!1),e.xp6(1),e.Q6J("ngIf",i.form.AccessGroupId.invalid&&i.form.AccessGroupId.touched),e.xp6(16),e.Q6J("ngIf",i.isFirstImageVisible),e.xp6(1),e.Q6J("ngIf",!i.isFirstImageVisible),e.xp6(4),e.s9C("src",i.profile_img,e.LSH),e.xp6(2),e.Q6J("disabled",i.userForm.invalid),e.xp6(3),e.Q6J("ngIf",i.departmentList.length),e.xp6(1),e.Q6J("ngIf",i.departmentList.length),e.xp6(4),e.Q6J("disabled",0==i.selectedCompanyAccessLevelArray.length))},dependencies:[l.mk,l.sg,l.O5,c._Y,c.Fj,c.wV,c.Wl,c.JJ,c.JL,c.sg,c.u,T.w9,U.n,h._L],styles:[".text-small[_ngcontent-%COMP%]{font-size:.7rem;font-weight:400}.textcenter[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 600px){.textcenter[_ngcontent-%COMP%]{text-align:left!important}}"]})}}return a})();var me=p(2438),ue=p(2181),he=p(3620),ge=p(3997),fe=p(9397),_e=p(7235),L=p(7625);const be=["inputer"];function Ce(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.navigateToForm())}),e._UZ(1,"i",35),e._uU(2," Add Client User "),e.qZA()}}function ve(a,r){if(1&a&&(e.TgZ(0,"div",62),e._UZ(1,"img",63),e._uU(2),e.qZA()),2&a){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.hYB("src","",n.apiUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(1),e.hij(" ",t.fullName," ")}}function ye(a,r){if(1&a&&(e.TgZ(0,"div",62)(1,"div",64)(2,"div",65),e._uU(3),e.qZA()(),e._uU(4),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.fullName.charAt(0)," "),e.xp6(1),e.hij(" ",t.fullName," ")}}function Ae(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"div"),e._UZ(2,"i",66),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.BQk()),2&a){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Tol(n.ccurentStatusActive(t.notificationHubTokenDateTime)?"text-success":"text-muted"),e.xp6(2),e.hij(" ",t.notificationHubTokenDateTime," ")}}function Te(a,r){1&a&&e._UZ(0,"i",68)}function Ie(a,r){1&a&&(e.TgZ(0,"span"),e._uU(1," Never Login"),e.qZA())}function Ne(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Te,1,0,"i",67)(2,Ie,2,0,"span",51),e.BQk()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",0==t.portalEnable),e.xp6(1),e.Q6J("ngIf",1==t.portalEnable)}}function we(a,r){if(1&a&&(e.ynx(0),e.TgZ(1,"div"),e._UZ(2,"i",66),e.TgZ(3,"span"),e._uU(4),e.qZA()(),e.BQk()),2&a){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Tol(n.ccurentStatusActive(t.firebaseTokenCreatedDate)?"text-success":"text-muted"),e.xp6(2),e.hij(" ",t.firebaseTokenCreatedDate," ")}}function De(a,r){1&a&&e._UZ(0,"i",70)}function Ze(a,r){1&a&&(e.TgZ(0,"span"),e._uU(1," No FireBase Token"),e.qZA())}function Le(a,r){if(1&a&&(e.ynx(0),e.YNc(1,De,1,0,"i",69)(2,Ze,2,0,"span",51),e.BQk()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",0==t.mobileEnable),e.xp6(1),e.Q6J("ngIf",1==t.mobileEnable)}}function Ue(a,r){if(1&a&&(e.TgZ(0,"span",71),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.profileStatus)}}function xe(a,r){if(1&a&&(e.TgZ(0,"span",72),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.profileStatus)}}function Se(a,r){if(1&a&&(e.TgZ(0,"span",72),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.profileStatus)}}function ke(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"li")(1,"a",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.navigateToEdit(i.id))}),e._UZ(2,"i",73),e._uU(3," Edit "),e.qZA()()}}function Me(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"li")(1,"a",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.openModalActiveDeactive(i.id,"Active"))}),e._UZ(2,"i",74),e._uU(3," Active "),e.qZA()()}}function Ee(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"li")(1,"a",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.openModalActiveDeactive(i.id,"Deactivate"))}),e._UZ(2,"i",75),e._uU(3," Deactivate "),e.qZA()()}}function qe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"td",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.navigateToView(s.id))}),e.YNc(2,ve,3,3,"div",47)(3,ye,5,2,"div",47),e.qZA(),e.TgZ(4,"td",48),e._uU(5),e.qZA(),e.TgZ(6,"td",48),e._uU(7),e.qZA(),e.TgZ(8,"td",48),e._uU(9),e.qZA(),e.TgZ(10,"td",48),e._uU(11),e.qZA(),e.TgZ(12,"td",48)(13,"h5",49)(14,"span",50),e._uU(15),e.qZA()()(),e.TgZ(16,"td",48)(17,"h5",49)(18,"span",50),e._uU(19),e.qZA()()(),e.TgZ(20,"td",48),e.YNc(21,Ae,5,3,"ng-container",51)(22,Ne,3,2,"ng-container",51),e.qZA(),e.TgZ(23,"td",48),e.YNc(24,we,5,3,"ng-container",51)(25,Le,3,2,"ng-container",51),e.qZA(),e.TgZ(26,"td",48),e.YNc(27,Ue,2,1,"span",52)(28,xe,2,1,"span",53)(29,Se,2,1,"span",53),e.qZA(),e.TgZ(30,"td",54)(31,"span")(32,"div",55)(33,"button",56),e._UZ(34,"i",57),e.qZA(),e.TgZ(35,"ul",58)(36,"li")(37,"a",59),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.navigateToView(s.id))}),e._UZ(38,"i",60),e._uU(39," View "),e.qZA()(),e.YNc(40,ke,4,0,"li",51),e.TgZ(41,"li")(42,"a",59),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.openModalCreateConf(s.email,s.fullName))}),e._UZ(43,"i",61),e._uU(44," Reset Password "),e.qZA()(),e.YNc(45,Me,4,0,"li",51)(46,Ee,4,0,"li",51),e.qZA()()()()()}if(2&a){const t=r.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.profileImageUrl),e.xp6(1),e.Q6J("ngIf",!t.profileImageUrl),e.xp6(2),e.hij(" ",t.roleName," "),e.xp6(2),e.hij(" ",t.accessGroupName," "),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.hij(" ",t.email," "),e.xp6(3),e.Q6J("ngClass",t.mobileEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.mobileEnable?"Yes":"No"),e.xp6(3),e.Q6J("ngClass",t.portalEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.portalEnable?"Yes":"No"),e.xp6(2),e.Q6J("ngIf",t.notificationHubTokenDateTime),e.xp6(1),e.Q6J("ngIf",!t.notificationHubTokenDateTime),e.xp6(2),e.Q6J("ngIf",t.firebaseTokenCreatedDate),e.xp6(1),e.Q6J("ngIf",!t.firebaseTokenCreatedDate),e.xp6(2),e.Q6J("ngIf","Active"==t.profileStatus),e.xp6(1),e.Q6J("ngIf","Deactive"==t.profileStatus),e.xp6(1),e.Q6J("ngIf","Deactive"!=t.profileStatus&&"Active"!=t.profileStatus),e.xp6(11),e.Q6J("ngIf",n.returnValueMenu.edit),e.xp6(5),e.Q6J("ngIf","Deactivate"==t.profileStatus),e.xp6(1),e.Q6J("ngIf","Active"==t.profileStatus)}}function Fe(a,r){1&a&&(e.TgZ(0,"div",76),e._uU(1," No Client User Found "),e.qZA())}function Pe(a,r){1&a&&(e._UZ(0,"i",80),e._uU(1," Prev "))}function Ve(a,r){1&a&&(e._uU(0," Next "),e._UZ(1,"i",81))}function Re(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"ngb-pagination",77),e.NdJ("pageChange",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.page=i)})("pageChange",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.pageChange(i))}),e.YNc(1,Pe,2,0,"ng-template",78)(2,Ve,2,0,"ng-template",79),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecords)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Ge(a,r){if(1&a&&(e.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr",38)(4,"th"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Role"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"ACCESS GROUP/DESIGNATION"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Mobile No"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Email"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"App"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Portal"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"SMS Portal Last Login"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"SMS App Last Login"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Status"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Action"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,qe,47,20,"tr",39),e.qZA()(),e.YNc(28,Fe,2,0,"div",40),e.qZA(),e.TgZ(29,"div",41)(30,"div",42)(31,"div",43),e._uU(32),e.qZA()(),e.TgZ(33,"div",42)(34,"div",44),e.YNc(35,Re,3,5,"ngb-pagination",45),e.qZA()()()),2&a){const t=e.oxw();e.xp6(27),e.Q6J("ngForOf",t.clientList),e.xp6(1),e.Q6J("ngIf",0===t.clientList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecords>t.pageSize)}}function Je(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",82)(1,"div",83)(2,"button",84),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",85)(4,"div",86),e._UZ(5,"lord-icon",87),e.TgZ(6,"div",88)(7,"h4"),e._uU(8,"You are about to delete a User ?"),e.qZA(),e.TgZ(9,"p",89),e._uU(10," Deleting your user will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",90)(12,"button",91),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._UZ(13,"i",92),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",93),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteData(i.deleteId))})("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let je=(()=>{class a{constructor(t,n,i,s,o,_,v,N){this.userService=t,this.dropdownServices=n,this.modalService=i,this.router=s,this.modal=o,this.commonService=_,this.menuService=v,this.lightbox=N,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.clientList=[],this.label="Client User",this.breadCrumbItems=[{label:"Application Setup"},{label:"Client User List",active:!0}],this.isProjectVisible=!1,this.displayLength=10,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchDepartmentIdAsString:null,SearchFullName:null,SearchRoleName:null,SearchAccessGroupName:null,SearchPortalEnable:null,SearchMobileEnable:null},this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.deleteId=null,this.rolesList=[],this.accessGroupList=[],this.loading={role:!1,accessGroup:!1},this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.selectedPortalEnable=null,this.selectedMobileEnable=null,this.mobileYesNoArray=[{id:!0,name:"Mobile Enable"},{id:!1,name:"Mobile Disable"}],this.portalYesNoArray=[{id:!0,name:"Portal Enable"},{id:!1,name:"Portal Disable"}],this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.apiUrl=I.N.apiUrl}ngOnInit(){this.getDropdownCompanyList()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{if(this.arrayListDropDownCompany=t.list,this.getRoles(),JSON.parse(localStorage.getItem("objectSerachForClientUser"))){let n=JSON.parse(localStorage.getItem("objectSerachForClientUser"));this.selectedDropDownCompanyIdValue=n.SearchCompanyId?n.SearchCompanyId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.getObjectAfterRefreshclientUser()}else this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.getDropdownDepartmentList(),this.loadData();this.setObjectBeforeRefeshclientUser()})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(n=>{this.arrayListDropDownProjectOrDeparmentList=n.list,this.setObjectBeforeRefeshclientUser()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchDepartmentIdAsString=this.selectedDropDownProjectOrDeparmentIdValue?this.selectedDropDownProjectOrDeparmentIdValue+"":null,this.arrayListDropDownProjectOrDeparmentList=[],this.setObjectBeforeRefeshclientUser(),this.getDropdownDepartmentList(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchDepartmentIdAsString=this.selectedDropDownProjectOrDeparmentIdValue?this.selectedDropDownProjectOrDeparmentIdValue+"":null,this.loadData()}loadData(){this.userService.getV2_ClientUserList(this.commonService.clean(this.payload)).subscribe(t=>{this.clientList=t.data,this.setObjectBeforeRefeshclientUser(),this.clientList.length>0?(this.totalRecords=t.data[0].totalCount,this.from=t.data.reduce((n,i)=>i.rowNum<n?i.rowNum:n,t.data[0].rowNum),this.to=t.data.reduce((n,i)=>i.rowNum>n?i.rowNum:n,t.data[0].rowNum),this.pageSize=this.displayLength):(this.totalRecords=0,this.from=0,this.to=0,this.pageSize=this.displayLength)},t=>{})}pageChange(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}setObjectBeforeRefeshclientUser(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.rolesList&&(t.rolesList=this.rolesList),this.accessGroupList&&(t.accessGroupList=this.accessGroupList),this.selectedRoleIdValue&&(t.SearchRoleName=this.selectedRoleIdValue),this.selectedAccessGroupValue&&(t.SearchAccessGroupName=this.selectedAccessGroupValue),this.selectedPortalEnable&&(t.SearchPortalEnable=this.selectedPortalEnable),this.selectedMobileEnable&&(t.SearchMobileEnable=this.selectedMobileEnable),this.searchName&&(t.SearchFullName=this.searchName),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForClientUser",JSON.stringify(t))}getObjectAfterRefreshclientUser(){let t=JSON.parse(localStorage.getItem("objectSerachForClientUser"));this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.rolesList=t.rolesList?t.rolesList:[],this.accessGroupList=t.accessGroupList?t.accessGroupList:[],this.selectedRoleIdValue=t.SearchRoleName?t.SearchRoleName:null,this.selectedAccessGroupValue=t.SearchAccessGroupName?t.SearchAccessGroupName:null,this.selectedPortalEnable=t.SearchPortalEnable?t.SearchPortalEnable:null,this.selectedMobileEnable=t.SearchMobileEnable?t.SearchMobileEnable:null,this.searchName=t.SearchFullName?t.SearchFullName:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchRoleName=this.selectedRoleIdValue,this.payload.SearchAccessGroupName=this.selectedAccessGroupValue,this.payload.SearchPortalEnable="Portal Enable"==this.selectedPortalEnable||"Portal Disable"!=this.selectedPortalEnable&&null,this.payload.SearchMobileEnable="Mobile Enable"==this.selectedMobileEnable||"Mobile Disable"!=this.selectedMobileEnable&&null,this.payload.SearchFullName=this.searchName,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}onEmployeeNameChangeHandler(t){this.payload.SearchFullName=this.searchName,this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}goToEdit(t){this.router.navigate(["/application-settings/asset-handler/asset-handler-edit"])}deleteHandler(){parseInt(this.deleteEmpId)}confirmDelete(t,n){this.deleteEmpId=n,this.modalService.open(t,{centered:!0})}resetSerachVariable(){this.searchName=null,this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.selectedPortalEnable=null,this.selectedMobileEnable=null,this.page=1,this.payload={displayLength:10,displayStart:0,SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchDepartmentIdAsString:null,SearchFullName:null,SearchRoleName:null,SearchAccessGroupName:null,SearchPortalEnable:null,SearchMobileEnable:null},this.loadData()}success(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}ngAfterViewInit(){(0,me.R)(this.input.nativeElement,"input").pipe((0,ue.h)(Boolean),(0,he.b)(1e3),(0,ge.x)(),(0,fe.b)(t=>{this.onEmployeeNameChangeHandler(!0)})).subscribe()}navigateToForm(){this.userService.accessRight=!0,this.router.navigate(["/application-settings/user-management/client-user/add"])}navigateToView(t){m.i.selectedUserId=t,this.router.navigate(["/application-settings/user-management/client-user/view"])}deleteUser(t,n){this.deleteId=n,this.modalService.open(t,{centered:!0})}deleteData(t){this.userService.postDeleteUser({Id:t}).subscribe(n=>{this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()},n=>{})}navigateToEdit(t){m.i.selectedUserId=t,this.router.navigate(["/application-settings/user-management/client-user/edit"])}openModalCreateConf(t,n){const i=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="Do you want to reset "+n+" password?",i.componentInstance.subTitle="You won't be able to revert this!",i.componentInstance.buttonName="Reset It",i.result.then(s=>{s&&"success"==s&&this.resetPassword(t)})}resetPassword(t){this.userService.resetPassword(t).subscribe(n=>{this.success(n)})}open(t){let i=[];i.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(i)}getRoles(){this.userService.getRoleListForClient().subscribe({next:t=>{this.rolesList=t.data,this.setObjectBeforeRefeshclientUser()}})}getAccessGroup(t){this.loading.accessGroup=!0,this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:n=>{this.loading.accessGroup=!1,this.accessGroupList=n.data,this.setObjectBeforeRefeshclientUser()}})}onTypeRole(t){this.selectedAccessGroupValue=null,this.accessGroupList=[],this.payload.SearchRoleName=this.selectedRoleIdValue,this.payload.SearchAccessGroupName=this.selectedAccessGroupValue,this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData(),t&&this.getAccessGroup(t.id)}onTypeAccessGroup(t){this.selectedAccessGroupValue=t?t.name:null,this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchAccessGroupName=this.selectedAccessGroupValue,this.loadData()}onSelectedPortalEnable(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchPortalEnable="Portal Enable"==this.selectedPortalEnable||"Portal Disable"!=this.selectedPortalEnable&&null,this.loadData()}onSelectedMobileEnable(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchMobileEnable="Mobile Enable"==this.selectedMobileEnable||"Mobile Disable"!=this.selectedMobileEnable&&null,this.loadData()}ccurentStatusActive(t){const n=new Date(t),i=new Date(n.toLocaleString("en-US")),s=(new Date).toLocaleString("en-US",{timeZone:"Asia/Kuala_Lumpur"}),_=(new Date(s)-i)/6e4;return Math.abs(_)<=10}openModalActiveDeactive(t,n){const i=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="Do you want to "+n+" this  profile ",i.componentInstance.subTitle="You won't be able to revert this!",i.componentInstance.buttonName=n+" It",i.result.then(s=>{s&&"success"==s&&this.updateUserActiveInActive(t,n)})}updateUserActiveInActive(t,n){this.userService.updateUserActiveInActive({Id:t,ProfileStatus:n}).subscribe(s=>{this.loadData(),this.success(s)})}static{this.\u0275fac=function(n){return new(n||a)(e.Y36(m.i),e.Y36(d.V),e.Y36(h.FF),e.Y36(u.F0),e.Y36(h.FF),e.Y36(Z.K),e.Y36(_e.l),e.Y36(L.ey))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-list-new-client"]],viewQuery:function(n,i){if(1&n&&e.Gf(be,7),2&n){let s;e.iGM(s=e.CRH())&&(i.input=s.first)}},decls:46,vars:29,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-lg-auto"],[1,"card-title","mb-0"],[1,"col-lg"],["bindLabel","name","bindValue","name","id","roleName","placeholder","Select Role",1,"w-100","mr-2","my-1",3,"items","loading","clearable","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","name","id","accessName","placeholder","Select Access Group/Designation",1,"w-100","mr-2","my-1",3,"items","loading","clearable","disabled","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","name","id","portal","placeholder","Select Portal Accessibility ",1,"w-100","mr-2","my-1",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","name","id","portal","placeholder","Select Mobile Accessibility ",1,"w-100","mr-2","my-1",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto","d-flex","justify-content-end"],["type","button","class","btn btn-success add-btn","id","create-btn",3,"click",4,"ngIf"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","id","departmentName","placeholder","Select Project","for","departmentName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for user name",1,"form-control",3,"ngModel","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["deleteModel",""],["type","button","id","create-btn",1,"btn","btn-success","add-btn",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"customer_name","text-primary","cursor",3,"click"],["class","d-flex align-items-center",4,"ngIf"],[1,"align-middle"],[1,"mb-1"],[1,"badge","text-uppercase",3,"ngClass"],[4,"ngIf"],["class","badge text-uppercase bg-success-subtle text-success",4,"ngIf"],["class","badge text-uppercase bg-danger-subtle text-danger",4,"ngIf"],[1,"ps-2","align-middle"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"ri-lock-unlock-fill","align-bottom","me-2","text-muted"],[1,"d-flex","align-items-center"],["alt","",1,"avatar-xs","rounded-circle","me-2",3,"src"],[1,"flex-shrink-0","avatar-xs","me-2"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","fs-13"],[1,"ri-record-circle-fill","align-middle"],["class","text-danger ri-close-circle-line fs-18 ","ngbTooltip","No Access Right for Portal",4,"ngIf"],["ngbTooltip","No Access Right for Portal",1,"text-danger","ri-close-circle-line","fs-18"],["class","text-danger ri-close-circle-line fs-18","ngbTooltip","No Access Right for App",4,"ngIf"],["ngbTooltip","No Access Right for App",1,"text-danger","ri-close-circle-line","fs-18"],[1,"badge","text-uppercase","bg-success-subtle","text-success"],[1,"badge","text-uppercase","bg-danger-subtle","text-danger"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"ri-checkbox-circle-line","align-bottom","me-2","text-muted"],[1,"ri-close-circle-line","align-bottom","me-2","text-muted"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","btn-primary",3,"click"]],template:function(n,i){if(1&n&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Client User List"),e.qZA()(),e.TgZ(9,"div",8)(10,"ng-select",9),e.NdJ("change",function(o){return i.onTypeRole(o)})("ngModelChange",function(o){return i.selectedRoleIdValue=o}),e.qZA()(),e.TgZ(11,"div",8)(12,"ng-select",10),e.NdJ("change",function(o){return i.onTypeAccessGroup(o)})("ngModelChange",function(o){return i.selectedAccessGroupValue=o}),e.qZA()(),e.TgZ(13,"div",8)(14,"ng-select",11),e.NdJ("change",function(o){return i.onSelectedPortalEnable(o)})("ngModelChange",function(o){return i.selectedPortalEnable=o}),e.qZA()(),e.TgZ(15,"div",8)(16,"ng-select",12),e.NdJ("change",function(o){return i.onSelectedMobileEnable(o)})("ngModelChange",function(o){return i.selectedMobileEnable=o}),e.qZA()(),e.TgZ(17,"div",13)(18,"div"),e.YNc(19,Ce,3,0,"button",14),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",16)(22,"div",8)(23,"ng-select",17),e.NdJ("change",function(o){return i.onDropdownCompanyValueChange(o)})("ngModelChange",function(o){return i.selectedDropDownCompanyIdValue=o}),e.qZA()(),e.TgZ(24,"div",8)(25,"ng-select",18),e.NdJ("change",function(o){return i.onDropdownDepartmentValueChange(o)})("ngModelChange",function(o){return i.selectedDropDownProjectOrDeparmentIdValue=o}),e.qZA()(),e.TgZ(26,"div",8)(27,"div",19)(28,"input",20,21),e.NdJ("ngModelChange",function(o){return i.searchName=o}),e.qZA(),e._UZ(30,"i",22),e.qZA()(),e.TgZ(31,"div",6)(32,"div",23)(33,"button",24),e.NdJ("click",function(){return i.resetSerachVariable()}),e._UZ(34,"i",25),e._uU(35," Clear "),e.qZA()()()()(),e.TgZ(36,"div",26)(37,"div")(38,"ul",27,28)(40,"li",29),e.YNc(41,Ge,36,6,"ng-template",30),e.qZA()(),e.TgZ(42,"div",31),e._UZ(43,"div",32),e.qZA()()()()()(),e.YNc(44,Je,17,0,"ng-template",null,33,e.W1O)),2&n){const s=e.MAs(39);e.Q6J("title",i.label)("breadcrumbItems",i.breadCrumbItems),e.xp6(10),e.Q6J("items",i.rolesList)("loading",i.loading.role)("clearable",!0)("ngModel",i.selectedRoleIdValue),e.xp6(2),e.Q6J("items",i.accessGroupList)("loading",i.loading.accessGroup)("clearable",!0)("disabled",!i.selectedRoleIdValue)("ngModel",i.selectedAccessGroupValue),e.xp6(2),e.Q6J("items",i.portalYesNoArray)("clearable",!0)("ngModel",i.selectedPortalEnable),e.xp6(2),e.Q6J("items",i.mobileYesNoArray)("clearable",!0)("ngModel",i.selectedMobileEnable),e.xp6(3),e.Q6J("ngIf",i.returnValueMenu.add),e.xp6(4),e.Q6J("items",i.arrayListDropDownCompany)("clearable",!1)("ngModel",i.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",i.arrayListDropDownProjectOrDeparmentList)("disabled",!i.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",i.selectedDropDownProjectOrDeparmentIdValue),e.xp6(3),e.Q6J("ngModel",i.searchName),e.xp6(10),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",s)}},dependencies:[l.mk,l.sg,l.O5,c.Fj,c.JJ,c.On,T.w9,h.jt,h.iD,h.Vi,h.N9,h.GZ,h.ju,U.n,h._L,h.uN,h.Pz,h.nv,h.Is,h.Dy]})}}return a})();var k=p(3828);function Oe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"th",24)(2,"div",34)(3,"input",35),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.checked=i)})("change",function(i){const o=e.CHM(t).index,_=e.oxw();return e.KtG(_.checkTheEmailNotificationValue(i,o))}),e.qZA(),e.TgZ(4,"label",36),e._uU(5),e.qZA()()(),e.TgZ(6,"td",22),e._uU(7," : "),e.TgZ(8,"span",25),e._uU(9),e.qZA()()()}if(2&a){const t=r.$implicit;e.xp6(3),e.s9C("value",t.name),e.s9C("id",t.name),e.Q6J("ngModel",t.checked),e.xp6(1),e.s9C("for",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(3),e.Q6J("ngClass",t.checked?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.checked?"Yes":"No")}}function Be(a,r){if(1&a&&(e.TgZ(0,"a",41),e._uU(1),e.qZA()),2&a){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.projectList[t])}}function Qe(a,r){if(1&a&&(e.TgZ(0,"div",37)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"p")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",38)(7,"div",39),e.YNc(8,Be,2,1,"a",40),e.qZA()()()),2&a){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.companyList[t.companyId]),e.xp6(3),e.hij("",n.isProject?"Project":"Department"," "),e.xp6(3),e.Q6J("ngForOf",t.departmentId.split(","))}}function Ye(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"input",44),e.NdJ("change",function(i){const o=e.CHM(t).index,_=e.oxw();return e.KtG(_.changesMyTaskRulesActive(i,o))})("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.checked=i)}),e.qZA(),e.TgZ(3,"label",36),e._uU(4),e.qZA()()()}if(2&a){const t=r.$implicit;e.xp6(2),e.s9C("value",t.type),e.s9C("id",t.type),e.Q6J("ngModel",t.checked),e.xp6(1),e.s9C("for",t.type),e.xp6(1),e.hij(" ",t.name," ")}}let ze=(()=>{class a{constructor(t,n,i,s,o,_,v,N){this.userService=t,this.dropDownService=n,this.departmentService=i,this.commonFunctionService=s,this.router=o,this.authAssetService=_,this.modalService=v,this.lightbox=N,this.productionUrl=I.N.apiUrl,this.userData={},this.companyList=[],this.rolesList={},this.accessGroupList={},this.projectList={},this.titleAndContentArrayCreated={},this.titleAndContentArrayDelete={},this.myTaskRulesActiveCount=[],this.portalArrayList=[{name:"Notification of Incident Report Verification by Client",checked:!1},{name:"Notification of Close Ticket Request",checked:!1},{name:"Notification for Schedule Maintenance Completion By Client",checked:!1},{name:"Notification for Audit Completion Acknowledgement  Client",checked:!1}],0==m.i.selectedUserId||null==m.i.selectedUserId||null==!m.i.selectedUserId?this.router.navigate(["/application-settings/user-management/client-user/list"]):(this.isProject=this.authAssetService.getisProject(),this.getRoles(),this.getUserDetail(m.i.selectedUserId),this.getCompanyDropDownList(),this.getV2_V2_EmailNotificationList(m.i.selectedUserId),this.getV2_MyTaskRulesActiveCountByUserId(m.i.selectedUserId))}ngOnInit(){this.maketheJsonArrayOfShowingTitle(),this.myTaskRulesActiveCount=[{name:"Incident Report Close Confirmation Required",type:"clientSignatureRequired",checked:!1},{name:"Closing Ticket Status (Global)",type:"pendingForCloseTicketProcess",checked:!1},{name:" Schedule Completion Acknowlegement Client",type:"pmScheduleCompletionAcknowlegementClient",checked:!1},{name:"Audit Completion Acknowledgement  Client",type:"auditCompletionAcknowlegementClient",checked:!1}]}getRoles(){this.userService.GetRoleList().subscribe({next:t=>{const n={};t.data.forEach(i=>{n[i.id]=i.name}),this.rolesList=n}})}getAccessGroup(t){this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:n=>{const i={};n.data.forEach(s=>{i[s.accessGroupMasterId]=s.name}),this.accessGroupList=i}})}getUserDetail(t){this.userService.getUserListByUserId(t).subscribe({next:n=>{const i=n.data;this.userData=i,this.getAccessGroup(i.roleId),i.list.forEach(s=>{this.getProjectByCompany(s.companyId)})}})}getCompanyDropDownList(){this.dropDownService.GetCompanyListDrobDown({}).subscribe({next:t=>{const n={};t.list.forEach(i=>{n[i.companyId]=i.companyName}),this.companyList=n}})}getProjectByCompany(t){this.departmentService.getDepartmentTableList_LocalPagination({SearchCompanyId:t}).subscribe({next:n=>{const i={};n.list.forEach(s=>{i[s.departmentId]=s.departmentName}),this.projectList={...this.projectList,...i}}})}goBack(){this.router.navigate(["/application-settings/user-management/client-user/list"])}getV2_V2_EmailNotificationList(t){this.userService.getV2_V2_EmailNotificationList({userId:t}).subscribe(i=>{this.emailNotificationList=i.data,this.portalArrayList.forEach(s=>{this.emailNotificationList.forEach(o=>{o.action==s.name&&(s.checked=!0)})})})}checkTheEmailNotificationValue(t,n){if(t.target.checked){const i=t.target.value.replace(/ /g,"");this.openModalCreateConf(this.titleAndContentArrayCreated[i],t.target.value,n)}else{const i=t.target.value.replace(/ /g,"");this.openModalDeleteConf(this.titleAndContentArrayDelete[i],t.target.value,n)}}maketheJsonArrayOfShowingTitle(){this.titleAndContentArrayCreated.NotificationofIncidentReportVerificationbyClient={title:"Are you sure you want to add this users email for portal notifications in the Notification of Incident Report Verification by Client? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will receive both email and portal notifications."},this.titleAndContentArrayDelete.NotificationofIncidentReportVerificationbyClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification of Incident Report Verification by Client? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will not receive both email and portal notifications."},this.titleAndContentArrayCreated.NotificationofCloseTicketRequest={title:"Are you sure you want to add this users email for portal notifications in the Notification of Close Ticket Request? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will receive both email and portal notifications."},this.titleAndContentArrayDelete.NotificationofCloseTicketRequest={title:"Are you sure you want to remove this users email for portal notifications in the Notification of Close Ticket Request? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will not receive both email and portal notifications."},this.titleAndContentArrayCreated.NotificationforScheduleMaintenanceCompletionByClient={title:"Are you sure you want to add this users email for portal notifications in the Notification for Schedule Maintenance Completion By Admin ",subTitle:"Scheduled maintenance completion by the administrator means that upon successful execution of the maintenance tasks, the designated administrators or relevant personnel will be notified, ensuring effective communication and awareness of the completed maintenance activities."},this.titleAndContentArrayDelete.NotificationforScheduleMaintenanceCompletionByClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification for Schedule Maintenance Completion By Admin ",subTitle:"When a deletion task is successfully executed by the administrator, the designated administrators or relevant personnel will be notified. This notification ensures effective communication and awareness of the completed deletion activities"},this.titleAndContentArrayCreated.NotificationforAuditCompletionAcknowlegementClient={title:"Are you sure you want to add this users email for portal notifications in the Notification for Audit Completion Acknowledgement  Client? ",subTitle:"Scheduled maintenance completion by the administrator means that upon successful execution of the maintenance tasks, the designated administrators or relevant personnel will be notified, ensuring effective communication and awareness of the completed maintenance activities."},this.titleAndContentArrayDelete.NotificationforAuditCompletionAcknowlegementClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification for Audit Completion Acknowledgement  Client? ",subTitle:"When a deletion task is successfully executed by the administrator, the designated administrators or relevant personnel will be notified. This notification ensures effective communication and awareness of the completed deletion activities"}}openModalDeleteConf(t,n,i){const s=this.modalService.open(D.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});s.componentInstance.title=t.title,s.componentInstance.subTitle=t.subTitle,s.result.then(o=>{o&&("delete"==o?this.deleteV2_EmailNotification(n):this.portalArrayList[i].checked=!0)})}openModalCreateConf(t,n,i){const s=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});s.componentInstance.title=t.title,s.componentInstance.subTitle=t.subTitle,s.result.then(o=>{o&&("success"==o?this.createV2_EmailNotification(n):this.portalArrayList[i].checked=!1)})}deleteV2_EmailNotification(t){this.userService.deleteV2_EmailNotification({UserId:m.i.selectedUserId,Action:t}).subscribe(i=>{this.getV2_V2_EmailNotificationList(m.i.selectedUserId),this.success(i)})}createV2_EmailNotification(t){this.userService.createV2_EmailNotification({UserId:m.i.selectedUserId,Action:t}).subscribe(i=>{this.getV2_V2_EmailNotificationList(m.i.selectedUserId),this.success(i)})}success(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}getV2_MyTaskRulesActiveCountByUserId(t){this.userService.getV2_MyTaskRulesActiveCountByUserId({userId:t}).subscribe(i=>{this.myTaskRulesActiveCount.forEach(s=>{Object.keys(i.data).forEach(o=>{o==s.type&&(s.checked=i.data[o])})})})}changesMyTaskRulesActive(t,n){this.myTaskRulesActiveCount[n].checked=t.target.checked,this.openModalCreateMyTask(n,t.target.checked)}openModalCreateMyTask(t,n){const i=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="Are you Sure to Update My Task ",i.componentInstance.subTitle="",i.result.then(s=>{s&&("success"==s?this.updateTaskRuleActive():this.myTaskRulesActiveCount[t].checked=!n)})}updateTaskRuleActive(){let t={userId:m.i.selectedUserId};this.myTaskRulesActiveCount.forEach(n=>{t[n.type]=n.checked}),this.userService.updateV2_MX_MyTaskRights(t).subscribe(n=>{this.getV2_MyTaskRulesActiveCountByUserId(m.i.selectedUserId),this.success(n)})}open(t){let i=[];i.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(i)}static{this.\u0275fac=function(n){return new(n||a)(e.Y36(m.i),e.Y36(d.V),e.Y36(C.n),e.Y36(Z.K),e.Y36(u.F0),e.Y36(k.u),e.Y36(h.FF),e.Y36(L.ey))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-view-new-client"]],decls:75,vars:12,consts:[[1,"user-detail","profile-foreground","position-relative","mx-n4","mt-n4"],[1,"profile-wid-bg"],["src","assets/images/profile-bg.jpg","alt","",1,"profile-wid-img"],[1,"pt-4","mb-4","mb-lg-3","px-4","pb-lg-4","profile-wrapper"],[1,"row","g-4"],[1,"col-auto"],["alt","user-img",1,"rounded","avatar-lg",3,"src","click"],[1,"col","d-flex","align-items-center"],[1,"p-2"],[1,"text-white","mb-0","fs-35"],[1,"text-white","mb-0","fs-20"],[1,"hstack","text-white-50","gap-1","fs-15"],[1,"ri-shield-fill","me-1","text-white","fs-16","align-middle"],[1,"row","mt-4"],[1,"col-sm-5"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],["scope","row",1,"w-25"],[1,"text-muted"],[1,"card","mt-4"],["scope","row",1,"ps-0","w-10"],[1,"badge","text-uppercase",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"col-sm-7"],[1,"row"],["class","col-sm-12 mb-4",4,"ngFor","ngForOf"],[1,"card","mt-2"],["class","col-sm-4 mb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","px-4","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button",3,"click"],[1,"form-check"],["type","checkbox",1,"form-check-input","me-2",3,"ngModel","value","id","ngModelChange","change"],[1,"form-check-label","labelforCheckbox",3,"for"],[1,"col-sm-12","mb-4"],[1,"mt-2"],[1,"d-flex","flex-wrap","gap-2","fs-15"],["href","javascript:void(0);","class","badge bg-primary-subtle text-primary",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"badge","bg-primary-subtle","text-primary"],[1,"col-sm-4","mb-4"],[1,"form-check","topDisplay"],["type","checkbox",1,"form-check-input","me-2","p-2",3,"ngModel","value","id","change","ngModelChange"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"img",6),e.NdJ("click",function(){return i.open(i.userData.profileImageUrl?i.productionUrl+i.userData.profileImageUrl:"../../../../../../../assets/images/userClientPlaceholder.png")}),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"h3",9),e._uU(10),e.qZA(),e.TgZ(11,"p",10),e._uU(12),e.qZA(),e.TgZ(13,"div",11),e._UZ(14,"i",12),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h4",17),e._uU(21,"Contact Information \xa0"),e.qZA()(),e.TgZ(22,"div",18)(23,"div",19)(24,"table",20)(25,"tbody")(26,"tr")(27,"th",21),e._uU(28,"Mobile Number"),e.qZA(),e.TgZ(29,"td",22),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"th",21),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"td",22),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th",21),e._uU(38,"Username"),e.qZA(),e.TgZ(39,"td",22),e._uU(40),e.qZA()()()()()()(),e.TgZ(41,"div",23)(42,"div",16)(43,"h4",17),e._uU(44,"Email And Notification Setup"),e.qZA()(),e.TgZ(45,"div",18)(46,"div",19)(47,"table",20)(48,"tbody")(49,"tr")(50,"th",24),e._uU(51,"Portal Access"),e.qZA(),e.TgZ(52,"td",22),e._uU(53," : "),e.TgZ(54,"span",25),e._uU(55),e.qZA()()(),e.YNc(56,Oe,10,7,"tr",26),e.qZA()()()()()(),e.TgZ(57,"div",27)(58,"div",15)(59,"div",16)(60,"h4",17),e._uU(61,"Access Right \xa0"),e.qZA()(),e.TgZ(62,"div",18)(63,"div",28),e.YNc(64,Qe,9,3,"div",29),e.qZA()()(),e.TgZ(65,"div",30)(66,"div",16)(67,"h4",17),e._uU(68,"My Task"),e.qZA()(),e.TgZ(69,"div",18)(70,"div",28),e.YNc(71,Ye,5,5,"div",31),e.qZA()()()()()(),e.TgZ(72,"div",32)(73,"button",33),e.NdJ("click",function(){return i.goBack()}),e._uU(74," Back "),e.qZA()()()),2&n&&(e.xp6(6),e.Q6J("src",i.userData.profileImageUrl?i.productionUrl+i.userData.profileImageUrl:"../../../../../../../assets/images/userClientPlaceholder.png",e.LSH),e.xp6(4),e.Oqu(i.userData.fullName),e.xp6(2),e.hij(" ",i.rolesList[i.userData.roleId]," "),e.xp6(3),e.hij(" ",i.accessGroupList[i.userData.accessGroupId]," "),e.xp6(15),e.hij(": ",i.userData.phoneNumber,""),e.xp6(5),e.hij(": ",i.userData.email,""),e.xp6(5),e.hij(": ",i.userData.userName,""),e.xp6(14),e.Q6J("ngClass",i.userData.portalEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(i.userData.portalEnable?"Yes":"No"),e.xp6(1),e.Q6J("ngForOf",i.portalArrayList),e.xp6(8),e.Q6J("ngForOf",i.userData.list),e.xp6(7),e.Q6J("ngForOf",i.myTaskRulesActiveCount))},dependencies:[l.mk,l.sg,c.Wl,c.JJ,c.On],styles:[".w-10[_ngcontent-%COMP%]{width:10%}.labelforCheckbox[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.topDisplay[_ngcontent-%COMP%]{display:flex;align-items:self-start}"]})}}return a})();function Ke(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"label",42)(1,"div",43)(2,"div",44)(3,"i",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openModalDeleteConfimage(i.profile_img))}),e.qZA()()()()}}function He(a,r){1&a&&(e.TgZ(0,"label",46)(1,"div",43)(2,"div",44),e._UZ(3,"i",47),e.qZA()()())}function $e(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"tr")(1,"th",32)(2,"div",48)(3,"input",49),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.checked=i)}),e.qZA(),e.TgZ(4,"label",50),e._uU(5),e.qZA()()(),e.TgZ(6,"td",30),e._uU(7," : "),e.TgZ(8,"span",33),e._uU(9),e.qZA()()()}if(2&a){const t=r.$implicit;e.xp6(3),e.s9C("value",t.name),e.s9C("id",t.name),e.Q6J("ngModel",t.checked)("disabled",!0),e.xp6(1),e.s9C("for",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(3),e.Q6J("ngClass",t.checked?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.checked?"Yes":"No")}}function Xe(a,r){if(1&a&&(e.TgZ(0,"a",55),e._uU(1),e.qZA()),2&a){const t=r.$implicit,n=e.oxw(2);e.xp6(1),e.Oqu(n.projectList[t])}}function et(a,r){if(1&a&&(e.TgZ(0,"div",51)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"p")(4,"b"),e._uU(5),e.qZA()(),e.TgZ(6,"div",52)(7,"div",53),e.YNc(8,Xe,2,1,"a",54),e.qZA()()()),2&a){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.companyList[t.companyId]),e.xp6(3),e.hij("",n.isProject?"Project":"Department"," "),e.xp6(3),e.Q6J("ngForOf",t.departmentId.split(","))}}function tt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",57)(2,"input",58),e.NdJ("ngModelChange",function(i){const o=e.CHM(t).$implicit;return e.KtG(o.checked=i)}),e.qZA(),e.TgZ(3,"label",50),e._uU(4),e.qZA()()()}if(2&a){const t=r.$implicit;e.xp6(2),e.s9C("value",t.type),e.s9C("id",t.type),e.Q6J("disabled",!0)("ngModel",t.checked),e.xp6(1),e.s9C("for",t.type),e.xp6(1),e.hij(" ",t.name," ")}}const it=[{path:"",component:(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-new-client"]],decls:1,vars:0,template:function(n,i){1&n&&e._UZ(0,"router-outlet")},dependencies:[u.lC]})}}return a})(),children:[{path:"",pathMatch:"full",redirectTo:"list"},{path:"list",component:je},{path:"add",component:W},{path:"edit",component:pe},{path:"view",component:ze},{path:"dashboard-client",component:(()=>{class a{constructor(t,n,i,s,o,_,v,N){this.userService=t,this.dropDownService=n,this.departmentService=i,this.commonFunctionService=s,this.router=o,this.authAssetService=_,this.modalService=v,this.lightbox=N,this.productionUrl=I.N.apiUrl,this.userData={},this.companyList=[],this.rolesList={},this.accessGroupList={},this.projectList={},this.titleAndContentArrayCreated={},this.titleAndContentArrayDelete={},this.myTaskRulesActiveCount=[],this.imgUrl=I.N.apiUrl,this.portalArrayList=[{name:"Notification of Incident Report Verification by Client",checked:!1},{name:"Notification of Close Ticket Request",checked:!1},{name:"Notification for Schedule Maintenance Completion By Client",checked:!1},{name:"Notification for Audit Completion Acknowledgement  Client",checked:!1}]}ngOnInit(){this.isProject=this.authAssetService.getisProject(),this.getRoles(),this.getUserDetail(this.authAssetService.getUserInfoID()),this.getCompanyDropDownList(),this.getV2_V2_EmailNotificationList(this.authAssetService.getUserInfoID()),this.getV2_MyTaskRulesActiveCountByUserId(this.authAssetService.getUserInfoID()),this.maketheJsonArrayOfShowingTitle(),this.myTaskRulesActiveCount=[{name:"Incident Report Close Confirmation Required",type:"clientSignatureRequired",checked:!1},{name:"Closing Ticket Status (Global)",type:"pendingForCloseTicketProcess",checked:!1},{name:" Schedule Completion Acknowlegement Client",type:"pmScheduleCompletionAcknowlegementClient",checked:!1},{name:"Audit Completion Acknowledgement  Client",type:"auditCompletionAcknowlegementClient",checked:!1}]}getRoles(){this.userService.GetRoleList().subscribe({next:t=>{const n={};t.data.forEach(i=>{n[i.id]=i.name}),this.rolesList=n}})}getAccessGroup(t){this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:n=>{const i={};n.data.forEach(s=>{i[s.accessGroupMasterId]=s.name}),this.accessGroupList=i}})}getUserDetail(t){this.userService.getUserListByUserId(t).subscribe({next:n=>{const i=n.data;this.userData=i,this.getAccessGroup(i.roleId),this.profile_img=this.userData.profileImageUrl?this.imgUrl+this.userData.profileImageUrl:"../../../../../../assets/images/userClientPlaceholder.png",i.list.forEach(s=>{this.getProjectByCompany(s.companyId)})}})}getCompanyDropDownList(){this.dropDownService.GetCompanyListDrobDown({}).subscribe({next:t=>{const n={};t.list.forEach(i=>{n[i.companyId]=i.companyName}),this.companyList=n}})}getProjectByCompany(t){this.departmentService.getDepartmentTableList_LocalPagination({SearchCompanyId:t}).subscribe({next:n=>{const i={};n.list.forEach(s=>{i[s.departmentId]=s.departmentName}),this.projectList={...this.projectList,...i}}})}goBack(){"Super Admin"!=JSON.parse(localStorage.getItem("currentUser")).role&&("Client User"===JSON.parse(localStorage.getItem("currentUser")).role?this.router.navigate(["/maintenace-management/dashboard/client-dashboard"]):this.router.navigate(["maintenace-management/dashboard/help-desk-dashboard"]))}getV2_V2_EmailNotificationList(t){this.userService.getV2_V2_EmailNotificationList({userId:t}).subscribe(i=>{this.emailNotificationList=i.data,this.portalArrayList.forEach(s=>{this.emailNotificationList.forEach(o=>{o.action==s.name&&(s.checked=!0)})})})}checkTheEmailNotificationValue(t,n){if(t.target.checked){const i=t.target.value.replace(/ /g,"");this.openModalCreateConf(this.titleAndContentArrayCreated[i],t.target.value,n)}else{const i=t.target.value.replace(/ /g,"");this.openModalDeleteConf(this.titleAndContentArrayDelete[i],t.target.value,n)}}maketheJsonArrayOfShowingTitle(){this.titleAndContentArrayCreated.NotificationofIncidentReportVerificationbyClient={title:"Are you sure you want to add this users email for portal notifications in the Notification of Incident Report Verification by Client? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will receive both email and portal notifications."},this.titleAndContentArrayDelete.NotificationofIncidentReportVerificationbyClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification of Incident Report Verification by Client? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will not receive both email and portal notifications."},this.titleAndContentArrayCreated.NotificationofCloseTicketRequest={title:"Are you sure you want to add this users email for portal notifications in the Notification of Close Ticket Request? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will receive both email and portal notifications."},this.titleAndContentArrayDelete.NotificationofCloseTicketRequest={title:"Are you sure you want to remove this users email for portal notifications in the Notification of Close Ticket Request? ",subTitle:"This means that when a Billable Service Order or Incident Report task is completed and requires technical authorization for document signing before proceeding to the client for job completion,this user will not receive both email and portal notifications."},this.titleAndContentArrayCreated.NotificationforScheduleMaintenanceCompletionByClient={title:"Are you sure you want to add this users email for portal notifications in the Notification for Schedule Maintenance Completion By Admin ",subTitle:"Scheduled maintenance completion by the administrator means that upon successful execution of the maintenance tasks, the designated administrators or relevant personnel will be notified, ensuring effective communication and awareness of the completed maintenance activities."},this.titleAndContentArrayDelete.NotificationforScheduleMaintenanceCompletionByClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification for Schedule Maintenance Completion By Admin ",subTitle:"When a deletion task is successfully executed by the administrator, the designated administrators or relevant personnel will be notified. This notification ensures effective communication and awareness of the completed deletion activities"},this.titleAndContentArrayCreated.NotificationforAuditCompletionAcknowlegementClient={title:"Are you sure you want to add this users email for portal notifications in the Notification for Audit Completion Acknowledgement  Client? ",subTitle:"Scheduled maintenance completion by the administrator means that upon successful execution of the maintenance tasks, the designated administrators or relevant personnel will be notified, ensuring effective communication and awareness of the completed maintenance activities."},this.titleAndContentArrayDelete.NotificationforAuditCompletionAcknowlegementClient={title:"Are you sure you want to remove this users email for portal notifications in the Notification for Audit Completion Acknowledgement  Client? ",subTitle:"When a deletion task is successfully executed by the administrator, the designated administrators or relevant personnel will be notified. This notification ensures effective communication and awareness of the completed deletion activities"}}openModalDeleteConf(t,n,i){const s=this.modalService.open(D.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});s.componentInstance.title=t.title,s.componentInstance.subTitle=t.subTitle,s.result.then(o=>{o&&("delete"==o?this.deleteV2_EmailNotification(n):this.portalArrayList[i].checked=!0)})}openModalCreateConf(t,n,i){const s=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});s.componentInstance.title=t.title,s.componentInstance.subTitle=t.subTitle,s.result.then(o=>{o&&("success"==o?this.createV2_EmailNotification(n):this.portalArrayList[i].checked=!1)})}deleteV2_EmailNotification(t){this.userService.deleteV2_EmailNotification({UserId:m.i.selectedUserId,Action:t}).subscribe(i=>{this.getV2_V2_EmailNotificationList(m.i.selectedUserId),this.success(i)})}createV2_EmailNotification(t){this.userService.createV2_EmailNotification({UserId:m.i.selectedUserId,Action:t}).subscribe(i=>{this.getV2_V2_EmailNotificationList(m.i.selectedUserId),this.success(i)})}success(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}getV2_MyTaskRulesActiveCountByUserId(t){this.userService.getV2_MyTaskRulesActiveCountByUserId({userId:t}).subscribe(i=>{this.myTaskRulesActiveCount.forEach(s=>{Object.keys(i.data).forEach(o=>{o==s.type&&(s.checked=i.data[o])})})})}changesMyTaskRulesActive(t,n){this.myTaskRulesActiveCount[n].checked=t.target.checked,this.openModalCreateMyTask(n,t.target.checked)}openModalCreateMyTask(t,n){const i=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});i.componentInstance.title="Are you Sure to Update My Task ",i.componentInstance.subTitle="",i.result.then(s=>{s&&("success"==s?this.updateTaskRuleActive():this.myTaskRulesActiveCount[t].checked=!n)})}updateTaskRuleActive(){let t={userId:m.i.selectedUserId};this.myTaskRulesActiveCount.forEach(n=>{t[n.type]=n.checked}),this.userService.updateV2_MX_MyTaskRights(t).subscribe(n=>{this.getV2_MyTaskRulesActiveCountByUserId(m.i.selectedUserId),this.success(n)})}open(t){let i=[];i.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(i)}crossFirstImage(t){t&&(this.profile_img="../../../../../../assets/images/userClientPlaceholder.png",this.isFirstImageVisible=!1,this.resetFileInput(),this.saveImage())}resetFileInput(){const t=document.getElementById("asset_id0");t&&(t.value="")}onSelectFile(t){if(t.target.files&&t.target.files[0]){var n=new FileReader;n.readAsDataURL(t.target.files[0]),n.onload=i=>{this.profile_img=i.target.result,this.openModalUpdateConfimage()}}}saveImage(){let t={Id:this.userData.id,UserLogoBase64string:"../../../../../../assets/images/userClientPlaceholder.png"!==this.profile_img?this.profile_img.replace(/^data:image\/[a-z]+;base64,/,""):null};this.userService.postUpdateProfileLogo(this.commonFunctionService.clean(t)).subscribe(n=>{this.successForImageInsert(n)})}successForImageInsert(t){b().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}openModalDeleteConfimage(t){const n=this.modalService.open(D.z,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});n.componentInstance.title="You are about to delete a Profile Image?",n.componentInstance.subTitle="Deleting your Profile Image will remove for the database",n.result.then(i=>{i&&"delete"==i&&this.crossFirstImage(t)})}openModalUpdateConfimage(){const t=this.modalService.open(g.l,{ariaLabelledBy:"modal-basic-title",size:"md",centered:!0,backdrop:"static",keyboard:!1});t.componentInstance.title="You are about to upadate a Profile Image?",t.componentInstance.subTitle="Modifying your profile image will result in the updated image replacing the existing one in the database",t.result.then(n=>{n&&("success"==n?(this.profile_img&&(this.isFirstImageVisible=!0),this.saveImage()):(this.profile_img="../../../../../../assets/images/userClientPlaceholder.png",this.isFirstImageVisible=!1,this.resetFileInput()))})}static{this.\u0275fac=function(n){return new(n||a)(e.Y36(m.i),e.Y36(d.V),e.Y36(C.n),e.Y36(Z.K),e.Y36(u.F0),e.Y36(k.u),e.Y36(h.FF),e.Y36(L.ey))}}static{this.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-client"]],decls:83,vars:14,consts:[[1,"user-detail","profile-foreground","position-relative","mx-n4","mt-n4"],[1,"profile-wid-bg"],["src","assets/images/profile-bg.jpg","alt","",1,"profile-wid-img"],[1,"pt-4","mb-4","mb-lg-3","px-4","pb-lg-4","profile-wrapper"],[1,"row","g-4"],[1,"col-auto"],[1,"textcenter","mt-2"],[1,"position-relative","d-inline-block"],[1,"position-absolute","top-100","start-100","translate-middle"],["class","mb-0","placement","left","ngbTooltip","Remove Image",4,"ngIf"],["for","asset_id0","class","mb-0","placement","left","ngbTooltip","Select Image",4,"ngIf"],["formControlName","UserImageBase64string","value","","id","asset_id0","type","file","accept","image/png, image/gif, image/jpeg",1,"form-control","d-none",3,"change"],[1,"avatar-lg"],[1,"avatar-title","bg-light","rounded"],["id","product-img",1,"avatar-md","img-size-fixed",3,"src"],[1,"col","d-flex","align-items-center"],[1,"p-2"],[1,"text-white","mb-0","fs-35"],[1,"text-white","mb-0","fs-20"],[1,"hstack","text-white-50","gap-1","fs-15"],[1,"ri-shield-fill","me-1","text-white","fs-16","align-middle"],[1,"row","mt-4"],[1,"col-sm-5"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-borderless","mb-0"],["scope","row",1,"w-25"],[1,"text-muted"],[1,"card","mt-4"],["scope","row",1,"ps-0","w-10"],[1,"badge","text-uppercase",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"col-sm-7"],[1,"row"],["class","col-sm-12 mb-4",4,"ngFor","ngForOf"],[1,"card","mt-2"],["class","col-sm-4 mb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","px-4","mb-3"],[1,"btn","btn-soft-primary","waves-effect","back-button",3,"click"],["placement","left","ngbTooltip","Remove Image",1,"mb-0"],[1,"avatar-xs"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted","cursor-pointer"],[1,"ri-close-circle-fill",3,"click"],["for","asset_id0","placement","left","ngbTooltip","Select Image",1,"mb-0"],[1,"ri-image-fill"],[1,"form-check"],["type","checkbox",1,"form-check-input","me-2",3,"ngModel","value","id","disabled","ngModelChange"],[1,"form-check-label","labelforCheckbox",2,"opacity","1",3,"for"],[1,"col-sm-12","mb-4"],[1,"mt-2"],[1,"d-flex","flex-wrap","gap-2","fs-15"],["href","javascript:void(0);","class","badge bg-primary-subtle text-primary",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"badge","bg-primary-subtle","text-primary"],[1,"col-sm-4","mb-4"],[1,"form-check","topDisplay"],["type","checkbox",1,"form-check-input","me-2","p-2",3,"disabled","ngModel","value","id","ngModelChange"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),e.YNc(9,Ke,4,0,"label",9)(10,He,4,0,"label",10),e.TgZ(11,"input",11),e.NdJ("change",function(o){return i.onSelectFile(o)}),e.qZA()(),e.TgZ(12,"div",12)(13,"div",13),e._UZ(14,"img",14),e.qZA()()()()(),e.TgZ(15,"div",15)(16,"div",16)(17,"h3",17),e._uU(18),e.qZA(),e.TgZ(19,"p",18),e._uU(20),e.qZA(),e.TgZ(21,"div",19),e._UZ(22,"i",20),e._uU(23),e.qZA()()()(),e.TgZ(24,"div",21)(25,"div",22)(26,"div",23)(27,"div",24)(28,"h4",25),e._uU(29,"Contact Information \xa0"),e.qZA()(),e.TgZ(30,"div",26)(31,"div",27)(32,"table",28)(33,"tbody")(34,"tr")(35,"th",29),e._uU(36,"Mobile Number"),e.qZA(),e.TgZ(37,"td",30),e._uU(38),e.qZA()(),e.TgZ(39,"tr")(40,"th",29),e._uU(41,"Email"),e.qZA(),e.TgZ(42,"td",30),e._uU(43),e.qZA()(),e.TgZ(44,"tr")(45,"th",29),e._uU(46,"Username"),e.qZA(),e.TgZ(47,"td",30),e._uU(48),e.qZA()()()()()()(),e.TgZ(49,"div",31)(50,"div",24)(51,"h4",25),e._uU(52,"Email And Notification Setup"),e.qZA()(),e.TgZ(53,"div",26)(54,"div",27)(55,"table",28)(56,"tbody")(57,"tr")(58,"th",32),e._uU(59,"Portal Access"),e.qZA(),e.TgZ(60,"td",30),e._uU(61," : "),e.TgZ(62,"span",33),e._uU(63),e.qZA()()(),e.YNc(64,$e,10,8,"tr",34),e.qZA()()()()()(),e.TgZ(65,"div",35)(66,"div",23)(67,"div",24)(68,"h4",25),e._uU(69,"Access Right \xa0"),e.qZA()(),e.TgZ(70,"div",26)(71,"div",36),e.YNc(72,et,9,3,"div",37),e.qZA()()(),e.TgZ(73,"div",38)(74,"div",24)(75,"h4",25),e._uU(76,"My Task"),e.qZA()(),e.TgZ(77,"div",26)(78,"div",36),e.YNc(79,tt,5,6,"div",39),e.qZA()()()()()(),e.TgZ(80,"div",40)(81,"button",41),e.NdJ("click",function(){return i.goBack()}),e._uU(82," Back "),e.qZA()()()),2&n&&(e.xp6(9),e.Q6J("ngIf",i.isFirstImageVisible),e.xp6(1),e.Q6J("ngIf",!i.isFirstImageVisible),e.xp6(4),e.s9C("src",i.profile_img,e.LSH),e.xp6(4),e.Oqu(i.userData.fullName),e.xp6(2),e.hij(" ",i.rolesList[i.userData.roleId]," "),e.xp6(3),e.hij(" ",i.accessGroupList[i.userData.accessGroupId]," "),e.xp6(15),e.hij(": ",i.userData.phoneNumber,""),e.xp6(5),e.hij(": ",i.userData.email,""),e.xp6(5),e.hij(": ",i.userData.userName,""),e.xp6(14),e.Q6J("ngClass",i.userData.portalEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(i.userData.portalEnable?"Yes":"No"),e.xp6(1),e.Q6J("ngForOf",i.portalArrayList),e.xp6(8),e.Q6J("ngForOf",i.userData.list),e.xp6(7),e.Q6J("ngForOf",i.myTaskRulesActiveCount))},dependencies:[l.mk,l.sg,l.O5,c.Fj,c.Wl,c.JJ,c.On,c.u,h._L],styles:[".w-10[_ngcontent-%COMP%]{width:10%}.labelforCheckbox[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.topDisplay[_ngcontent-%COMP%]{display:flex;align-items:self-start}"]})}}return a})()}]}];let nt=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({imports:[u.Bz.forChild(it),u.Bz]})}}return a})();var at=p(9101),st=p(6802),ot=p(6762),lt=p(6903),rt=p(9417),ct=p(6208);let dt=(()=>{class a{static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275mod=e.oAB({type:a})}static{this.\u0275inj=e.cJS({imports:[l.ez,nt,c.u5,c.UX,T.A0,h.XC,h.M,lt.X,h.jF,h.ZS,ot.JT,ct.m,rt.t,at.p.pick(st.kEt),h.aE,T.A0,h.HK,h.Gs,h.Oz,L.QM]})}}return a})()},9455:(w,y,p)=>{p.d(y,{V:()=>g});var l=p(9862),u=p(553),c=p(9212),m=p(2787),A=p(5035);let g=(()=>{class f{constructor(e,d,C){this._http=e,this._route=d,this.authService=C}GetCompanyListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetCompanyListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetClientListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetClientListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetDepartmentListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetCategoryListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetCategoryListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetSubCategoryListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetSubCategoryListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetVendorListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetVendorListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetLocationListDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetLocationListDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getCountryList(){return this._http.get(u.N.apiUrl+"api/Master/GetCountryList",{headers:(new l.WM).set("Content-Type","application/json")})}getCountryListDrobDown(){return this._http.get(u.N.apiUrl+"api/V2_Master/GetCountryListDrobDown",{headers:(new l.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(e){return this._http.post(u.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getV2_UserListDD(e){return this._http.post(u.N.apiUrl+"api/Maintenance/GetV2_UserListDD",e,{headers:(new l.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(d){return new(d||f)(c.LFG(l.eN),c.LFG(m.F0),c.LFG(A.$))}}static{this.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},859:(w,y,p)=>{p.d(y,{z:()=>c});var l=p(9212),u=p(7291);let c=(()=>{class m{constructor(g){this.modal=g}ngOnInit(){}ngOnChanges(g){}close(g){this.modal.close(g)}deleteData(){}static{this.\u0275fac=function(f){return new(f||m)(l.Y36(u.Kz))}}static{this.\u0275cmp=l.Xpm({type:m,selectors:[["app-delete-modal"]],inputs:{title:"title",subTitle:"subTitle"},features:[l.TTD],decls:17,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","fs-15","mx-2","mx-sm-2"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","w-sm","btn-primary",3,"click"]],template:function(f,b){1&f&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return b.close("Close click")}),l.qZA()(),l.TgZ(3,"div",3)(4,"div",4),l._UZ(5,"lord-icon",5),l.TgZ(6,"div",6)(7,"h5"),l._uU(8),l.qZA(),l.TgZ(9,"p",7),l._uU(10),l.qZA()()(),l.TgZ(11,"div",8)(12,"button",9),l.NdJ("click",function(){return b.close("Close click")}),l._UZ(13,"i",10),l._uU(14," Close "),l.qZA(),l.TgZ(15,"button",11),l.NdJ("click",function(){return b.close("delete")}),l._uU(16," Yes, Delete It! "),l.qZA()()()()),2&f&&(l.xp6(8),l.Oqu(b.title),l.xp6(2),l.hij("",b.subTitle," "))}})}}return m})()},8868:(w,y,p)=>{p.d(y,{e:()=>c});var l=p(9212),u=p(7291);let c=(()=>{class m{constructor(g){this.modal=g}ngOnInit(){}ngOnChanges(g){}close(g){this.modal.close(g)}static{this.\u0275fac=function(f){return new(f||m)(l.Y36(u.Kz))}}static{this.\u0275cmp=l.Xpm({type:m,selectors:[["app-message-modal"]],inputs:{title:"title",subTitle:"subTitle"},features:[l.TTD],decls:15,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/tdrtiskw.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","120px","height","120px"],[1,"mt-2","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","w-sm","btn-danger","fw-medium","text-decoration-none",3,"click"],[1,"ri-close-line","me-1","align-middle"]],template:function(f,b){1&f&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return b.close("Close click")}),l.qZA()(),l.TgZ(3,"div",3)(4,"div",4),l._UZ(5,"lord-icon",5),l.TgZ(6,"div",6)(7,"h4"),l._uU(8),l.qZA(),l.TgZ(9,"p",7),l._uU(10),l.qZA()()(),l.TgZ(11,"div",8)(12,"button",9),l.NdJ("click",function(){return b.close("Close click")}),l._UZ(13,"i",10),l._uU(14," Close "),l.qZA()()()()),2&f&&(l.xp6(8),l.Oqu(b.title),l.xp6(2),l.hij("",b.subTitle," "))}})}}return m})()}}]);
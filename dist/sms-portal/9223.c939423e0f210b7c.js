"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[9223,9455],{9223:(P,f,p)=>{p.r(f),p.d(f,{SpareModule:()=>Pt});var u=p(6814),_=p(2787),e=p(9212);let x=(()=>{class o{constructor(){}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spare"]],decls:1,vars:0,template:function(r,a){1&r&&e._UZ(0,"router-outlet")},dependencies:[_.lC],encapsulation:2})}}return o})();var S=p(553),T=p(3519),h=p.n(T),l=p(7291),c=p(3945),g=p(3828),d=p(6223),w=p(2857),D=p(9455),I=p(7235),j=p(8617),q=p(6592),F=p(7337),J=p(6676),v=p(4807),U=p(6762);function E(o,s){1&o&&(e.TgZ(0,"label",41)(1,"div",42)(2,"div",43),e._UZ(3,"i",44),e.qZA()()())}function R(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.crossSecondImage(a.backgroud_img))}),e.TgZ(1,"div",42)(2,"div",43),e._UZ(3,"i",46),e.qZA()()()}}function Q(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Spare Part Name is required"),e.qZA())}function G(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,Q,2,0,"small",47),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.SparePartName.errors.required)}}function Y(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31),e.YNc(4,E,4,0,"label",32)(5,R,4,0,"label",33),e.TgZ(6,"input",34),e.NdJ("change",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectFileEdit(a))}),e.qZA()(),e.TgZ(7,"div",35)(8,"div",36),e._UZ(9,"img",37),e.qZA()()(),e.TgZ(10,"h5",38),e._uU(11,"SparePart Image"),e.qZA()(),e.TgZ(12,"label",39),e._uU(13,"Spare Part Name "),e.TgZ(14,"span",5),e._uU(15,"*"),e.qZA()(),e._UZ(16,"input",40),e.YNc(17,G,2,1,"div",7),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.isSecondImageVisible),e.xp6(1),e.Q6J("ngIf",t.isSecondImageVisible),e.xp6(4),e.s9C("src",t.backgroud_img1,e.LSH),e.xp6(7),e.ekj("is-invalid",t.SparePartName.invalid&&t.SparePartName.touched)("is-valid",t.SparePartName.valid&&t.SparePartName.touched),e.xp6(1),e.Q6J("ngIf",t.SparePartName.invalid&&t.SparePartName.touched)}}function H(o,s){1&o&&(e.TgZ(0,"label",41)(1,"div",42)(2,"div",43),e._UZ(3,"i",44),e.qZA()()())}function z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"label",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.crossFirstImage(a.backgroud_img))}),e.TgZ(1,"div",42)(2,"div",43),e._UZ(3,"i",46),e.qZA()()()}}function B(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Spare Part Name is required"),e.qZA())}function K(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,B,2,0,"small",47),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.SparePartName.errors.required)}}function W(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31),e.YNc(4,H,4,0,"label",32)(5,z,4,0,"label",33),e.TgZ(6,"input",34),e.NdJ("change",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onSelectFile(a))}),e.qZA()(),e.TgZ(7,"div",35)(8,"div",36),e._UZ(9,"img",37),e.qZA()()(),e.TgZ(10,"h5",38),e._uU(11,"SparePart Image"),e.qZA()(),e.TgZ(12,"label",39),e._uU(13,"Spare Part Name "),e.TgZ(14,"span",5),e._uU(15,"*"),e.qZA()(),e._UZ(16,"input",40),e.YNc(17,K,2,1,"div",7),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.isFirstImageVisible),e.xp6(1),e.Q6J("ngIf",t.isFirstImageVisible),e.xp6(4),e.s9C("src",t.backgroud_img,e.LSH),e.xp6(7),e.ekj("is-invalid",t.SparePartName.invalid&&t.SparePartName.touched)("is-valid",t.SparePartName.valid&&t.SparePartName.touched),e.xp6(1),e.Q6J("ngIf",t.SparePartName.invalid&&t.SparePartName.touched)}}function $(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Company is Required"),e.qZA())}function X(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,$,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.companyId.errors.required)}}function ee(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Part Number is Required"),e.qZA())}function te(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ee,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.PartNumber.errors.required)}}function ae(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Category is Required "),e.qZA())}function re(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Category.errors.required)}}function oe(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Sub-Category is Required "),e.qZA())}function ie(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,oe,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.subCategory.errors.required)}}function ne(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Modal is Required"),e.qZA())}function se(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ne,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Modal.errors.required)}}function le(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Specification is Required"),e.qZA())}function pe(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,le,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Specification.errors.required)}}function de(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Warranty Duration is Required"),e.qZA())}function ce(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,de,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.WarrentyDuration.errors.required)}}function ue(o,s){1&o&&(e.TgZ(0,"small",48),e._uU(1," Warranty Exp Date is Required"),e.qZA())}function ge(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ue,2,0,"small",47),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.WarrentyExpDate.errors.required)}}function me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e._uU(1," Close "),e.qZA()}}function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closeEdit())}),e._uU(1," Close "),e.qZA()}}function he(o,s){1&o&&e._UZ(0,"span",52)}function Se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addSparePart())}),e.YNc(1,he,1,0,"span",51),e._uU(2," Submit "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.addEditSpareForm.invalid||t.addSpareLoading),e.xp6(1),e.Q6J("ngIf",t.addSpareLoading)}}function be(o,s){1&o&&e._UZ(0,"span",52)}function ye(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editSparePart())}),e.YNc(1,be,1,0,"span",51),e._uU(2," Update "),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.addEditSpareForm.invalid||t.editSpareLoading),e.xp6(1),e.Q6J("ngIf",t.editSpareLoading)}}let Z=(()=>{class o{constructor(t,r,a,i,n,m){this.formBuilder=t,this.spareService=r,this.router=a,this.modal=i,this.dropdownServices=n,this.datePipe=m,this.loadList=new e.vpe,this.AddEditShowHide=!1,this.editSpareLoading=!1,this.addSpareLoading=!1,this.arrayListDropDownCompany=[],this.isFirstImageVisible=!1,this.arrayListDropDownSubCategoryList=[],this.isSecondImageVisible=!1,this.imageUrl=F.N.apiUrl}ngOnChanges(t){this.getAddFromBinding(),this.getDropdownCompanyList(),this.editSparepartObject&&this.getPatchFromBindig(this.editSparepartObject)}ngOnInit(){this.getAddFromBinding(),this.getDropdownCompanyList(),this.editSparepartObject&&this.getPatchFromBindig(this.editSparepartObject)}getPatchFromBindig(t){t.sparePartImageURL?(this.isSecondImageVisible=!0,this.backgroud_img1=this.imageUrl+t.sparePartImageURL):(this.isSecondImageVisible=!1,this.backgroud_img1="../../../../../assets/images/placeholderimage.png"),this.selectedDropDownCompanyIdValue=t.companyId,this.selectedDropDownCategoryIdValue=t.categoryID,this.selectedDropDownSubCategoryIdValue=t.subCategoryID,this.getDropdownCategoryList(),this.getDropdownSubCategoryList();const r=t?.warrentyExpDate.split("-");if(3===r.length){const a=parseInt(r[0],10),i=parseInt(r[1],10)-1,n=parseInt(r[2],10),m=new Date(n,i,a);this.addEditSpareForm.patchValue({SparePartName:t.sparePartName,PartNumber:t.partNumber?t.partNumber:"NA",Modal:t.modal?t.modal:"NA",Specification:t.specification,WarrentyDuration:t.warrentyDuration?t.warrentyDuration:"12",WarrentyExpDate:m,companyId:t.companyId,Category:t.categoryID,subCategory:t.subCategoryID})}}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}onDropdownCompanyValueChange(t){this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownCategoryList=[],this.getDropdownCategoryList()}onDropdownCategoryValueChange(t){this.selectedDropDownSubCategoryIdValue=null,this.getDropdownSubCategoryList()}onDropdownSubCategoryValueChange(t){}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(r=>{this.arrayListDropDownCategoryList=r.list})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(r=>{this.arrayListDropDownSubCategoryList=r.list})}getAddFromBinding(){this.backgroud_img="../../../../../assets/images/placeholderimage.png",this.addEditSpareForm=this.formBuilder.group({companyId:[null,[d.kI.required]],Category:[null,[d.kI.required]],subCategory:[null,[d.kI.required]],SparePartName:["",[d.kI.required]],PartNumber:["NA",d.kI.required],Modal:["NA",d.kI.required],Specification:["NA",d.kI.required],WarrentyDuration:["12",d.kI.required],WarrentyExpDate:["",d.kI.required],SparePartImageBase64:[""]})}get SparePartName(){return this.addEditSpareForm.get("SparePartName")}get companyId(){return this.addEditSpareForm.get("companyId")}get PartNumber(){return this.addEditSpareForm.get("PartNumber")}get Modal(){return this.addEditSpareForm.get("Modal")}get Specification(){return this.addEditSpareForm.get("Specification")}get WarrentyDuration(){return this.addEditSpareForm.get("WarrentyDuration")}get WarrentyExpDate(){return this.addEditSpareForm.get("WarrentyExpDate")}get SparePartImageBase64(){return this.addEditSpareForm.get("SparePartImageBase64")}get Category(){return this.addEditSpareForm.get("Category")}get subCategory(){return this.addEditSpareForm.get("subCategory")}onSelectFile(t){if(t.target.files&&t.target.files[0]){var r=new FileReader;r.onload=n=>{this.backgroud_img=n.target.result,this.isFirstImageVisible=!0},r.onerror=()=>{this.backgroud_img="../../../../../assets/images/placeholderimage.png",this.SparePartImageBase64.setValue(""),this.isFirstImageVisible=!1},/^(image)\/(jpe?g|png|gif|bmp)$/i.test(t.target.files[0].type)?(r.readAsDataURL(t.target.files[0]),this.isFirstImageVisible=!0):(this.backgroud_img="../../../../../assets/images/placeholderimage.png",this.SparePartImageBase64.setValue(""),this.isFirstImageVisible=!1)}else this.backgroud_img="../../../../../assets/images/placeholderimage.png",this.SparePartImageBase64.setValue(""),this.isFirstImageVisible=!1}addSparePart(){if(this.addEditSpareForm.valid){this.addSpareLoading=!0;let r,t=this.addEditSpareForm.value;r="../../../../../assets/images/placeholderimage.png"==this.backgroud_img?null:this.backgroud_img.replace(/^data:image\/[a-z]+;base64,/,"");let a={SparePartName:t?.SparePartName,PartNumber:t?.PartNumber,Modal:t?.Modal,Specification:t?.Specification,WarrentyDuration:t?.WarrentyDuration,WarrentyExpDate:this.dateFormatter(t?.WarrentyExpDate),CategoryID:t?.Category,SubCategoryID:t?.subCategory,SparePartImageBase64:r,CompanyId:t.companyId};this.saveSpare(a)}else this.Error("Please fill the mandatory fields")}editSparePart(){if(this.addEditSpareForm.valid){let t=this.addEditSpareForm.value,r={SparePartName:t?.SparePartName,PartNumber:t?.PartNumber,Modal:t?.Modal,Specification:t?.Specification,WarrentyDuration:t?.WarrentyDuration,WarrentyExpDate:this.dateFormatter(t?.WarrentyExpDate),CategoryID:t?.Category,SubCategoryID:t?.subCategory,CompanyId:t.companyId,AssetSparePartId:this.editSparepartObject.assetSparePartId};this.editSpareLoading=!0,this.updateSpare(r)}else this.Error("Please fill the mandatory fields")}saveSpare(t){this.addSpareLoading=!0,this.spareService.addSpare(t).subscribe(r=>{this.addSpareLoading=!1,this.addEditSpareFormloding=!1,this.Success(r),this.addEditSpareForm.reset(),this.loadList.emit({status:"spareAdd"}),this.modal.dismissAll(),location.reload()},r=>{this.addEditSpareFormloding=!1,this.addSpareLoading=!1,this.Error(r)})}updateSpare(t){this.editSpareLoading=!0,this.spareService.postUpdatespare(t).subscribe(r=>{this.editSpareLoading=!1,this.Success(r),this.addEditSpareForm.reset(),this.editSparepartObject=null,this.loadList.emit({status:"spareAdd"}),this.modal.dismissAll()},r=>{this.editSpareLoading=!1,this.Error(r)})}Success(t){h().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}Error(t){h().fire({toast:!0,position:"top-end",icon:"warning",title:t.error.message||t.message,showConfirmButton:!1,timer:2e3})}close(){this.editSparepartObject=null,this.modal.dismissAll()}closeEdit(){this.loadList.emit({status:"spareAdd"}),this.addEditSpareForm.reset(),this.modal.dismissAll()}crossFirstImage(t){t&&(this.backgroud_img="../../../../../assets/images/placeholderimage.png",this.isFirstImageVisible=!1,this.resetFileInput("company-logo-input"))}crossSecondImage(t){t&&h().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#FF3366",confirmButtonText:"<span class='swal2-confirm '> Yes, remove it!</span>"}).then(r=>{r.isConfirmed&&(this.saveImage("delete"),this.backgroud_img1="../../../../../../assets/images/placeholderimage.png",this.isSecondImageVisible=!1,this.resetFileInput("company-logo-input"))})}onSelectFileEdit(t){if(t.target.files&&t.target.files[0]){var r=new FileReader;r.readAsDataURL(t.target.files[0]),r.onload=a=>{this.backgroud_img1=a.target.result,this.saveImage("update")}}}saveImage(t){this.spareService.UpdateSparePartImageProfile({assetSparePartId:this.editSparepartObject.assetSparePartId,SparePartImageBase64:"../../../../../assets/images/placeholderimage.png"!==this.backgroud_img1?this.backgroud_img1.split(",")[1]:null}).subscribe(r=>{this.Success(r),this.isSecondImageVisible="update"==t},r=>{this.Error(r)})}dateFormatter(t){const r=J(t).format("YYYY-MM-DD");return"1970-01-01"===r?null:r}resetFileInput(t){const r=document.getElementById(t);r&&(r.value="")}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(d.qu),e.Y36(c.L),e.Y36(_.F0),e.Y36(l.FF),e.Y36(D.V),e.Y36(u.uU))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-form-spare"]],inputs:{AddEditShowHide:"AddEditShowHide",editSparepartObject:"editSparepartObject"},outputs:{loadList:"loadList"},features:[e.TTD],decls:69,vars:48,consts:[[3,"formGroup"],[1,"row","g-3"],["class","col-lg-12",4,"ngIf"],[1,"col-lg-6"],["for","companyName",1,"form-label"],[1,"starRequried"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName","formControlName","companyId",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[4,"ngIf"],["for","PartNumber",1,"form-label"],["type","text","id","PartNumber","formControlName","PartNumber","placeholder","Part Number ",1,"form-control"],["for","category",1,"form-label"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","formControlName","Category","for","categoryName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["for","sub-category",1,"form-label"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select SubCategory ","for","subCategoryName","formControlName","subCategory",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["for","Modal",1,"form-label"],["type","text","id","Modal","formControlName","Modal","placeholder","Modal ",1,"form-control"],["for","Specification",1,"form-label"],["type","text","id","Specification","formControlName","Specification","placeholder","Specification ",1,"form-control"],["for","WarrentyDuration",1,"form-label"],[1,"input-group"],["type","number","id","WarrentyDuration","formControlName","WarrentyDuration","placeholder","Warranty Duration ",1,"form-control"],[1,"input-group-text"],["for","WarrentyExpDate",1,"form-label"],["type","text","formControlName","WarrentyExpDate","placeholder","Warranty Exp Date","mwlFlatpickr","",1,"form-control","flatpickr-input",3,"altInput","enableTime","convertModelValue","dateFormat"],[1,"col-lg-12","my-4"],[1,"hstack","gap-2","justify-content-end"],["type","button","class","btn btn-danger","data-bs-dismiss","modal",3,"click",4,"ngIf"],["type","submit","class","btn btn-success","id","add-btn",3,"disabled","click",4,"ngIf"],[1,"col-lg-12"],[1,"text-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","bottom-0","end-0"],["for","company-logo-input","class","mb-0","data-bs-toggle","tooltip","data-bs-placement","right","title","Select Image",4,"ngIf"],["class","mb-0","data-bs-toggle","tooltip","data-bs-placement","right","title","Remove Image",3,"click",4,"ngIf"],["id","company-logo-input","type","file","accept","image/png, image/gif, image/jpeg","formControlName","SparePartImageBase64",1,"form-control","d-none",3,"change"],[1,"avatar-lg","p-1"],[1,"avatar-title","bg-light","rounded-circle"],["id","companylogo-img",1,"avatar-md","rounded-circle","object-fit-cover",3,"src"],[1,"fs-13","mt-3"],["for","owner-field",1,"form-label"],["type","text","id","SparePartName","name","SparePartName","formControlName","SparePartName","placeholder","Spare Part Name",1,"form-control"],["for","company-logo-input","data-bs-toggle","tooltip","data-bs-placement","right","title","Select Image",1,"mb-0"],[1,"avatar-xs","cursor-pointer"],[1,"avatar-title","bg-light","border","rounded-circle","text-muted"],[1,"ri-image-fill"],["data-bs-toggle","tooltip","data-bs-placement","right","title","Remove Image",1,"mb-0",3,"click"],[1,"ri-close-circle-fill"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","submit","id","add-btn",1,"btn","btn-success",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,a){1&r&&(e.TgZ(0,"form",0)(1,"div",1),e.YNc(2,Y,18,8,"div",2)(3,W,18,8,"div",2),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Company "),e.TgZ(7,"span",5),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"ng-select",6),e.NdJ("change",function(n){return a.onDropdownCompanyValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCompanyIdValue=n}),e.qZA(),e.YNc(10,X,2,1,"div",7),e.qZA(),e.TgZ(11,"div",3)(12,"label",8),e._uU(13,"Part Number "),e.TgZ(14,"span",5),e._uU(15,"*"),e.qZA()(),e._UZ(16,"input",9),e.YNc(17,te,2,1,"div",7),e.qZA(),e.TgZ(18,"div",3)(19,"label",10),e._uU(20,"Category"),e.TgZ(21,"span",5),e._uU(22,"*"),e.qZA()(),e.TgZ(23,"ng-select",11),e.NdJ("change",function(n){return a.onDropdownCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCategoryIdValue=n}),e.qZA(),e.YNc(24,re,2,1,"div",7),e.qZA(),e.TgZ(25,"div",3)(26,"label",12),e._uU(27,"Sub-Category"),e.TgZ(28,"span",5),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"ng-select",13),e.NdJ("change",function(n){return a.onDropdownSubCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownSubCategoryIdValue=n}),e.qZA(),e.YNc(31,ie,2,1,"div",7),e.qZA(),e.TgZ(32,"div",3)(33,"label",14),e._uU(34,"Modal "),e.TgZ(35,"span",5),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",15),e.YNc(38,se,2,1,"div",7),e.qZA(),e.TgZ(39,"div",3)(40,"label",16),e._uU(41,"Specification "),e.TgZ(42,"span",5),e._uU(43,"*"),e.qZA()(),e._UZ(44,"input",17),e.YNc(45,pe,2,1,"div",7),e.qZA(),e.TgZ(46,"div",3)(47,"label",18),e._uU(48,"Warranty Duration "),e.TgZ(49,"span",5),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"div",19),e._UZ(52,"input",20),e.TgZ(53,"span",21),e._uU(54,"Month"),e.qZA()(),e.YNc(55,ce,2,1,"div",7),e.qZA(),e.TgZ(56,"div",3)(57,"label",22),e._uU(58,"Warranty Exp Date "),e.TgZ(59,"span",5),e._uU(60,"*"),e.qZA()(),e._UZ(61,"input",23),e.YNc(62,ge,2,1,"div",7),e.qZA()(),e.TgZ(63,"div",24)(64,"div",25),e.YNc(65,me,2,0,"button",26)(66,_e,2,0,"button",26)(67,Se,3,2,"button",27)(68,ye,3,2,"button",27),e.qZA()()()),2&r&&(e.Q6J("formGroup",a.addEditSpareForm),e.xp6(2),e.Q6J("ngIf",a.editSparepartObject),e.xp6(1),e.Q6J("ngIf",!a.editSparepartObject),e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!1)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(1),e.Q6J("ngIf",a.companyId.invalid&&a.companyId.touched),e.xp6(6),e.ekj("is-invalid",a.PartNumber.invalid&&a.PartNumber.touched)("is-valid",a.PartNumber.valid&&a.PartNumber.touched),e.xp6(1),e.Q6J("ngIf",a.PartNumber.invalid&&a.PartNumber.touched),e.xp6(6),e.Q6J("items",a.arrayListDropDownCategoryList)("clearable",!1)("ngModel",a.selectedDropDownCategoryIdValue),e.xp6(1),e.Q6J("ngIf",(null==a.Category?null:a.Category.invalid)&&(null==a.Category?null:a.Category.touched)),e.xp6(6),e.Q6J("items",a.arrayListDropDownSubCategoryList)("clearable",!1)("ngModel",a.selectedDropDownSubCategoryIdValue),e.xp6(1),e.Q6J("ngIf",(null==a.subCategory?null:a.subCategory.invalid)&&(null==a.subCategory?null:a.subCategory.touched)),e.xp6(6),e.ekj("is-invalid",a.Modal.invalid&&a.Modal.touched)("is-valid",a.Modal.valid&&a.Modal.touched),e.xp6(1),e.Q6J("ngIf",a.Modal.invalid&&a.Modal.touched),e.xp6(6),e.ekj("is-invalid",a.Specification.invalid&&a.Specification.touched)("is-valid",a.Specification.valid&&a.Specification.touched),e.xp6(1),e.Q6J("ngIf",a.Specification.invalid&&a.Specification.touched),e.xp6(7),e.ekj("is-invalid",a.WarrentyDuration.invalid&&a.WarrentyDuration.touched)("is-valid",a.WarrentyDuration.valid&&a.WarrentyDuration.touched),e.xp6(3),e.Q6J("ngIf",a.WarrentyDuration.invalid&&a.WarrentyDuration.touched),e.xp6(6),e.ekj("is-invalid",a.WarrentyExpDate.invalid&&a.WarrentyExpDate.touched)("is-valid",a.WarrentyExpDate.valid&&a.WarrentyExpDate.touched),e.Q6J("altInput",!1)("enableTime",!1)("convertModelValue",!0)("dateFormat","d-m-Y"),e.xp6(1),e.Q6J("ngIf",a.WarrentyExpDate.invalid&&a.WarrentyExpDate.touched),e.xp6(3),e.Q6J("ngIf",!a.editSparepartObject),e.xp6(1),e.Q6J("ngIf",a.editSparepartObject),e.xp6(1),e.Q6J("ngIf",!a.editSparepartObject),e.xp6(1),e.Q6J("ngIf",a.editSparepartObject))},dependencies:[u.O5,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.sg,d.u,v.w9,U.as],styles:[".ngx-datatable[_ngcontent-%COMP%]:not(.cell-selection)     .datatable-header-cell{border-top:0;border-bottom-width:1px;font-size:12px;text-transform:uppercase;color:#686868}.ngx-datatable[_ngcontent-%COMP%]:not(.cell-selection)     .datatable-header-cell i{margin-left:.325rem}.ng-select.custom[_ngcontent-%COMP%]{border:0px;min-height:0px;max-height:30px;border-radius:0}.ng-select.custom[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:0px;max-height:30px;border-radius:0}.ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{min-height:0px;max-height:30px;border-radius:0}.image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:0%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:200px;width:180px;border:1px dashed lightgrey;padding:10px;border-radius:0%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:0%;z-index:1}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}.image-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.spare-text-image[_ngcontent-%COMP%]{display:flex;text-align:center;flex-direction:column;justify-content:space-evenly;align-items:center}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:0%}.fa-times-circle[_ngcontent-%COMP%]{color:#727cf5;font-size:20px}.icon-cross[_ngcontent-%COMP%]{position:relative;top:9px;z-index:1000;left:85px}"]})}}return o})();var O=p(7625);function Ce(o,s){if(1&o&&(e.TgZ(0,"div",9)(1,"label",21),e._uU(2,"Warranty Duration"),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.hij("",(null==t.viewSparepartObject?null:t.viewSparepartObject.warrentyDuration)||"-"," Month")}}let L=(()=>{class o{constructor(t,r){this.modal=t,this.lightbox=r,this.baseUrl=S.N.apiUrl}ngOnInit(){this.viewSparepartObject=this.viewSparepartObject}ngOnChanges(t){this.viewSparepartObject=this.viewSparepartObject}close(){this.viewSparepartObject=null,this.modal.dismissAll()}open(t){let a=[];a.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(a)}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(l.FF),e.Y36(O.ey))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-spare"]],inputs:{spareDetails:"spareDetails",viewSparepartObject:"viewSparepartObject"},features:[e.TTD],decls:50,vars:10,consts:[[1,"row","g-3"],[1,"col-lg-12","mb-3"],[1,"text-center"],[1,"position-relative","d-inline-block"],[1,"position-absolute","bottom-0","end-0"],[1,"avatar-lg","p-1"],[1,"avatar-title","bg-light","rounded-circle"],["id","companylogo-img",1,"avatar-md","rounded-circle","object-fit-cover",3,"src","click"],[1,"fs-16","mt-3"],[1,"col-lg-6"],["for","companyName",1,"form-label"],["for","PartNumber",1,"form-label"],["for","category",1,"form-label"],["for","sub-category",1,"form-label"],["for","Modal",1,"form-label"],["for","Specification",1,"form-label"],["class","col-lg-6",4,"ngIf"],["for","WarrentyExpDate",1,"form-label"],[1,"col-lg-12","my-4"],[1,"hstack","gap-2","justify-content-end"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["for","WarrentyDuration",1,"form-label"]],template:function(r,a){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"img",7),e.NdJ("click",function(){return a.open(a.viewSparepartObject.sparePartImageURL?a.baseUrl+a.viewSparepartObject.sparePartImageURL:"../../../../../assets/images/placeholderimage.png")}),e.qZA()()()(),e.TgZ(8,"h5",8),e._uU(9),e.qZA()()(),e.TgZ(10,"div",9)(11,"label",10),e._uU(12,"Company"),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA()(),e.TgZ(15,"div",9)(16,"label",11),e._uU(17,"Part Number"),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA()(),e.TgZ(20,"div",9)(21,"label",12),e._uU(22,"Category"),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.qZA()(),e.TgZ(25,"div",9)(26,"label",13),e._uU(27,"Sub-Category"),e.qZA(),e.TgZ(28,"p"),e._uU(29),e.qZA()(),e.TgZ(30,"div",9)(31,"label",14),e._uU(32,"Modal"),e.qZA(),e.TgZ(33,"p"),e._uU(34),e.qZA()(),e.TgZ(35,"div",9)(36,"label",15),e._uU(37,"Specification"),e.qZA(),e.TgZ(38,"p"),e._uU(39),e.qZA()(),e.YNc(40,Ce,5,1,"div",16),e.TgZ(41,"div",9)(42,"label",17),e._uU(43,"Warranty Exp Date"),e.qZA(),e.TgZ(44,"p"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",18)(47,"div",19)(48,"button",20),e.NdJ("click",function(){return a.close()}),e._uU(49," Close "),e.qZA()()()),2&r&&(e.xp6(7),e.Q6J("src",a.viewSparepartObject.sparePartImageURL?a.baseUrl+(null==a.viewSparepartObject?null:a.viewSparepartObject.sparePartImageURL):"../../../../../../assets/images/placeholderimage.png",e.LSH),e.xp6(2),e.Oqu(null==a.viewSparepartObject?null:a.viewSparepartObject.sparePartName),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.companyName)||"-"),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.partNumber)||"-"),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.categoryName)||"-"),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.subCategoryName)||"-"),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.modal)||"-"),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.specification)||"-"),e.xp6(1),e.Q6J("ngIf",null==a.viewSparepartObject?null:a.viewSparepartObject.warrentyDuration),e.xp6(5),e.Oqu((null==a.viewSparepartObject?null:a.viewSparepartObject.warrentyExpDate)||"-"))},dependencies:[u.O5],styles:[".spare-img[_ngcontent-%COMP%]{width:100%;height:200px}.qr-img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:0}.card-img[_ngcontent-%COMP%]{box-shadow:0 18px 30px #00000014;border:1px solid #e6e6e6}"]})}}return o})();var N=p(2438),A=p(2181),V=p(3620),k=p(3997),M=p(9397);const fe=["inputer"];function De(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(34);return e.KtG(i.editHandler(a,n))}),e._UZ(2,"i",51),e._uU(3," Edit"),e.qZA()()}}function ve(o,s){1&o&&e._UZ(0,"li",52)}function we(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(38);return e.KtG(i.openDeleteModal(n,null==a?null:a.assetSparePartId))}),e._UZ(2,"i",54),e._uU(3," Delete"),e.qZA()()}}function Ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("sparePartName_"+i.sparePartName))}),e.TgZ(2,"a",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("companyName_"+i.sparePartName))}),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",42)(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"span")(19,"div",43)(20,"button",44),e._UZ(21,"i",45),e.qZA(),e.TgZ(22,"ul",46)(23,"li")(24,"a",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._UZ(25,"i",48),e._uU(26," View "),e.qZA()(),e.YNc(27,De,4,0,"li",49)(28,ve,1,0,"li",50)(29,we,4,0,"li",49),e.qZA()()()()()}if(2&o){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("id","sparePartName_"+t.sparePartName),e.xp6(2),e.Oqu(t.sparePartName),e.xp6(1),e.Q6J("id","companyName_"+t.sparePartName),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.modal," "),e.xp6(2),e.hij(" ",t.partNumber," "),e.xp6(2),e.hij(" ",t.warrentyExpDate," "),e.xp6(2),e.hij(" ",t.warrentyDuration," "),e.xp6(2),e.Tol(r.returnStatusBadgeClassesStatus(null==t?null:t.sparePartStatusId)),e.xp6(1),e.Oqu(null==t?null:t.sparePartStatusName),e.xp6(11),e.Q6J("ngIf",r.returnValueMenu.edit),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete)}}function Ze(o,s){1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2,"No Spare Data Found."),e.qZA()())}function Le(o,s){1&o&&(e._UZ(0,"i",60),e._uU(1," Prev "))}function xe(o,s){1&o&&(e._uU(0," Next "),e._UZ(1,"i",61))}function Te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ngb-pagination",57),e.NdJ("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.page=a)})("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.OnChangesPage(a))}),e.YNc(1,Le,2,0,"ng-template",58)(2,xe,2,0,"ng-template",59),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Ne(o,s){if(1&o&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"Spare Part"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Part No"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Warranty"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Duration"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,Ie,30,14,"tr",33),e.qZA()(),e.YNc(22,Ze,3,0,"div",34),e.qZA(),e.TgZ(23,"div",35)(24,"div",36)(25,"div",37),e._uU(26),e.qZA()(),e.TgZ(27,"div",36)(28,"div",38),e.YNc(29,Te,3,5,"ngb-pagination",39),e.qZA()()()),2&o){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",t.spareList),e.xp6(1),e.Q6J("ngIf",0===t.spareList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function Ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("src",t.imageUrl+(null==t.spareQrData?null:t.spareQrData.sparePartQrCodeURL),e.LSH)}}function Ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Add Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",68),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}}function ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Edit Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",69),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("editSparepartObject",t.editSparepartObject)}}function Me(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"View Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67),e._UZ(5,"app-view-spare",70),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("viewSparepartObject",t.viewSparepartObject)}}function Pe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"button",73),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",67)(4,"div",74),e._UZ(5,"lord-icon",75),e.TgZ(6,"div",76)(7,"h4"),e._uU(8,"You are about to delete a Spare Part ?"),e.qZA(),e.TgZ(9,"p",77),e._uU(10," Deleting your spare part will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",78)(12,"button",79),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._UZ(13,"i",80),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let qe=(()=>{class o{constructor(t,r,a,i,n,m,b,y){this.router=t,this.modalService=r,this.spareService=a,this.authService=i,this.formBuilder=n,this.commonFunctionService=m,this.dropdownServices=b,this.menuService=y,this.isProject=!1,this.label="Spare Management",this.breadCrumbItems=[{label:"Spare"},{label:"Spare List",active:!0}],this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.spareList=[],this.page=1,this.collectionSize=0,this.imageUrl=S.N.apiUrl,this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.arrayListDropDownCompany=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownSpareStatus=[],this.spareStatusCountObject={totalInserviceAssetSparePart:0,totalReadyStockAssetAssetSparePart:0,totalEndOffLifeAsset:0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownCompanyList(),this.getDropdownSpareStatusList(),localStorage.getItem("objectSerachForRaedySpare")?this.getObjectAfterRefresh():this.loadData()}getV2_AssetStatusCount(){this.spareService.getV2_SparePartAssetStatusCount().subscribe(t=>{this.spareStatusCountObject=t.data})}openModalAddSpare(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.spareService.getSpartPartList_ReadyStock_ByPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.spareList=t.obj,this.setObjectBeforeRefesh(),this.spareList.length>0?(this.totalRecordsFromApi=t.obj[0].totalCount,this.from=t.obj.reduce((r,a)=>a.rowNum<r?a.rowNum:r,t.obj[0].rowNum),this.to=t.obj.reduce((r,a)=>a.rowNum>r?a.rowNum:r,t.obj[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t,r){this.viewSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}editHandler(t,r){this.editSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}onTypeSpareNameChange(t){(0===this.typeSpareNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSparePartName=this.typeSpareNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownSpareStatusIdValue=null,this.typeSpareNameValue=null,this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.page=1,localStorage.removeItem("objectSerachForRaedySpare"),this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(r=>{this.arrayListDropDownCategoryList=r.list,this.setObjectBeforeRefesh()})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(r=>{this.arrayListDropDownSubCategoryList=r.list,this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.companyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.getDropdownSubCategoryList(),this.loadData()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}getDropdownSpareStatusList(){this.spareService.getSparePartStatusList().subscribe(t=>{this.arrayListDropDownSpareStatus=t})}onDropdownSpareStatusValueChange(t){this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,this.loadData()}openModal(t){this.submitted=!1,this.modalService.open(t,{size:"md",centered:!0})}afterSubmitSpareData(t){this.editSparepartObject=null,this.getObjectAfterRefresh()}viewQrCodeImage(t,r){this.spareQrData=r,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}ngAfterViewInit(){(0,N.R)(this.input.nativeElement,"input").pipe((0,A.h)(Boolean),(0,V.b)(1e3),(0,k.x)(),(0,M.b)(t=>{this.onTypeSpareNameChange(!0)})).subscribe()}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.typeSpareNameValue&&(t.SearchSparePartName=this.typeSpareNameValue),this.selectedDropDownSpareStatusIdValue&&(t.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForRaedySpare",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForRaedySpare"));this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.typeSpareNameValue=t.SearchSparePartName?t.SearchSparePartName:null,this.selectedDropDownSpareStatusIdValue=t.SearchSparePartStatusId?t.SearchSparePartStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchSparePartName=this.typeSpareNameValue,this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openDeleteModal(t,r){this.deleteId=r,this.modalService.open(t,{centered:!0})}deleteData(t){this.spareService.postDeletespare({AssetSparePartId:this.deleteId}).subscribe({next:r=>{this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData(),this.successForDeletespareData(r)}})}successForDeletespareData(t){h().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(_.F0),e.Y36(l.FF),e.Y36(c.L),e.Y36(g.u),e.Y36(d.qu),e.Y36(w.K),e.Y36(D.V),e.Y36(I.l))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-ready-stock-spare-list"]],viewQuery:function(r,a){if(1&r&&e.Gf(fe,7),2&r){let i;e.iGM(i=e.CRH())&&(a.input=i.first)}},decls:39,vars:15,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","g-1"],[1,"col-lg","mb-sm-2"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select SubCategory ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for spare name",1,"form-control",3,"ngModel","input","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","mb-sm-2"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["role","document"],["addSpareModel",""],["editSpareModel",""],["viewSpareModel",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"title",3,"id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"status"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[1,"text-muted"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-body"],[3,"loadList"],[3,"editSparepartObject","loadList"],[3,"viewSparepartObject"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,a){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ng-select",6),e.NdJ("change",function(n){return a.onDropdownCompanyValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCompanyIdValue=n}),e.qZA()(),e.TgZ(7,"div",5)(8,"ng-select",7),e.NdJ("change",function(n){return a.onDropdownCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCategoryIdValue=n}),e.qZA()(),e.TgZ(9,"div",5)(10,"ng-select",8),e.NdJ("change",function(n){return a.onDropdownSubCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownSubCategoryIdValue=n}),e.qZA()(),e.TgZ(11,"div",5)(12,"div",9)(13,"input",10,11),e.NdJ("input",function(){return a.onTypeSpareNameChange(!1)})("ngModelChange",function(n){return a.typeSpareNameValue=n}),e.qZA(),e._UZ(15,"i",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14)(18,"button",15),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(19,"i",16),e._uU(20," Clear "),e.qZA()()()()(),e.TgZ(21,"div",17)(22,"div")(23,"ul",18,19)(25,"li",20),e.YNc(26,Ne,30,6,"ng-template",21),e.qZA()(),e.TgZ(27,"div",22),e._UZ(28,"div",23),e.qZA()()()()()(),e.YNc(29,Ae,6,1,"ng-template",null,24,e.W1O)(31,Ve,6,0,"ng-template",25,26,e.W1O)(33,ke,6,1,"ng-template",25,27,e.W1O)(35,Me,6,1,"ng-template",25,28,e.W1O)(37,Pe,17,0,"ng-template",null,29,e.W1O)),2&r){const i=e.MAs(24);e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownCategoryList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownCategoryIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownSubCategoryList)("disabled",!a.selectedDropDownCategoryIdValue)("clearable",!0)("ngModel",a.selectedDropDownSubCategoryIdValue),e.xp6(3),e.Q6J("ngModel",a.typeSpareNameValue),e.xp6(10),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",i)}},dependencies:[u.sg,u.O5,d.Fj,d.JJ,d.On,l.jt,l.iD,l.Vi,l.uN,l.Pz,l.nv,l.Is,l.Dy,l.N9,l.GZ,l.ju,l._L,v.w9,Z,L]})}}return o})();const Ue=["inputer"];function Oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(34);return e.KtG(i.editHandler(a,n))}),e._UZ(2,"i",51),e._uU(3," Edit"),e.qZA()()}}function je(o,s){1&o&&e._UZ(0,"li",52)}function Fe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(38);return e.KtG(i.openDeleteModal(n,null==a?null:a.assetSparePartId))}),e._UZ(2,"i",54),e._uU(3," Delete"),e.qZA()()}}function Je(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("sparePartName_"+i.sparePartName))}),e.TgZ(2,"a",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("companyName_"+i.sparePartName))}),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td",42)(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"span")(19,"div",43)(20,"button",44),e._UZ(21,"i",45),e.qZA(),e.TgZ(22,"ul",46)(23,"li")(24,"a",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._UZ(25,"i",48),e._uU(26," View "),e.qZA()(),e.YNc(27,Oe,4,0,"li",49)(28,je,1,0,"li",50)(29,Fe,4,0,"li",49),e.qZA()()()()()}if(2&o){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("id","sparePartName_"+t.sparePartName),e.xp6(2),e.Oqu(t.sparePartName),e.xp6(1),e.Q6J("id","companyName_"+t.sparePartName),e.xp6(1),e.hij(" > ",t.companyName," "),e.xp6(2),e.hij(" ",t.modal," "),e.xp6(2),e.hij(" ",t.partNumber," "),e.xp6(2),e.hij(" ",t.warrentyExpDate," "),e.xp6(2),e.hij(" ",t.warrentyDuration," "),e.xp6(2),e.Tol(r.returnStatusBadgeClassesStatus(null==t?null:t.sparePartStatusId)),e.xp6(1),e.Oqu(null==t?null:t.sparePartStatusName),e.xp6(11),e.Q6J("ngIf",r.returnValueMenu.edit),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete)}}function Ee(o,s){1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2,"No Spare Data Found."),e.qZA()())}function Re(o,s){1&o&&(e._UZ(0,"i",60),e._uU(1," Prev "))}function Qe(o,s){1&o&&(e._uU(0," Next "),e._UZ(1,"i",61))}function Ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ngb-pagination",57),e.NdJ("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.page=a)})("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.OnChangesPage(a))}),e.YNc(1,Re,2,0,"ng-template",58)(2,Qe,2,0,"ng-template",59),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Ye(o,s){if(1&o&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"Spare Part"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Type"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Part No"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Warranty"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Duration"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Status"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Action"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,Je,30,14,"tr",33),e.qZA()(),e.YNc(22,Ee,3,0,"div",34),e.qZA(),e.TgZ(23,"div",35)(24,"div",36)(25,"div",37),e._uU(26),e.qZA()(),e.TgZ(27,"div",36)(28,"div",38),e.YNc(29,Ge,3,5,"ngb-pagination",39),e.qZA()()()),2&o){const t=e.oxw();e.xp6(21),e.Q6J("ngForOf",t.spareList),e.xp6(1),e.Q6J("ngIf",0===t.spareList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function He(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("src",t.imageUrl+(null==t.spareQrData?null:t.spareQrData.sparePartQrCodeURL),e.LSH)}}function ze(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Add Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",68),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}}function Be(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Edit Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",69),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("editSparepartObject",t.editSparepartObject)}}function Ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"View Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67),e._UZ(5,"app-view-spare",70),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("viewSparepartObject",t.viewSparepartObject)}}function We(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"button",73),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",67)(4,"div",74),e._UZ(5,"lord-icon",75),e.TgZ(6,"div",76)(7,"h4"),e._uU(8,"You are about to delete a Spare Part ?"),e.qZA(),e.TgZ(9,"p",77),e._uU(10," Deleting your spare part will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",78)(12,"button",79),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._UZ(13,"i",80),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let $e=(()=>{class o{constructor(t,r,a,i,n,m,b,y){this.router=t,this.modalService=r,this.spareService=a,this.authService=i,this.formBuilder=n,this.commonFunctionService=m,this.dropdownServices=b,this.menuService=y,this.isProject=!1,this.label="Spare Management",this.breadCrumbItems=[{label:"Spare"},{label:"Spare List",active:!0}],this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.spareList=[],this.page=1,this.collectionSize=0,this.imageUrl=S.N.apiUrl,this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.arrayListDropDownCompany=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownSpareStatus=[],this.spareStatusCountObject={totalInserviceAssetSparePart:0,totalReadyStockAssetAssetSparePart:0,totalEndOffLifeAsset:0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownCompanyList(),this.getDropdownSpareStatusList(),localStorage.getItem("objectSerachForEOLSpare")?this.getObjectAfterRefresh():this.loadData()}getV2_AssetStatusCount(){this.spareService.getV2_SparePartAssetStatusCount().subscribe(t=>{this.spareStatusCountObject=t.data})}openModalAddSpare(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.spareService.getSparePartList_EOL_Paging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.spareList=t.obj,this.setObjectBeforeRefesh(),this.spareList.length>0?(this.totalRecordsFromApi=t.obj[0].totalCount,this.from=t.obj.reduce((r,a)=>a.rowNum<r?a.rowNum:r,t.obj[0].rowNum),this.to=t.obj.reduce((r,a)=>a.rowNum>r?a.rowNum:r,t.obj[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t,r){this.viewSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}editHandler(t,r){this.editSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}onTypeSpareNameChange(t){(0===this.typeSpareNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSparePartName=this.typeSpareNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownSpareStatusIdValue=null,this.typeSpareNameValue=null,this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.page=1,localStorage.removeItem("objectSerachForEOLSpare"),this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(r=>{this.arrayListDropDownCategoryList=r.list,this.setObjectBeforeRefesh()})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(r=>{this.arrayListDropDownSubCategoryList=r.list,this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.companyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.getDropdownSubCategoryList(),this.loadData()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}getDropdownSpareStatusList(){this.spareService.getSparePartStatusList().subscribe(t=>{this.arrayListDropDownSpareStatus=t})}onDropdownSpareStatusValueChange(t){this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,this.loadData()}openModal(t){this.submitted=!1,this.modalService.open(t,{size:"md",centered:!0})}afterSubmitSpareData(t){this.editSparepartObject=null,this.getObjectAfterRefresh()}viewQrCodeImage(t,r){this.spareQrData=r,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}ngAfterViewInit(){(0,N.R)(this.input.nativeElement,"input").pipe((0,A.h)(Boolean),(0,V.b)(1e3),(0,k.x)(),(0,M.b)(t=>{this.onTypeSpareNameChange(!0)})).subscribe()}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.typeSpareNameValue&&(t.SearchSparePartName=this.typeSpareNameValue),this.selectedDropDownSpareStatusIdValue&&(t.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForEOLSpare",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForEOLSpare"));this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.typeSpareNameValue=t.SearchSparePartName?t.SearchSparePartName:null,this.selectedDropDownSpareStatusIdValue=t.SearchSparePartStatusId?t.SearchSparePartStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchSparePartName=this.typeSpareNameValue,this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openDeleteModal(t,r){this.deleteId=r,this.modalService.open(t,{centered:!0})}deleteData(t){this.spareService.postDeletespare({AssetSparePartId:this.deleteId}).subscribe({next:r=>{this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData(),this.successForDeletespareData(r)}})}successForDeletespareData(t){h().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(_.F0),e.Y36(l.FF),e.Y36(c.L),e.Y36(g.u),e.Y36(d.qu),e.Y36(w.K),e.Y36(D.V),e.Y36(I.l))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-eol-spare-list"]],viewQuery:function(r,a){if(1&r&&e.Gf(Ue,7),2&r){let i;e.iGM(i=e.CRH())&&(a.input=i.first)}},decls:39,vars:15,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","g-1"],[1,"col-lg","mb-sm-2"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select SubCategory ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for spare name",1,"form-control",3,"ngModel","input","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","mb-sm-2"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["role","document"],["addSpareModel",""],["editSpareModel",""],["viewSpareModel",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"title",3,"id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"status"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[1,"text-muted"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-body"],[3,"loadList"],[3,"editSparepartObject","loadList"],[3,"viewSparepartObject"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,a){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ng-select",6),e.NdJ("change",function(n){return a.onDropdownCompanyValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCompanyIdValue=n}),e.qZA()(),e.TgZ(7,"div",5)(8,"ng-select",7),e.NdJ("change",function(n){return a.onDropdownCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCategoryIdValue=n}),e.qZA()(),e.TgZ(9,"div",5)(10,"ng-select",8),e.NdJ("change",function(n){return a.onDropdownSubCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownSubCategoryIdValue=n}),e.qZA()(),e.TgZ(11,"div",5)(12,"div",9)(13,"input",10,11),e.NdJ("input",function(){return a.onTypeSpareNameChange(!1)})("ngModelChange",function(n){return a.typeSpareNameValue=n}),e.qZA(),e._UZ(15,"i",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14)(18,"button",15),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(19,"i",16),e._uU(20," Clear "),e.qZA()()()()(),e.TgZ(21,"div",17)(22,"div")(23,"ul",18,19)(25,"li",20),e.YNc(26,Ye,30,6,"ng-template",21),e.qZA()(),e.TgZ(27,"div",22),e._UZ(28,"div",23),e.qZA()()()()()(),e.YNc(29,He,6,1,"ng-template",null,24,e.W1O)(31,ze,6,0,"ng-template",25,26,e.W1O)(33,Be,6,1,"ng-template",25,27,e.W1O)(35,Ke,6,1,"ng-template",25,28,e.W1O)(37,We,17,0,"ng-template",null,29,e.W1O)),2&r){const i=e.MAs(24);e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownCategoryList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownCategoryIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownSubCategoryList)("disabled",!a.selectedDropDownCategoryIdValue)("clearable",!0)("ngModel",a.selectedDropDownSubCategoryIdValue),e.xp6(3),e.Q6J("ngModel",a.typeSpareNameValue),e.xp6(10),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",i)}},dependencies:[u.sg,u.O5,d.Fj,d.JJ,d.On,l.jt,l.iD,l.Vi,l.uN,l.Pz,l.nv,l.Is,l.Dy,l.N9,l.GZ,l.ju,l._L,v.w9,Z,L]})}}return o})();const Xe=["inputer"];function et(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(34);return e.KtG(i.editHandler(a,n))}),e._UZ(2,"i",51),e._uU(3," Edit"),e.qZA()()}}function tt(o,s){1&o&&e._UZ(0,"li",52)}function at(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",53),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,i=e.oxw(2),n=e.MAs(38);return e.KtG(i.openDeleteModal(n,null==a?null:a.assetSparePartId))}),e._UZ(2,"i",54),e._uU(3," Delete"),e.qZA()()}}function rt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("sparePartName_"+i.sparePartName))}),e.TgZ(2,"a",41),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("assetName_"+i.sparePartName))}),e._uU(5),e.qZA(),e.TgZ(6,"td",40),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2);return e.KtG(n.expandTitle("companyName_"+i.sparePartName))}),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td",42)(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span")(21,"div",43)(22,"button",44),e._UZ(23,"i",45),e.qZA(),e.TgZ(24,"ul",46)(25,"li")(26,"a",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit,n=e.oxw(2),m=e.MAs(36);return e.KtG(n.viewHandler(i,m))}),e._UZ(27,"i",48),e._uU(28," View "),e.qZA()(),e.YNc(29,et,4,0,"li",49)(30,tt,1,0,"li",50)(31,at,4,0,"li",49),e.qZA()()()()()}if(2&o){const t=s.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("id","sparePartName_"+t.sparePartName),e.xp6(2),e.Oqu(t.sparePartName),e.xp6(1),e.Q6J("id","assetName_"+t.sparePartName),e.xp6(1),e.hij(" ",t.assetName," "),e.xp6(1),e.Q6J("id","companyName_"+t.sparePartName),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.modal," "),e.xp6(2),e.hij(" ",t.partNumber," "),e.xp6(2),e.hij(" ",t.warrentyExpDate," "),e.xp6(2),e.hij(" ",t.warrentyDuration," "),e.xp6(2),e.Tol(r.returnStatusBadgeClassesStatus(null==t?null:t.sparePartStatusId)),e.xp6(1),e.Oqu(null==t?null:t.sparePartStatusName),e.xp6(11),e.Q6J("ngIf",r.returnValueMenu.edit),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete),e.xp6(1),e.Q6J("ngIf",r.returnValueMenu.delete)}}function ot(o,s){1&o&&(e.TgZ(0,"div",55)(1,"p",56),e._uU(2,"No Spare Data Found."),e.qZA()())}function it(o,s){1&o&&(e._UZ(0,"i",60),e._uU(1," Prev "))}function nt(o,s){1&o&&(e._uU(0," Next "),e._UZ(1,"i",61))}function st(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ngb-pagination",57),e.NdJ("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.page=a)})("pageChange",function(a){e.CHM(t);const i=e.oxw(2);return e.KtG(i.OnChangesPage(a))}),e.YNc(1,it,2,0,"ng-template",58)(2,nt,2,0,"ng-template",59),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecordsFromApi)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function lt(o,s){if(1&o&&(e.TgZ(0,"div",30)(1,"table",31)(2,"thead")(3,"tr",32)(4,"th"),e._uU(5,"Spare Part"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Asset Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Company"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Type"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Part No"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Warranty"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Duration"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,rt,32,16,"tr",33),e.qZA()(),e.YNc(24,ot,3,0,"div",34),e.qZA(),e.TgZ(25,"div",35)(26,"div",36)(27,"div",37),e._uU(28),e.qZA()(),e.TgZ(29,"div",36)(30,"div",38),e.YNc(31,st,3,5,"ngb-pagination",39),e.qZA()()()),2&o){const t=e.oxw();e.xp6(23),e.Q6J("ngForOf",t.spareList),e.xp6(1),e.Q6J("ngIf",0===t.spareList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function pt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("src",t.imageUrl+(null==t.spareQrData?null:t.spareQrData.sparePartQrCodeURL),e.LSH)}}function dt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Add Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",68),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}}function ct(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"Edit Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67)(5,"app-form-spare",69),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("editSparepartObject",t.editSparepartObject)}}function ut(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"h5",63),e._uU(2,"View Spare Part"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",67),e._UZ(5,"app-view-spare",70),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("viewSparepartObject",t.viewSparepartObject)}}function gt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"button",73),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",67)(4,"div",74),e._UZ(5,"lord-icon",75),e.TgZ(6,"div",76)(7,"h4"),e._uU(8,"You are about to delete a Spare Part ?"),e.qZA(),e.TgZ(9,"p",77),e._uU(10," Deleting your spare part will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",78)(12,"button",79),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._UZ(13,"i",80),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",81),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}let mt=(()=>{class o{constructor(t,r,a,i,n,m,b,y){this.router=t,this.modalService=r,this.spareService=a,this.authService=i,this.formBuilder=n,this.commonFunctionService=m,this.dropdownServices=b,this.menuService=y,this.isProject=!1,this.label="Spare Management",this.breadCrumbItems=[{label:"Spare"},{label:"Spare List",active:!0}],this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.spareList=[],this.page=1,this.collectionSize=0,this.imageUrl=S.N.apiUrl,this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.arrayListDropDownCompany=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownSpareStatus=[],this.spareStatusCountObject={totalInserviceAssetSparePart:0,totalReadyStockAssetAssetSparePart:0,totalEndOffLifeAsset:0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownCompanyList(),this.getDropdownSpareStatusList(),localStorage.getItem("objectSerachForInServiceSpare")?this.getObjectAfterRefresh():this.loadData()}getV2_AssetStatusCount(){this.spareService.getV2_SparePartAssetStatusCount().subscribe(t=>{this.spareStatusCountObject=t.data})}openModalAddSpare(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.spareService.getSparePartList_InService_Paging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.spareList=t.obj,this.setObjectBeforeRefesh(),this.spareList.length>0?(this.totalRecordsFromApi=t.obj[0].totalCount,this.from=t.obj.reduce((r,a)=>a.rowNum<r?a.rowNum:r,t.obj[0].rowNum),this.to=t.obj.reduce((r,a)=>a.rowNum>r?a.rowNum:r,t.obj[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t,r){this.viewSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}editHandler(t,r){this.editSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}onTypeSpareNameChange(t){(0===this.typeSpareNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSparePartName=this.typeSpareNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownSpareStatusIdValue=null,this.typeSpareNameValue=null,this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.page=1,localStorage.removeItem("objectSerachForInServiceSpare"),this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(r=>{this.arrayListDropDownCategoryList=r.list,this.setObjectBeforeRefesh()})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(r=>{this.arrayListDropDownSubCategoryList=r.list,this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.companyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.getDropdownSubCategoryList(),this.loadData()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}getDropdownSpareStatusList(){this.spareService.getSparePartStatusList().subscribe(t=>{this.arrayListDropDownSpareStatus=t})}onDropdownSpareStatusValueChange(t){this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,this.loadData()}openModal(t){this.submitted=!1,this.modalService.open(t,{size:"md",centered:!0})}afterSubmitSpareData(t){this.editSparepartObject=null,this.getObjectAfterRefresh()}viewQrCodeImage(t,r){this.spareQrData=r,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}ngAfterViewInit(){(0,N.R)(this.input.nativeElement,"input").pipe((0,A.h)(Boolean),(0,V.b)(1e3),(0,k.x)(),(0,M.b)(t=>{this.onTypeSpareNameChange(!0)})).subscribe()}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.typeSpareNameValue&&(t.SearchSparePartName=this.typeSpareNameValue),this.selectedDropDownSpareStatusIdValue&&(t.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForInServiceSpare",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForInServiceSpare"));this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.typeSpareNameValue=t.SearchSparePartName?t.SearchSparePartName:null,this.selectedDropDownSpareStatusIdValue=t.SearchSparePartStatusId?t.SearchSparePartStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchSparePartName=this.typeSpareNameValue,this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openDeleteModal(t,r){this.deleteId=r,this.modalService.open(t,{centered:!0})}deleteData(t){this.spareService.postDeletespare({AssetSparePartId:this.deleteId}).subscribe({next:r=>{this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData(),this.successForDeletespareData(r)}})}successForDeletespareData(t){h().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}expandTitle(t){document.getElementById(t)}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(_.F0),e.Y36(l.FF),e.Y36(c.L),e.Y36(g.u),e.Y36(d.qu),e.Y36(w.K),e.Y36(D.V),e.Y36(I.l))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-in-service-spare"]],viewQuery:function(r,a){if(1&r&&e.Gf(Xe,7),2&r){let i;e.iGM(i=e.CRH())&&(a.input=i.first)}},decls:39,vars:15,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","g-1"],[1,"col-lg","mb-sm-2"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","categoryName","bindValue","categoryId","id","categoryName","placeholder","Select Category","for","categoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["bindLabel","subCategoryName","bindValue","subCategoryId","id","subCategoryName","placeholder","Select SubCategory ","for","subCategoryName",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for spare name",1,"form-control",3,"ngModel","input","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","mb-sm-2"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["role","document"],["addSpareModel",""],["editSpareModel",""],["viewSpareModel",""],["deleteModel",""],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"title",3,"id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"status"],["ngbDropdown","",1,"dropdown","ms-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center"],[1,"text-muted"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-body"],[3,"loadList"],[3,"editSparepartObject","loadList"],[3,"viewSparepartObject"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,a){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ng-select",6),e.NdJ("change",function(n){return a.onDropdownCompanyValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCompanyIdValue=n}),e.qZA()(),e.TgZ(7,"div",5)(8,"ng-select",7),e.NdJ("change",function(n){return a.onDropdownCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownCategoryIdValue=n}),e.qZA()(),e.TgZ(9,"div",5)(10,"ng-select",8),e.NdJ("change",function(n){return a.onDropdownSubCategoryValueChange(n)})("ngModelChange",function(n){return a.selectedDropDownSubCategoryIdValue=n}),e.qZA()(),e.TgZ(11,"div",5)(12,"div",9)(13,"input",10,11),e.NdJ("input",function(){return a.onTypeSpareNameChange(!1)})("ngModelChange",function(n){return a.typeSpareNameValue=n}),e.qZA(),e._UZ(15,"i",12),e.qZA()(),e.TgZ(16,"div",13)(17,"div",14)(18,"button",15),e.NdJ("click",function(){return a.resetSerachVariable()}),e._UZ(19,"i",16),e._uU(20," Clear "),e.qZA()()()()(),e.TgZ(21,"div",17)(22,"div")(23,"ul",18,19)(25,"li",20),e.YNc(26,lt,32,6,"ng-template",21),e.qZA()(),e.TgZ(27,"div",22),e._UZ(28,"div",23),e.qZA()()()()()(),e.YNc(29,pt,6,1,"ng-template",null,24,e.W1O)(31,dt,6,0,"ng-template",25,26,e.W1O)(33,ct,6,1,"ng-template",25,27,e.W1O)(35,ut,6,1,"ng-template",25,28,e.W1O)(37,gt,17,0,"ng-template",null,29,e.W1O)),2&r){const i=e.MAs(24);e.xp6(6),e.Q6J("items",a.arrayListDropDownCompany)("clearable",!0)("ngModel",a.selectedDropDownCompanyIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownCategoryList)("disabled",!a.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",a.selectedDropDownCategoryIdValue),e.xp6(2),e.Q6J("items",a.arrayListDropDownSubCategoryList)("disabled",!a.selectedDropDownCategoryIdValue)("clearable",!0)("ngModel",a.selectedDropDownSubCategoryIdValue),e.xp6(3),e.Q6J("ngModel",a.typeSpareNameValue),e.xp6(10),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",i)}},dependencies:[u.sg,u.O5,d.Fj,d.JJ,d.On,l.jt,l.iD,l.Vi,l.uN,l.Pz,l.nv,l.Is,l.Dy,l.N9,l.GZ,l.ju,l._L,v.w9,Z,L]})}}return o})();function _t(o,s){if(1&o&&e._UZ(0,"span",40),2&o){const t=e.oxw();e.Q6J("countUp",t.spareStatusCountObject.totalReadyStockAssetAssetSparePart)("options",t.option)}}function ht(o,s){1&o&&(e.TgZ(0,"span",41),e._uU(1,"0"),e.qZA())}function St(o,s){if(1&o&&e._UZ(0,"span",40),2&o){const t=e.oxw();e.Q6J("countUp",t.spareStatusCountObject.totalInserviceAssetSparePart)("options",t.option)}}function bt(o,s){1&o&&(e.TgZ(0,"span",41),e._uU(1,"0"),e.qZA())}function yt(o,s){if(1&o&&e._UZ(0,"span",40),2&o){const t=e.oxw();e.Q6J("countUp",t.spareStatusCountObject.totalEndOffLifeAsset)("options",t.option)}}function Ct(o,s){1&o&&(e.TgZ(0,"span",41),e._uU(1,"0"),e.qZA())}function ft(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),i=e.MAs(78);return e.KtG(a.openModalAddSpare(i))}),e._UZ(1,"i",44),e._uU(2," Add Spares "),e.qZA()}}function Dt(o,s){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,ft,3,0,"button",42),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.addButtonShownHide)}}function vt(o,s){1&o&&e._UZ(0,"app-ready-stock-spare-list")}function wt(o,s){1&o&&e._UZ(0,"app-in-service-spare")}function It(o,s){1&o&&e._UZ(0,"app-eol-spare-list")}function Zt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",45)(1,"h5",46),e._uU(2,"Qr-Code"),e.qZA(),e.TgZ(3,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",48),e._UZ(5,"img",49),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("src",t.imageUrl+(null==t.spareQrData?null:t.spareQrData.sparePartQrCodeURL),e.LSH)}}function Lt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",45)(1,"h5",46),e._uU(2,"Add Spare Part"),e.qZA(),e.TgZ(3,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",50)(5,"app-form-spare",51),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}}function xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",45)(1,"h5",46),e._uU(2,"Edit Spare Part"),e.qZA(),e.TgZ(3,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",50)(5,"app-form-spare",52),e.NdJ("loadList",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.afterSubmitSpareData(a))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("editSparepartObject",t.editSparepartObject)}}function Tt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",45)(1,"h5",46),e._uU(2,"View Spare Part"),e.qZA(),e.TgZ(3,"button",47),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",50),e._UZ(5,"app-view-spare",53),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("viewSparepartObject",t.viewSparepartObject)}}function Nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"button",56),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",50)(4,"div",57),e._UZ(5,"lord-icon",58),e.TgZ(6,"div",59)(7,"h4"),e._uU(8,"You are about to delete a Spare Part ?"),e.qZA(),e.TgZ(9,"p",60),e._uU(10," Deleting your spare part will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",61)(12,"button",62),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._UZ(13,"i",63),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",64),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.deleteData(a.deleteId))})("click",function(){const i=e.CHM(t).$implicit;return e.KtG(i.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}const At=[{path:"",component:x,children:[{path:"",pathMatch:"full",redirectTo:"list-spare"},{path:"list-spare",component:(()=>{class o{constructor(t,r,a,i,n,m,b,y){this.router=t,this.modalService=r,this.spareService=a,this.authService=i,this.formBuilder=n,this.commonFunctionService=m,this.dropdownServices=b,this.menuService=y,this.isProject=!1,this.label="Spare Management",this.breadCrumbItems=[{label:"Spare"},{label:"Spare List",active:!0}],this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.num=0,this.option={startVal:this.num,useEasing:!0,duration:2,decimalPlaces:0},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.spareList=[],this.page=1,this.collectionSize=0,this.imageUrl=S.N.apiUrl,this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.activeId=1,this.arrayListDropDownCompany=[],this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.arrayListDropDownSpareStatus=[],this.spareStatusCountObject={totalInserviceAssetSparePart:0,totalReadyStockAssetAssetSparePart:0,totalEndOffLifeAsset:0},this.addButtonShownHide=!0,this.activeCard="",this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authService.getisProject()}ngOnInit(){this.getV2_AssetStatusCount(),this.getDropdownCompanyList(),this.getDropdownSpareStatusList(),localStorage.getItem("objectSerachForSpare")?this.getObjectAfterRefresh():this.loadData()}onNavChange(t){this.addButtonShownHide=1===t.nextId}getV2_AssetStatusCount(){this.spareService.getV2_SparePartAssetStatusCount().subscribe(t=>{this.spareStatusCountObject=t.data})}openModalAddSpare(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}loadData(){this.spareService.getSparePartList_Paging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.spareList=t.obj,this.setObjectBeforeRefesh(),this.spareList.length>0?(this.totalRecordsFromApi=t.obj[0].totalCount,this.from=t.obj.reduce((r,a)=>a.rowNum<r?a.rowNum:r,t.obj[0].rowNum),this.to=t.obj.reduce((r,a)=>a.rowNum>r?a.rowNum:r,t.obj[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}viewHandler(t,r){this.viewSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}editHandler(t,r){this.editSparepartObject=t,this.modalService.open(r,{ariaLabelledBy:"modal-basic-title",centered:!0,scrollable:!0,backdrop:"static",keyboard:!1})}onTypeSpareNameChange(t){(0===this.typeSpareNameValue.length||t)&&(this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSparePartName=this.typeSpareNameValue,this.loadData())}resetSerachVariable(){this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.selectedDropDownSpareStatusIdValue=null,this.typeSpareNameValue=null,this.payload={displayLength:10,displayStart:0,companyId:null,SearchCatergoryId:null,SearchSparePartName:null,SearchSpareStatusId:null,SearchSubCategoryId:null,SearchSparePartStatusId:null},this.page=1,localStorage.removeItem("objectSerachForSpare"),this.loadData()}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list})}getDropdownCategoryList(){this.dropdownServices.GetCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(r=>{this.arrayListDropDownCategoryList=r.list,this.setObjectBeforeRefesh()})}getDropdownSubCategoryList(){this.dropdownServices.GetSubCategoryListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchCategoryId:this.selectedDropDownCategoryIdValue}).subscribe(r=>{this.arrayListDropDownSubCategoryList=r.list,this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.companyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownCategoryIdValue=null,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.arrayListDropDownCategoryList=[],this.arrayListDropDownSubCategoryList=[],this.getDropdownCategoryList(),this.loadData()}onDropdownCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.selectedDropDownSubCategoryIdValue=null,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.getDropdownSubCategoryList(),this.loadData()}onDropdownSubCategoryValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.loadData()}getDropdownSpareStatusList(){this.spareService.getSparePartStatusList().subscribe(t=>{this.arrayListDropDownSpareStatus=t})}onDropdownSpareStatusValueChange(t){this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,this.loadData()}openModal(t){this.submitted=!1,this.modalService.open(t,{size:"md",centered:!0})}afterSubmitSpareData(t){this.editSparepartObject=null,this.getObjectAfterRefresh()}viewQrCodeImage(t,r){this.spareQrData=r,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0,backdrop:"static",keyboard:!1})}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownCategoryIdValue&&(t.SearchCatergoryId=this.selectedDropDownCategoryIdValue),this.selectedDropDownSubCategoryIdValue&&(t.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue),this.typeSpareNameValue&&(t.SearchSparePartName=this.typeSpareNameValue),this.selectedDropDownSpareStatusIdValue&&(t.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue),this.arrayListDropDownCategoryList&&(t.arrayListDropDownCategoryList=this.arrayListDropDownCategoryList),this.arrayListDropDownSubCategoryList&&(t.arrayListDropDownSubCategoryList=this.arrayListDropDownSubCategoryList),this.activeCard&&(t.activeCard=this.activeCard),this.activeId&&(t.activeId=this.activeId),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForSpare",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForSpare"));this.activeCard=t.activeCard?t.activeCard:"",this.activeId=t.activeId?t.activeId:1,this.arrayListDropDownCategoryList=t.arrayListDropDownCategoryList?t.arrayListDropDownCategoryList:[],this.arrayListDropDownSubCategoryList=t.arrayListDropDownSubCategoryList?t.arrayListDropDownSubCategoryList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownCategoryIdValue=t.SearchCatergoryId?t.SearchCatergoryId:null,this.selectedDropDownSubCategoryIdValue=t.SearchSubCategoryId?t.SearchSubCategoryId:null,this.typeSpareNameValue=t.SearchSparePartName?t.SearchSparePartName:null,this.selectedDropDownSpareStatusIdValue=t.SearchSparePartStatusId?t.SearchSparePartStatusId:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchCatergoryId=this.selectedDropDownCategoryIdValue,this.payload.SearchSubCategoryId=this.selectedDropDownSubCategoryIdValue,this.payload.SearchSparePartName=this.typeSpareNameValue,this.payload.SearchSparePartStatusId=this.selectedDropDownSpareStatusIdValue,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}openDeleteModal(t,r){this.deleteId=r,this.modalService.open(t,{centered:!0})}deleteData(t){this.spareService.postDeletespare({AssetSparePartId:this.deleteId}).subscribe({next:r=>{this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.loadData(),this.successForDeletespareData(r)}})}successForDeletespareData(t){h().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}onCardClickActive(t,r){this.activeId=r,this.activeCard=t,this.setObjectBeforeRefesh()}static{this.\u0275fac=function(r){return new(r||o)(e.Y36(_.F0),e.Y36(l.FF),e.Y36(c.L),e.Y36(g.u),e.Y36(d.qu),e.Y36(w.K),e.Y36(D.V),e.Y36(I.l))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-spare-list"]],decls:85,vars:20,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-xxl-4","col-sm-6",3,"click"],[1,"card","card-animate"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"fw-semibold","mb-0"],[1,"mt-1","ff-secondary","cursor","fw-semibold"],["class","counter-value",3,"countUp","options",4,"ngIf"],["class","counter-value",4,"ngIf"],[1,"avatar-sm","flex-shrink-0"],[1,"avatar-title","bg-info-subtle","text-info","rounded-circle","fs-4"],[1,"mdi","mdi-cart"],[1,"mdi","mdi-wrench"],[1,"mdi","mdi-timer-sand"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-3","col-xxl-3"],[1,"card-title","mb-0"],[1,"col-sm-9","col-xxl-9","d-flex","gap-2","flex-wrap","justify-content-end"],[4,"ngIf"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem","click"],["ngbNavLink",""],[1,"ri-store-2-fill","me-1","align-bottom"],["ngbNavContent",""],[1,"ri-checkbox-circle-line","me-1","align-bottom"],[1,"ri-recycle-fill","me-1","align-bottom"],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],["qrView",""],["role","document"],["addSpareModel",""],["editSpareModel",""],["viewSpareModel",""],["deleteModel",""],[1,"counter-value",3,"countUp","options"],[1,"counter-value"],["class","btn btn-success add-btn","data-bs-toggle","modal","data-bs-target","#showModal",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#showModal",1,"btn","btn-success","add-btn",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"modal-header","p-3","bg-info-subtle"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","close-modal",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["alt","qr",1,"qrCode-img",3,"src"],[1,"modal-body"],[3,"loadList"],[3,"editSparepartObject","loadList"],[3,"viewSparepartObject"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,a){if(1&r&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2),e.NdJ("click",function(){return a.onCardClickActive("Ready Stock",1)}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"p",6),e._uU(8,"Ready Stock"),e.qZA(),e.TgZ(9,"h2",7),e.YNc(10,_t,1,2,"span",8)(11,ht,2,0,"span",9),e.qZA()(),e.TgZ(12,"div")(13,"div",10)(14,"span",11),e._UZ(15,"i",12),e.qZA()()()()()()(),e.TgZ(16,"div",2),e.NdJ("click",function(){return a.onCardClickActive("In-Service",2)}),e.TgZ(17,"div",3)(18,"div",4)(19,"div",5)(20,"div")(21,"p",6),e._uU(22,"In-Service"),e.qZA(),e.TgZ(23,"h2",7),e.YNc(24,St,1,2,"span",8)(25,bt,2,0,"span",9),e.qZA()(),e.TgZ(26,"div")(27,"div",10)(28,"span",11),e._UZ(29,"i",13),e.qZA()()()()()()(),e.TgZ(30,"div",2),e.NdJ("click",function(){return a.onCardClickActive("EOL",3)}),e.TgZ(31,"div",3)(32,"div",4)(33,"div",5)(34,"div")(35,"p",6),e._uU(36,"EOL"),e.qZA(),e.TgZ(37,"h2",7),e.YNc(38,yt,1,2,"span",8)(39,Ct,2,0,"span",9),e.qZA()(),e.TgZ(40,"div")(41,"div",10)(42,"span",11),e._UZ(43,"i",14),e.qZA()()()()()()()(),e.TgZ(44,"div",1)(45,"div",15)(46,"div",16)(47,"div",17)(48,"div",18)(49,"div",19)(50,"h5",20),e._uU(51,"Spare Part List"),e.qZA()(),e.TgZ(52,"div",21),e.YNc(53,Dt,2,1,"div",22),e.qZA()()(),e.TgZ(54,"div",23)(55,"div")(56,"ul",24,25),e.NdJ("activeIdChange",function(n){return a.activeId=n})("navChange",function(n){return a.onNavChange(n)}),e.TgZ(58,"li",26),e.NdJ("click",function(){return a.onCardClickActive("Ready Stock",1)}),e.TgZ(59,"a",27),e._UZ(60,"i",28),e._uU(61," Ready Stock "),e.qZA(),e.YNc(62,vt,1,0,"ng-template",29),e.qZA(),e.TgZ(63,"li",26),e.NdJ("click",function(){return a.onCardClickActive("In-Service",2)}),e.TgZ(64,"a",27),e._UZ(65,"i",30),e._uU(66," In-Service "),e.qZA(),e.YNc(67,wt,1,0,"ng-template",29),e.qZA(),e.TgZ(68,"li",26),e.NdJ("click",function(){return a.onCardClickActive("EOL",3)}),e.TgZ(69,"a",27),e._UZ(70,"i",31),e._uU(71," EOL "),e.qZA(),e.YNc(72,It,1,0,"ng-template",29),e.qZA()(),e.TgZ(73,"div",32),e._UZ(74,"div",33),e.qZA()()()()()(),e.YNc(75,Zt,6,1,"ng-template",null,34,e.W1O)(77,Lt,6,0,"ng-template",35,36,e.W1O)(79,xt,6,1,"ng-template",35,37,e.W1O)(81,Tt,6,1,"ng-template",35,38,e.W1O)(83,Nt,17,0,"ng-template",null,39,e.W1O)),2&r){const i=e.MAs(57);e.Q6J("title",a.label)("breadcrumbItems",a.breadCrumbItems),e.xp6(4),e.Tol("Ready Stock"==a.activeCard?"activeCardClasss":""),e.xp6(6),e.Q6J("ngIf",0!=a.spareStatusCountObject.totalReadyStockAssetAssetSparePart),e.xp6(1),e.Q6J("ngIf",0==a.spareStatusCountObject.totalReadyStockAssetAssetSparePart),e.xp6(7),e.Tol("In-Service"==a.activeCard?"activeCardClasss":""),e.xp6(6),e.Q6J("ngIf",0!=a.spareStatusCountObject.totalInserviceAssetSparePart),e.xp6(1),e.Q6J("ngIf",0==a.spareStatusCountObject.totalInserviceAssetSparePart),e.xp6(7),e.Tol("EOL"==a.activeCard?"activeCardClasss":""),e.xp6(6),e.Q6J("ngIf",0!=a.spareStatusCountObject.totalEndOffLifeAsset),e.xp6(1),e.Q6J("ngIf",0==a.spareStatusCountObject.totalEndOffLifeAsset),e.xp6(14),e.Q6J("ngIf",a.returnValueMenu.add),e.xp6(3),e.Q6J("activeId",a.activeId),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(5),e.Q6J("ngbNavItem",2),e.xp6(5),e.Q6J("ngbNavItem",3),e.xp6(6),e.Q6J("ngbNavOutlet",i)}},dependencies:[u.O5,l.uN,l.Pz,l.nv,l.Is,l.Vx,l.tO,l.Dy,j.n,q.P,Z,L,qe,$e,mt],styles:["@media only screen and (max-width: 600px){.w-50[_ngcontent-%COMP%]{width:100%!important}}.activeCardClasss[_ngcontent-%COMP%]{background-color:#5ea3cb;color:#fff!important}.activeCardClasss[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}"]})}}return o})()}]}];let Vt=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({imports:[_.Bz.forChild(At),_.Bz]})}}return o})();var kt=p(9364),Mt=p(6208);let Pt=(()=>{class o{static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({providers:[u.uU],imports:[u.ez,Vt,kt.xD,d.u5,d.UX,l.IJ,v.A0,l.Gs,l.HK,l.XC,l.M,Mt.m,q.m,U.JT.forRoot(),O.QM]})}}return o})()},9455:(P,f,p)=>{p.d(f,{V:()=>T});var u=p(9862),_=p(553),e=p(9212),x=p(2787),S=p(5035);let T=(()=>{class h{constructor(c,g,d){this._http=c,this._route=g,this.authService=d}GetCompanyListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetCompanyListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetClientListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetClientListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetDepartmentListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetCategoryListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetCategoryListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetSubCategoryListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetSubCategoryListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetVendorListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetVendorListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetLocationListDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetLocationListDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getCountryList(){return this._http.get(_.N.apiUrl+"api/Master/GetCountryList",{headers:(new u.WM).set("Content-Type","application/json")})}getCountryListDrobDown(){return this._http.get(_.N.apiUrl+"api/V2_Master/GetCountryListDrobDown",{headers:(new u.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(c){return this._http.post(_.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getV2_UserListDD(c){return this._http.post(_.N.apiUrl+"api/Maintenance/GetV2_UserListDD",c,{headers:(new u.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(g){return new(g||h)(e.LFG(u.eN),e.LFG(x.F0),e.LFG(S.$))}}static{this.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},7337:(P,f,p)=>{p.d(f,{N:()=>u});const u={production:!0,defaultauth:"fackbackend",firebase:{apiKey:"AIzaSyBI2NBh9HXM8VXKKKnrgKB3KZwcfzrf1E8",authDomain:"facilitymanagement-82978.firebaseapp.com",projectId:"facilitymanagement-82978",storageBucket:"facilitymanagement-82978.appspot.com",messagingSenderId:"577841958574",appId:"1:577841958574:web:f6913e27e5915051fde73f",vapidKey:"BElFlpEl4njyX3vyHl-OR0gMU3rHhX_1Gp7YQxh6XEISq6jsl3NqiZon9tjOrDw8JtDJ7G2CGDE21F-keO3gzcQ"},apiUrl:"https://smstesting.api.vwatch.ai/",ApiKey:"gh8955bae-1c40-485a-b@c0-aI6622e56f73",ApiKeySOA:"k89m5bae-5c40-985a-bb30-h74602e56f731"}}}]);
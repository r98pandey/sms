"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[5884,9455],{6075:(T,v,l)=>{l.d(v,{J:()=>A});var p=l(9862),d=l(553),b=l(9212);let A=(()=>{class C{constructor(_){this._http=_,this.addCompanyAccess=!1}getCompanyTableList_LocalPagination(){return this._http.post(d.N.apiUrl+"api/V2_Master/GetCompanyTableList_LocalPagination",{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}postCompany(_){return this._http.post(d.N.apiUrl+"api/V2_Master/CreateCompany",_,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}updateCompanyLogo(_){return this._http.post(d.N.apiUrl+"api/V2_Master/UpdateCompanyLogo",_,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}getCompanyDetail(_){return this._http.post(d.N.apiUrl+"api/V2_Master/GetCompanyDetail",_,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}updateCompany(_){return this._http.post(d.N.apiUrl+"api/V2_Master/UpdateCompany",_,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}deleteCompany(_){return this._http.post(d.N.apiUrl+"api/V2_Master/DeleteCompany",_,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`)})}static{this.\u0275fac=function(r){return new(r||C)(b.LFG(p.eN))}}static{this.\u0275prov=b.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},618:(T,v,l)=>{l.d(v,{n:()=>C});var p=l(9862),d=l(553),b=l(9212),f=l(2787),A=l(5035);let C=(()=>{class D{static{this.editDepartmentId=0}constructor(r,e,h){this._http=r,this._route=e,this.authService=h,this.accessRight=!1}getDepartmentTableList_LocalPagination(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetDepartmentTableList_LocalPagination",r,{headers:(new p.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json")})}postDepartment(r){return this._http.post(d.N.apiUrl+"api/V2_Master/CreateDepartment",r,{headers:(new p.WM).set("Content-Type","application/json")})}postUpdateDepartmentLogo(r){return this._http.post(d.N.apiUrl+"api/Master/UpdateDepartmentLogo",r,{headers:(new p.WM).set("Content-Type","application/json")})}getDepartmentByCompanyId(r){return this._http.get(d.N.apiUrl+"api/Master/GetDepartmentList/"+r,{headers:(new p.WM).set("Content-Type","application/json")})}getDepartmentByClientId(r,e){return this._http.get(d.N.apiUrl+"api/Master/GetDepartmentListByClient/"+r+"/"+e,{headers:(new p.WM).set("Content-Type","application/json")})}getCompanyListWithDept(r){return this._http.get(d.N.apiUrl+"api/Master/GetCompanyListWithDept/"+r,{headers:(new p.WM).set("Content-Type","application/json")})}getDepartmentListByDeptId(r){return this._http.get(d.N.apiUrl+"api/Master/GetDepartmentListByDeptId/"+r,{headers:(new p.WM).set("Content-Type","application/json")})}getDepartmentDetail(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetDepartmentDetail",{DepartmentId:r},{headers:(new p.WM).set("Content-Type","application/json")})}postUpdateDepartment(r){return this._http.post(d.N.apiUrl+"api/V2_Master/UpdateDepartment",r,{headers:(new p.WM).set("Content-Type","application/json")})}postDeleteDepartment(r){return this._http.post(d.N.apiUrl+"api/Master/DeleteDepartment",r,{headers:(new p.WM).set("Content-Type","application/json")})}getClient(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetClientListDrobDown",{SearchCompanyId:r},{headers:(new p.WM).set("Content-Type","application/json")})}getDepartmentListDropdown(r,e){return this._http.post(d.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",{SearchCompanyId:r,SearchClientId:e},{headers:(new p.WM).set("Content-Type","application/json")})}static{this.\u0275fac=function(e){return new(e||D)(b.LFG(p.eN),b.LFG(f.F0),b.LFG(A.$))}}static{this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},5884:(T,v,l)=>{l.r(v),l.d(v,{DepartmentModule:()=>ke});var p=l(6814),d=l(618),b=l(3519),f=l.n(b),A=l(2438),C=l(2181),D=l(3620),_=l(3997),r=l(9397),e=l(9212),h=l(2787),m=l(7291),U=l(2857),x=l(9455),N=l(3828),w=l(7235),u=l(6223),y=l(4807),S=l(8617);const j=["inputer"];function P(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToAddPage())}),e._UZ(2,"i",36),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.hij(" Add ",t.isProject?"Project":"Department"," ")}}function F(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(n){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.editHandler(n,o))}),e._UZ(1,"i",49),e._uU(2," Edit"),e.qZA()}}function q(i,c){1&i&&e._UZ(0,"li",50)}function O(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"a",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw(),s=e.MAs(58);return e.KtG(o.confirm(s,n.departmentId))}),e._UZ(1,"i",52),e._uU(2," Delete"),e.qZA()}}function k(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr",37)(1,"td",38),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.navigateToView(n,s))}),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span")(13,"div",39)(14,"button",40),e._UZ(15,"i",41),e.qZA(),e.TgZ(16,"ul",42)(17,"li")(18,"a",43),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.navigateToView(n,s))}),e._UZ(19,"i",44),e._uU(20," View "),e.qZA()(),e.TgZ(21,"li")(22,"a",43),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.navigateToViewAssignUser(n,s))}),e._UZ(23,"i",45),e._uU(24," Assign User "),e.qZA()(),e.TgZ(25,"li"),e.YNc(26,F,3,0,"a",46),e.qZA(),e.YNc(27,q,1,0,"li",47),e.TgZ(28,"li"),e.YNc(29,O,3,0,"a",48),e.qZA()()()()()()}if(2&i){const t=c.$implicit,a=e.oxw();e.xp6(2),e.hij(" ",t.departmentCode," "),e.xp6(2),e.hij(" ",t.departmentName," "),e.xp6(2),e.hij(" ",t.companyName," "),e.xp6(2),e.hij(" ",t.clientName," "),e.xp6(2),e.hij(" ",t.contactPerson1||"NA"," "),e.xp6(16),e.Q6J("ngIf",a.returnValueMenu.edit),e.xp6(1),e.Q6J("ngIf",a.returnValueMenu.delete),e.xp6(2),e.Q6J("ngIf",a.returnValueMenu.delete)}}function E(i,c){if(1&i&&(e.TgZ(0,"div",53),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" No ",t.isProject?"Project":"Department"," Found ")}}function V(i,c){1&i&&(e._UZ(0,"i",57),e._uU(1," Prev "))}function J(i,c){1&i&&(e._uU(0," Next "),e._UZ(1,"i",58))}function R(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-pagination",54),e.NdJ("pageChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.page=n)})("pageChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getdepartmentPagination())}),e.YNc(1,V,2,0,"ng-template",55)(2,J,2,0,"ng-template",56),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("collectionSize",t.collectionSize)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function G(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60)(2,"button",61),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",62)(4,"div",63),e._UZ(5,"lord-icon",64),e.TgZ(6,"div",65)(7,"h4"),e._uU(8),e.qZA(),e.TgZ(9,"p",66),e._uU(10),e.qZA()()(),e.TgZ(11,"div",67)(12,"button",68),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._UZ(13,"i",69),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteData(n.deleteId))})("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(8),e.hij(" You are about to delete a ",t.isProject?"Project":"Department"," "),e.xp6(2),e.hij(" Deleting your ",t.isProject?"Project":"Department"," will remove all of your information from our database. ")}}let Y=(()=>{class i{constructor(t,a,n,o,s,g,Z){this.router=t,this.service=a,this.modalService=n,this.commonFunctionService=o,this.dropdownServices=s,this.authAssetService=g,this.menuService=Z,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.departmentList=[],this.isProject=!0,this.selectedDepartmentName="",this.filteredList=[],this.payload={SearchCompanyId:"",SearchClientId:"",SearchDepartName:""},this.companyListArray=[],this.clientListArray=[],this.label="Department",this.breadCrumbItems=[{label:"Department"},{label:"Department List",active:!0}],this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.isProject=this.authAssetService.getisProject(),this.isProject?(this.label="Projects",this.breadCrumbItems=[{label:"Project"},{label:"My Project",active:!0}]):(this.label="Departments",this.breadCrumbItems=[{label:"Department"},{label:"My Department",active:!0}])}ngOnInit(){this.getCompanyList(),localStorage.getItem("objectSerachForProjectList")?this.getObjectAfterRefreshProject():this.getDepartmentList()}setObjectBeforeRefeshProject(){let t={};this.selectedCompanyId&&(t.SearchCompanyId=this.selectedCompanyId),this.selectedClientId&&(t.SearchClientId=this.selectedClientId),this.clientListArray&&(t.clientListArray=this.clientListArray),this.selectedDepartmentName&&(t.SearchDepartName=this.selectedDepartmentName),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForProjectList",JSON.stringify(t))}getObjectAfterRefreshProject(){let t=JSON.parse(localStorage.getItem("objectSerachForProjectList"));this.clientListArray=t.clientListArray?t.clientListArray:[],this.selectedClientId=t.selectedClientId?t.selectedClientId:[],this.selectedCompanyId=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedClientId=t.SearchClientId?t.SearchClientId:null,this.selectedDepartmentName=t.SearchDepartName?t.SearchDepartName:null,this.payload.SearchCompanyId=this.selectedCompanyId,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.getDepartmentList(),this.getClientdetails()}getClientdetails(){this.service.getClientForApplicationSettingDrobDown({SearchCompanyId:this.selectedCompanyId,SearchClientId:this.selectedClientId}).subscribe(a=>{this.clientListArray=a.list,this.setObjectBeforeRefeshProject()})}getDepartmentList(){this.service.getDepartmentTableList_LocalPagination(this.commonFunctionService.clean(this.payload)).subscribe(t=>{"200"==t?.code&&(this.departmentList=t?.list,this.totalRecords=t?.list.length,this.filteredList=this.departmentList,this.collectionSize=this.filteredList.length,this.getdepartmentPagination(),this.setObjectBeforeRefeshProject())})}getdepartmentPagination(){this.filteredList=this.departmentList.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.to=this.page*this.pageSize>this.departmentList.length?this.departmentList.length:this.page*this.pageSize;let t=this.page*this.pageSize-(this.pageSize-1);this.from=t<1?1:t,this.from=0==this.departmentList.length?0:this.from}goToAddPage(){this.service.accessRight=!0,d.n.editDepartmentId=0,this.router.navigate(["/application-settings/department/add-project"])}getCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.companyListArray=t.list,this.setObjectBeforeRefeshProject()})}onCompanyValueChange(t){this.page=1,this.payload.SearchCompanyId=this.selectedCompanyId,this.selectedClientId=null,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,this.getClientdetails(),this.getDepartmentList()}onClientValueChange(t){this.page=1,this.payload.SearchClientId=this.selectedClientId,this.payload.SearchDepartName=this.selectedDepartmentName,this.getClientdetails(),this.getDepartmentList()}editHandler(t,a){this.service.accessRight=!0,d.n.editDepartmentId=a.departmentId,this.router.navigate(["/application-settings/department/edit-project"])}navigateToView(t,a){d.n.editDepartmentId=a.departmentId,this.router.navigate(["/application-settings/department/view-project"])}navigateToViewAssignUser(t,a){d.n.editDepartmentId=a.departmentId,this.router.navigate(["/application-settings/department/assign-project-user"])}viewHandler(t,a){}clearAllPayload(){this.selectedCompanyId=null,this.selectedClientId=null,this.selectedDepartmentName=null,this.payload={SearchCompanyId:"",SearchClientId:"",SearchDepartName:""},this.page=1,this.clientListArray=[],this.getDepartmentList()}confirm(t,a){this.deleteId=a,this.modalService.open(t,{centered:!0})}deleteData(t){this.deleteId=t,this.service.postDeleteDepartment({DepartmentId:this.deleteId}).subscribe(a=>{this.success(a),this.deleteId=null,this.page=1,this.getDepartmentList()})}success(t){f().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}error(t){f().fire({toast:!0,position:"top-end",icon:"warning",title:t.error.message||t.message,showConfirmButton:!1,timer:2e3})}ngAfterViewInit(){(0,A.R)(this.input.nativeElement,"input").pipe((0,C.h)(Boolean),(0,D.b)(300),(0,_.x)(),(0,r.b)(t=>{this.searchFilter()})).subscribe()}searchFilter(){this.page=1,this.selectedDepartmentName?(this.payload.SearchDepartName=this.selectedDepartmentName,this.getDepartmentList()):(this.payload.SearchDepartName=null,this.getDepartmentList())}static{this.\u0275fac=function(a){return new(a||i)(e.Y36(h.F0),e.Y36(d.n),e.Y36(m.FF),e.Y36(U.K),e.Y36(x.V),e.Y36(N.u),e.Y36(w.l))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department-list"]],viewQuery:function(a,n){if(1&a&&e.Gf(j,7),2&a){let o;e.iGM(o=e.CRH())&&(n.input=o.first)}},decls:59,vars:21,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],["id","orderList",1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-10"],[1,"card-title","mb-0"],["class","col-sm-2 text-end",4,"ngIf"],[1,"card-body","border","border-dashed","border-end-0","border-start-0","mb-2"],[1,"row","g-2"],[1,"col-lg"],[1,"search-box"],[1,"input-group"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company",1,"w-100","mr-2",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client",1,"w-100","mr-2",3,"items","disabled","clearable","ngModel","change","ngModelChange"],["type","search","name","searchTerm",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","text-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-2","pb-0"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],["class","text-muted",4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","pb-3"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2","mt-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],["deleteModel",""],[1,"col-sm-2","text-end"],["type","button","id","create-btn",1,"btn","btn-success","add-btn",3,"click"],[1,"ri-add-line","align-bottom","me-1"],[1,"text-muted"],[1,"fw-medium","link-primary",3,"click"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-eye-fill","align-bottom","me-2","text-muted"],[1,"ri-user-fill","align-bottom","me-2","text-muted"],["class","dropdown-item cursor-pointer",3,"click",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item cursor-pointer","data-bs-toggle","modal","data-bs-target","#removeItemModal",3,"click",4,"ngIf"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],[1,"dropdown-divider"],["data-bs-toggle","modal","data-bs-target","#removeItemModal",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[1,"text-center","text-muted"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal","id","deleteRecord-close",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button","id","delete-product",1,"btn","btn-primary",3,"click"]],template:function(a,n){1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8),e.qZA()(),e.YNc(9,P,4,1,"div",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"ng-select",14),e.NdJ("change",function(s){return n.onCompanyValueChange(s)})("ngModelChange",function(s){return n.selectedCompanyId=s}),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div")(18,"div",13)(19,"ng-select",15),e.NdJ("change",function(s){return n.onClientValueChange(s)})("ngModelChange",function(s){return n.selectedClientId=s}),e.qZA()()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"input",16,17),e.NdJ("ngModelChange",function(s){return n.selectedDepartmentName=s}),e.qZA(),e._UZ(24,"i",18),e.qZA(),e._UZ(25,"div"),e.qZA(),e.TgZ(26,"div",19)(27,"button",20),e.NdJ("click",function(){return n.clearAllPayload()}),e._UZ(28,"i",21),e._uU(29," Clear "),e.qZA()()()(),e.TgZ(30,"div",22)(31,"div",23)(32,"table",24)(33,"thead")(34,"tr",25)(35,"th"),e._uU(36),e.qZA(),e.TgZ(37,"th"),e._uU(38),e.qZA(),e.TgZ(39,"th"),e._uU(40,"Company"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Client"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Person"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Action"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,k,30,8,"tr",26),e.qZA()(),e.YNc(49,E,2,1,"div",27),e.qZA(),e.TgZ(50,"div",28)(51,"div",29)(52,"div",30),e._uU(53),e.qZA()(),e.TgZ(54,"div",29)(55,"div",31),e.YNc(56,R,3,5,"ngb-pagination",32),e.qZA()()()()()()(),e.YNc(57,G,17,2,"ng-template",null,33,e.W1O)),2&a&&(e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(8),e.hij(" ",n.isProject?"Project":"Department","s "),e.xp6(1),e.Q6J("ngIf",n.returnValueMenu.add),e.xp6(6),e.Q6J("items",n.companyListArray)("clearable",!0)("ngModel",n.selectedCompanyId),e.xp6(4),e.Q6J("items",n.clientListArray)("disabled",!n.selectedCompanyId||0===n.selectedCompanyId)("clearable",!0)("ngModel",n.selectedClientId),e.xp6(3),e.s9C("placeholder",n.isProject?" Search for Project name":" Search for Department name"),e.Q6J("ngModel",n.selectedDepartmentName),e.xp6(14),e.hij("",n.isProject?"Project":"Department"," Code"),e.xp6(2),e.Oqu(n.isProject?"Project":"Department"),e.xp6(10),e.Q6J("ngForOf",n.filteredList),e.xp6(1),e.Q6J("ngIf",0===n.filteredList.length),e.xp6(4),e.lnq(" Showing ",n.from," to ",n.to," of ",n.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",n.totalRecords>n.pageSize))},dependencies:[p.sg,p.O5,u.Fj,u.JJ,u.On,y.w9,m.jt,m.iD,m.Vi,m.N9,m.GZ,m.ju,S.n]})}}return i})();var B=l(6075);function Q(i,c){1&i&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Company is Required "),e.qZA()())}function z(i,c){1&i&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Client is Required "),e.qZA()())}function W(i,c){if(1&i&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij("",t.departmentProjectLabel," Code is required")}}function H(i,c){if(1&i&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Code must be at least 2 characters Required")}}function K(i,c){if(1&i&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Code must be less than 5 characters Required")}}function $(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,W,2,1,"small",37)(2,H,2,1,"small",37)(3,K,2,1,"small",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.form.departmentCode?null:t.form.departmentCode.errors.maxlength)}}function X(i,c){if(1&i&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.departmentProjectLabel," Name is Required")}}function ee(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,X,2,1,"small",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.departmentName.errors.required)}}function te(i,c){if(1&i&&(e.TgZ(0,"small",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" Head of ",t.departmentProjectLabel," is Required")}}function ne(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,te,2,1,"small",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.departHeadName.errors.required)}}function ae(i,c){if(1&i&&(e.TgZ(0,"div",38)(1,"h6"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&i){const t=c.item;e.xp6(2),e.AsE("",t.countryName,"(",t.countryCode,")"),e.xp6(2),e.hij("Currency Code :",t.currencyCode,"")}}function ie(i,c){1&i&&(e.TgZ(0,"small",9),e._uU(1," Currency Code is Required"),e.qZA())}function oe(i,c){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ie,2,0,"small",37),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.currencyCode.errors.required)}}function re(i,c){1&i&&(e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",41)(4,"label",42),e._uU(5,"Contact Person Name "),e.qZA(),e._UZ(6,"input",43),e.qZA(),e.TgZ(7,"div",41)(8,"label",44),e._uU(9,"Designation "),e.qZA(),e._UZ(10,"input",45),e.qZA()(),e.TgZ(11,"div",40)(12,"div",41)(13,"label",46),e._uU(14,"Mobile No "),e.qZA(),e._UZ(15,"input",47),e.qZA(),e.TgZ(16,"div",41)(17,"label",48),e._uU(18,"Phone No"),e.qZA(),e._UZ(19,"input",49),e.qZA()(),e.TgZ(20,"div",40)(21,"div",41)(22,"label",50),e._uU(23,"Fax No"),e.qZA(),e._UZ(24,"input",51),e.qZA(),e.TgZ(25,"div",52)(26,"label",53),e._uU(27,"Email "),e.qZA(),e._UZ(28,"input",54),e.qZA()()()())}function se(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",6)(2,"div",41)(3,"label",55),e._uU(4,"Respond SLA"),e.qZA(),e.TgZ(5,"input",56),e.NdJ("input",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.onRespondSLAValue(n))}),e.qZA()(),e.TgZ(6,"div",41)(7,"label",57),e._uU(8,"Respond SLA Duration"),e.qZA(),e._UZ(9,"ng-select",58),e.qZA()(),e.TgZ(10,"div",40)(11,"div",41)(12,"label",59),e._uU(13,"On Site SLA"),e.qZA(),e.TgZ(14,"input",60),e.NdJ("input",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.onSiteSLAValue(n))}),e.qZA()(),e.TgZ(15,"div",41)(16,"label",61),e._uU(17,"On Site SLA Duration"),e.qZA(),e._UZ(18,"ng-select",62),e.qZA()(),e.TgZ(19,"div",40)(20,"div",41)(21,"label",63),e._uU(22,"Expected Completion SLA"),e.qZA(),e.TgZ(23,"input",64),e.NdJ("input",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.exepectedComplitionSLADurationDescValue(n))}),e.qZA()(),e.TgZ(24,"div",41)(25,"label",65),e._uU(26,"Expected Completion SLA Duration"),e.qZA(),e._UZ(27,"ng-select",66),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(9),e.ekj("is-invalid",t.RespondSLADurationDesc.invalid&&t.RespondSLADurationDesc.touched)("is-valid",t.RespondSLADurationDesc.valid&&t.RespondSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.RespondSLA.value),e.xp6(9),e.ekj("is-invalid",t.OnSiteSLADurationDesc.invalid&&t.OnSiteSLADurationDesc.touched)("is-valid",t.OnSiteSLADurationDesc.valid&&t.OnSiteSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.OnSiteSLA.value),e.xp6(9),e.ekj("is-invalid",t.exepectedComplitionSLADurationDesc.invalid&&t.exepectedComplitionSLADurationDesc.touched)("is-valid",t.exepectedComplitionSLADurationDesc.valid&&t.exepectedComplitionSLADurationDesc.touched),e.Q6J("items",t.OnSiteDescList)("readonly",!t.exepectedComplitionSLA.value)}}function le(i,c){1&i&&e._UZ(0,"span",67)}function de(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",68)(1,"div",69),e._UZ(2,"ul",70)(3,"div",71)(4,"img",72)(5,"h2",73),e.TgZ(6,"div",74)(7,"div",75),e._UZ(8,"lord-icon",76),e.TgZ(9,"div",77)(10,"h4"),e._uU(11,"Project Added Successfully!"),e.qZA(),e.TgZ(12,"p",78),e._uU(13,"Do you want to add more project?"),e.qZA()()()(),e._UZ(14,"input",79)(15,"input",80),e.TgZ(16,"div",81),e._UZ(17,"input",82)(18,"output"),e.qZA(),e._UZ(19,"select",83)(20,"div",84),e.TgZ(21,"label",85),e._UZ(22,"input",86)(23,"span",87),e.qZA(),e._UZ(24,"textarea",88)(25,"div",89),e.TgZ(26,"div",90),e._UZ(27,"div",91),e.TgZ(28,"button",92),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goBack())}),e._uU(29," No "),e.qZA(),e.TgZ(30,"button",93),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getFormRest())}),e._uU(31," Yes "),e.qZA()()()()}}const I=(i,c)=>({"is-invalid":i,"is-valid":c});let M=(()=>{class i{constructor(t,a,n,o,s,g,Z,L){this.formBuilder=t,this.router=a,this.companyService=n,this.departmentService=o,this.dropdownService=s,this.commonService=g,this.actvatedroute=Z,this.authService=L,this.departmentProjectLabel="",this.editMode={isEdit:!1,selectedId:0},this.companyList={},this.companyData=[],this.loading={company:!1,client:!1},this.clientData=[],this.OnSiteDescList=["Hour","Day","Week","Month","Year"],this.active=1,this.label="Department",this.breadCrumbItems=[{label:"Department"},{label:"Add Department",active:!0}],this.countryAndCurrencyList=[],this.selectedCurrency=null,this.goback=this.goBack,this.addDepartmentFormDisable=!0,this.addDepartmentFormloding=!1,1==this.departmentService.accessRight?d.n.editDepartmentId>0&&(this.editMode.isEdit=!0,this.editMode.selectedId=d.n.editDepartmentId,this.getDepartmentData(this.editMode.selectedId)):this.goBack()}ngOnInit(){this.isProject=this.authService.getisProject(),this.departmentProjectLabel=this.isProject?"Project":"Department",this.getCountryList(),this.getCompanydetails(),this.getfromBinding(),this.label=this.isProject?"Project":"Department",this.breadCrumbItems=[{label:this.isProject?"Project":"Department"},{label:`${this.editMode.isEdit?"Edit":"Add"} ${this.isProject?"Project":"Department"}`,active:!0}]}getDepartmentData(t){this.departmentService.getDepartmentDetail(t).subscribe(a=>{const n=a.data;this.addDepartmentForm.patchValue(n),this.editMode.isEdit&&this.getClient(n.companyId),this.selectedCurrency=n.currencyCode,this.addDepartmentForm.get("RespondSLA")?.setValue(n.respondSLA),this.addDepartmentForm.get("RespondSLADurationDesc")?.setValue(n.respondSLADurationDesc),this.addDepartmentForm.get("OnSiteSLA")?.setValue(n.onSiteSLA),this.addDepartmentForm.get("OnSiteSLADurationDesc")?.setValue(n.onSiteSLADurationDesc),this.addDepartmentForm.get("exepectedComplitionSLADurationDesc")?.setValue(n.exepectedComplitionSLADurationDesc),this.addDepartmentForm.get("exepectedComplitionSLA")?.setValue(n.exepectedComplitionSLA),this.addDepartmentForm.get("currencyCode")?.setValue(n.currencyCode),this.addDepartmentForm.get("companyId").disable(),this.addDepartmentForm.get("clientId").disable(),this.selectedCurrency=n.currencyCode,this.addDepartmentForm.get("currencyCode").disable(),this.addDepartmentForm.get("departmentCode").disable()})}getClient(t){this.loading.client=!0,this.departmentService.getClientForApplicationSettingDrobDown({SearchCompanyId:t}).subscribe(n=>{this.clientData=Array.isArray(n.list)?n.list:[],this.loading.client=!1},n=>{this.loading.client=!1})}getCompanydetails(){this.dropdownService.GetCompanyListDrobDown({}).subscribe(t=>{this.companyList=t.list,this.companyData=this.companyList})}get form(){return this.addDepartmentForm.controls}get departmentCode(){return this.addDepartmentForm.get("departmentCode")}get companyId(){return this.addDepartmentForm.get("companyId")}get clientId(){return this.addDepartmentForm.get("clientId")}get departmentName(){return this.addDepartmentForm.get("departmentName")}get departHeadName(){return this.addDepartmentForm.get("departHeadName")}get currencyCode(){return this.addDepartmentForm.get("currencyCode")}get contactPerson1(){return this.addDepartmentForm.get("contactPerson1")}get contactMobileNo1(){return this.addDepartmentForm.get("contactMobileNo1")}get contactDesignation1(){return this.addDepartmentForm.get("contactDesignation1")}get contactPhoneNo1(){return this.addDepartmentForm.get("contactPhoneNo1")}get contactFaxNo1(){return this.addDepartmentForm.get("contactFaxNo1")}get contactEMail1(){return this.addDepartmentForm.get("contactEMail1")}get RespondSLA(){return this.addDepartmentForm.get("RespondSLA")}get OnSiteSLADurationDesc(){return this.addDepartmentForm.get("OnSiteSLADurationDesc")}get RespondSLADurationDesc(){return this.addDepartmentForm.get("RespondSLADurationDesc")}get OnSiteSLA(){return this.addDepartmentForm.get("OnSiteSLA")}get exepectedComplitionSLA(){return this.addDepartmentForm.get("exepectedComplitionSLA")}get exepectedComplitionSLADurationDesc(){return this.addDepartmentForm.get("exepectedComplitionSLADurationDesc")}getClientName(t){return this.clientData.find(a=>a.clientId==t)?.clientName}getClientCode(t){return this.clientData.find(a=>a.clientId==t)?.clientCode}getCompanyName(t){return this.companyList.find(a=>a.companyId==t)?.companyName}addDepartmentFormDetails(t){if(this.submitted=!0,this.addDepartmentForm.invalid)return;this.addDepartmentFormDisable=!1,this.addDepartmentFormloding=!0;let a={departmentId:this.editMode?this.editMode.selectedId:"",companyId:this.addDepartmentForm.value.companyId,clientId:this.addDepartmentForm.value.clientId,departmentCode:this.addDepartmentForm.value.departmentCode,departmentName:this.addDepartmentForm.value.departmentName,departHeadName:this.addDepartmentForm.value.departHeadName,contactDesignation1:this.addDepartmentForm.value.contactDesignation1,contactPerson1:this.addDepartmentForm.value.contactPerson1,contactMobileNo1:this.addDepartmentForm.value.contactMobileNo1?String(this.addDepartmentForm.value.contactMobileNo1):"",contactPhoneNo1:this.addDepartmentForm.value.contactPhoneNo1?String(this.addDepartmentForm.value.contactPhoneNo1):"",contactFaxNo1:this.addDepartmentForm.value.contactFaxNo1?String(this.addDepartmentForm.value.contactFaxNo1):"",contactEMail1:this.addDepartmentForm.value.contactEMail1,RespondSLA:this.addDepartmentForm.value.RespondSLA,RespondSLADurationDesc:this.addDepartmentForm.value.RespondSLADurationDesc,OnSiteSLADurationDesc:this.addDepartmentForm.value.OnSiteSLADurationDesc,OnSiteSLA:this.addDepartmentForm.value.OnSiteSLA,exepectedComplitionSLA:this.addDepartmentForm.value.exepectedComplitionSLA,exepectedComplitionSLADurationDesc:this.addDepartmentForm.value.exepectedComplitionSLADurationDesc,clientName:this.getClientName(this.addDepartmentForm.value.clientId),companyName:this.getCompanyName(this.addDepartmentForm.value.companyId),clientCode:this.getClientCode(this.addDepartmentForm.value.clientId),currencyCode:this.selectedCurrency};a=this.commonService.clean(a),this.editMode.isEdit?this.departmentService.postUpdateDepartment(a).subscribe(n=>{this.addDepartmentFormloding=!1,this.addDepartmentFormDisable=!1,this.goBack(),this.success(n)},n=>{this.addDepartmentFormloding=!1,this.error(n)}):this.departmentService.postDepartment(a).subscribe(n=>{this.addDepartmentFormDisable=!1,this.addDepartmentFormloding=!1,this.getAddMoreData(n.message)},n=>{this.addDepartmentFormloding=!1,this.error(n)})}success(t){f().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}error(t){this.addDepartmentFormDisable=!1,f().fire({toast:!0,position:"top-end",icon:"warning",title:t,showConfirmButton:!1,timer:1e3})}goBack(){this.router.navigate(["/application-settings/department/project-list"]),this.successMessageVisible=!1}getAddMoreData(t){this.successMessageVisible=!0}getFormRest(){this.addDepartmentFormloding=!1,this.addDepartmentForm.reset(),this.addDepartmentForm.markAsUntouched(),this.successMessageVisible=!1}getfromBinding(){this.addDepartmentForm=this.formBuilder.group({companyId:[null,u.kI.required],clientId:[null,u.kI.required],departmentCode:[null,[u.kI.required,u.kI.minLength(2),u.kI.maxLength(5)]],departmentName:["",u.kI.required],departHeadName:[""],contactDesignation1:[""],contactPerson1:[""],contactMobileNo1:[""],contactPhoneNo1:[""],contactFaxNo1:[""],contactEMail1:[""],RespondSLA:[""],RespondSLADurationDesc:[null],OnSiteSLADurationDesc:[null],OnSiteSLA:[""],exepectedComplitionSLA:[""],exepectedComplitionSLADurationDesc:[null],currencyCode:[null,[u.kI.required]]})}clientHandler(t){this.clientObj=t}onNavChange(t){}onCompanyValueChange(t){const{companyId:a}=t;this.getClient(a),this.clientId.reset()}onRespondSLAValue(t){this.RespondSLADurationDesc.reset()}onSiteSLAValue(t){this.OnSiteSLADurationDesc.reset()}exepectedComplitionSLADurationDescValue(t){this.exepectedComplitionSLADurationDesc.reset()}getCountryList(){this.dropdownService.getCountryListDrobDown().subscribe(t=>{this.countryAndCurrencyList=t.list})}static{this.\u0275fac=function(a){return new(a||i)(e.Y36(u.qu),e.Y36(h.F0),e.Y36(B.J),e.Y36(d.n),e.Y36(x.V),e.Y36(U.K),e.Y36(h.gz),e.Y36(N.u))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department-form"]],decls:69,vars:38,consts:[[3,"title","breadcrumbItems"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-md-4"],["for","Client",1,"form-label"],[1,"text-danger"],["bindLabel","companyName","bindValue","companyId","id","companyName","formControlName","companyId","placeholder","Select Company",1,"w-100","mr-2","my-1",3,"items","loading","clearable","change"],[4,"ngIf"],["bindLabel","clientName","formControlName","clientId","bindValue","clientId","id","clientName","placeholder","Select Client",1,"w-100","mr-2","my-1",3,"loading","items","clearable"],["for","departmentCode",1,"form-label"],["type","text","formControlName","departmentCode","id","departmentCode","id","departmentCode","name","departmentCode",1,"form-control","my-1",3,"placeholder","ngClass"],[1,"col-md-4","mt-3"],["for","Project-Name",1,"form-label"],["type","text","formControlName","departmentName","id","departmentName","name","Project-Name",1,"form-control","my-1",3,"placeholder","ngClass"],["for","HOD",1,"form-label"],["type","text","placeholder","HOD","formControlName","departHeadName","id","HOD","name","HOD",1,"form-control","my-1"],["for","currencyCode",1,"form-label"],["bindLabel","currencyCode","bindValue","currencyCode","placeholder","Currency Code","formControlName","currencyCode","name","currencyCode",3,"items","ngModel","ngModelChange"],["ng-option-tmp",""],[1,"mt-4"],["ngbNav","","role","tablist",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[1,"nav-item",3,"ngbNavItem"],["ngbNavLink","","data-bs-toggle","tab","id","All","href","javascript:void(0);","role","tab","aria-selected","true",1,"nav-link","All","py-3"],["ngbNavContent",""],["ngbNavLink","","data-bs-toggle","tab","id","New","href","javascript:void(0);","role","tab","aria-selected","true",1,"nav-link","py-3","New"],[3,"ngbNavOutlet"],[1,"col-lg-12","mt-4"],[1,"text-end"],["type","button",1,"btn","btn","btn-soft-primary","mb-2","mb-md-0","me-2",3,"click"],["type","button",1,"btn","btn-success","mr-2","mb-2","mb-md-0",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","swal2-container swal2-center swal2-backdrop-show","style","overflow-y: auto",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"custom-option"],[1,"mt-3","shadow","shodow-sm","p-3"],[1,"row","mt-2"],[1,"col-lg-6","mb-1"],["for","Contact-Person-Name",1,"form-label"],["type","text","placeholder","Contact Person Name","name","Contact-Person-Name","id","Contact-Person-Name","formControlName","contactPerson1",1,"form-control","my-1"],["for","Designation",1,"form-label"],["type","text","placeholder","Designation","name","Designation","id","Designation","formControlName","contactDesignation1",1,"form-control","mt-1","mb-1"],["for","Mobile-No",1,"form-label"],["type","number","placeholder","Mobile No","name","Mobile-No","id","Mobile-No","formControlName","contactMobileNo1",1,"form-control","mt-1","mb-1"],["for","Phone-No",1,"form-label"],["type","number","placeholder","Phone No","name","Phone-No","id","Phone-No","formControlName","contactPhoneNo1",1,"form-control","mt-1","mb-1"],["for","Fax-No",1,"form-label"],["type","text","placeholder","Fax No","name","Fax-No","id","Fax-No","formControlName","contactFaxNo1",1,"form-control","mt-1","mb-1"],[1,"col-6"],["for","Email",1,"form-label"],["type","email","placeholder","Email","name","Email","id","email","formControlName","contactEMail1",1,"form-control","mt-1","mb-1"],["for","Respond-SLA",1,"form-label"],["type","number","placeholder","Respond SLA","name","Respond-SLA","id","Respond-SLA","formControlName","RespondSLA",1,"form-control",3,"input"],["for","Respond-SLA-Duration",1,"form-label"],["placeholder","Select Respond SLA Duration","formControlName","RespondSLADurationDesc",1,"custom",3,"items","readonly"],["for","On-Site-SLA",1,"form-label"],["type","number","placeholder","On Site SLA","name","On-Site-SLA","id","On-Site-SLA","formControlName","OnSiteSLA",1,"form-control","mb-1",3,"input"],["for","On-Site-SLA-Duration",1,"form-label"],["placeholder","Select On Site SLA Duration","formControlName","OnSiteSLADurationDesc",1,"custom",3,"items","readonly"],["for","Expected-Completion-SLA",1,"form-label"],["type","number","placeholder","Expected Completion SLA","name","Expected-Completion-SLA","id","Expected-Completion-SLA","formControlName","exepectedComplitionSLA",1,"form-control","mb-1",3,"input"],["for","Expected-Completion-SLA-Duration",1,"form-label"],["placeholder","Select Expected Completion SLA Duration","formControlName","exepectedComplitionSLADurationDesc",1,"custom",3,"items","readonly"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"swal2-container","swal2-center","swal2-backdrop-show",2,"overflow-y","auto"],["aria-labelledby","swal2-title","aria-describedby","swal2-html-container","tabindex","-1","role","dialog","aria-live","assertive","aria-modal","true",1,"swal2-popup","swal2-modal","swal2-show",2,"display","grid"],[1,"swal2-progress-steps",2,"display","none"],[1,"swal2-icon",2,"display","none"],[1,"swal2-image",2,"display","none"],["id","swal2-title",1,"swal2-title",2,"display","none"],["id","swal2-html-container",1,"swal2-html-container",2,"display","block"],[1,"mt-3"],["src","https://cdn.lordicon.com/lupuorrc.json","trigger","loop","colors","primary:#0ab39c,secondary:#405189",2,"width","120px","height","120px"],[1,"mt-4","pt-2","fs-15"],[1,"text-muted","mx-4","mb-0"],[1,"swal2-input",2,"display","none"],["type","file",1,"swal2-file",2,"display","none"],[1,"swal2-range",2,"display","none"],["type","range"],[1,"swal2-select",2,"display","none"],[1,"swal2-radio",2,"display","none"],["for","swal2-checkbox",1,"swal2-checkbox",2,"display","none"],["type","checkbox"],[1,"swal2-label"],[1,"swal2-textarea",2,"display","none"],["id","swal2-validation-message",1,"swal2-validation-message",2,"display","none"],[1,"swal2-actions",2,"display","flex"],[1,"swal2-loader"],["type","button","aria-label","",1,"swal2-confirm","btn","btn-warning","me-2",3,"click"],["type","button","aria-label","",1,"swal2-confirm","btn","btn-success","me-2",3,"click"]],template:function(a,n){if(1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4)(6,"form",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Company "),e.TgZ(11,"span",9),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"ng-select",10),e.NdJ("change",function(s){return n.onCompanyValueChange(s)}),e.qZA(),e.YNc(14,Q,3,0,"div",11),e.qZA(),e.TgZ(15,"div",7)(16,"label",8),e._uU(17,"Client "),e.TgZ(18,"span",9),e._uU(19,"*"),e.qZA()(),e._UZ(20,"ng-select",12),e.YNc(21,z,3,0,"div",11),e.qZA(),e.TgZ(22,"div",7)(23,"label",13),e._uU(24),e.TgZ(25,"span",9),e._uU(26,"*"),e.qZA()(),e._UZ(27,"input",14),e.YNc(28,$,4,3,"div",11),e.qZA(),e.TgZ(29,"div",15)(30,"label",16),e._uU(31),e.TgZ(32,"span",9),e._uU(33,"*"),e.qZA()(),e._UZ(34,"input",17),e.YNc(35,ee,2,1,"div",11),e.qZA(),e.TgZ(36,"div",15)(37,"label",18),e._uU(38,"HOD "),e.qZA(),e._UZ(39,"input",19),e.YNc(40,ne,2,1,"div",11),e.qZA(),e.TgZ(41,"div",15)(42,"label",20),e._uU(43,"Currency Code "),e.TgZ(44,"span",9),e._uU(45,"*"),e.qZA()(),e.TgZ(46,"ng-select",21),e.NdJ("ngModelChange",function(s){return n.selectedCurrency=s}),e.YNc(47,ae,5,3,"ng-template",22),e.qZA(),e.YNc(48,oe,2,1,"div",11),e.qZA()(),e.TgZ(49,"div",23)(50,"ul",24,25),e.NdJ("activeIdChange",function(s){return n.active=s})("navChange",function(s){return n.onNavChange(s)}),e.TgZ(52,"li",26)(53,"a",27),e._uU(54," CONTACT DETAILS "),e.qZA(),e.YNc(55,re,29,0,"ng-template",28),e.qZA(),e.TgZ(56,"li",26)(57,"a",29),e._uU(58," SLA DETAILS "),e.qZA(),e.YNc(59,se,28,18,"ng-template",28),e.qZA()(),e._UZ(60,"div",30),e.TgZ(61,"div",31)(62,"div",32)(63,"button",33),e.NdJ("click",function(){return n.goback()}),e._uU(64," Back "),e.qZA(),e.TgZ(65,"button",34),e.NdJ("click",function(s){return n.addDepartmentFormDetails(s)}),e.YNc(66,le,1,0,"span",35),e._uU(67," Submit "),e.qZA()()()()()()(),e.YNc(68,de,32,0,"div",36)),2&a){const o=e.MAs(51);e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(4),e.AsE(" ",n.editMode.isEdit?"Edit":"Add"," ",n.departmentProjectLabel,"\xa0 "),e.xp6(2),e.Q6J("formGroup",n.addDepartmentForm),e.xp6(7),e.Q6J("items",n.companyData)("loading",n.loading.company)("clearable",!0),e.xp6(1),e.Q6J("ngIf",n.form.companyId.invalid&&n.form.companyId.touched),e.xp6(6),e.Q6J("loading",n.loading.client)("items",n.clientData)("clearable",!0),e.xp6(1),e.Q6J("ngIf",n.form.clientId.invalid&&n.form.clientId.touched),e.xp6(3),e.hij("",n.departmentProjectLabel," Code "),e.xp6(3),e.Q6J("placeholder",n.departmentProjectLabel+" Code")("ngClass",e.WLB(32,I,n.form.departmentCode.invalid&&n.form.departmentCode.touched,(null==n.form.departmentCode?null:n.form.departmentCode.valid)&&(null==n.form.departmentCode?null:n.form.departmentCode.touched))),e.xp6(1),e.Q6J("ngIf",n.form.departmentCode.invalid&&n.form.departmentCode.touched),e.xp6(3),e.hij("",n.departmentProjectLabel," Name "),e.xp6(3),e.Q6J("placeholder",n.departmentProjectLabel+" Name")("ngClass",e.WLB(35,I,n.form.departmentName.invalid&&n.form.departmentName.touched,(null==n.form.departmentName?null:n.form.departmentName.valid)&&(null==n.form.departmentName?null:n.form.departmentName.touched))),e.xp6(1),e.Q6J("ngIf",n.form.departmentName.invalid&&n.form.departmentName.touched),e.xp6(5),e.Q6J("ngIf",n.form.departHeadName.invalid&&n.form.departHeadName.touched),e.xp6(6),e.Q6J("items",n.countryAndCurrencyList)("ngModel",n.selectedCurrency),e.xp6(2),e.Q6J("ngIf",n.form.currencyCode.invalid&&n.form.currencyCode.touched),e.xp6(2),e.Q6J("activeId",n.active),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(4),e.Q6J("ngbNavItem",2),e.xp6(4),e.Q6J("ngbNavOutlet",o),e.xp6(5),e.Q6J("disabled",n.addDepartmentForm.invalid),e.xp6(1),e.Q6J("ngIf",n.addDepartmentFormloding),e.xp6(2),e.Q6J("ngIf",n.successMessageVisible)}},dependencies:[p.mk,p.O5,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.sg,u.u,y.w9,y.ir,S.n,m.uN,m.Pz,m.nv,m.Is,m.Vx,m.tO,m.Dy],styles:[".image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:50%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:200px;width:200px;border:3px solid lightgrey;border-radius:50%}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .image-section[_ngcontent-%COMP%]   .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}.image-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.ng-select.custom[_ngcontent-%COMP%]{border:0px;min-height:0px;max-height:30px;border-radius:10}.ng-select.custom[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{min-height:0px;max-height:30px;border-radius:10}.ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{min-height:0px;max-height:30px;border-radius:10}"]})}}return i})(),pe=(()=>{class i{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department"]],decls:1,vars:0,template:function(a,n){1&a&&e._UZ(0,"router-outlet")},dependencies:[h.lC]})}}return i})();var ce=l(6597);function me(i,c){if(1&i&&(e.TgZ(0,"div",23)(1,"div",24)(2,"span",25),e.ynx(3),e._UZ(4,"app-avatar-photo",26),e.BQk(),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("name",t.toUpperCaseword(t.dDetail.departmentName))}}let ue=(()=>{class i{constructor(t,a,n,o){this.departmentService=t,this.authService=a,this.route=n,this.router=o,this.label="Department Detail",this.breadCrumbItems=[{label:"Department"},{label:"Department Detail",active:!0}],this.dDetail={},this.departmentProjectLabel="",this.departmentProjectLabel=this.authService.getisProject()?"Project":"Department",this.label=`${this.departmentProjectLabel} Detail`,this.breadCrumbItems=[{label:`${this.departmentProjectLabel}`},{label:`${this.departmentProjectLabel} Detail`,active:!0}];const s=d.n.editDepartmentId;0==s?this.router.navigate(["/application-settings/department/project-list"]):this.getDepartmentDetail(s)}getDepartmentDetail(t){this.departmentService.getDepartmentDetail(t).subscribe({next:a=>{this.dDetail=a.data}})}toUpperCaseword(t){return t?t.toUpperCase():""}goBack(){this.router.navigate(["/application-settings/department/project-list"])}static{this.\u0275fac=function(a){return new(a||i)(e.Y36(d.n),e.Y36(N.u),e.Y36(h.gz),e.Y36(h.F0))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department-view"]],decls:114,vars:22,consts:[[3,"title","breadcrumbItems"],[1,"card","department-view"],[1,"card-body","mb-0"],[1,"row"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","fw-bold"],["_ngcontent-shg-c69","",1,"mb-3","fw-semibold","text-uppercase"],[1,"mt-sm-2","mt-4","mb-4"],["class","flex-shrink-0",4,"ngIf"],[1,"col-12"],[1,"row","border-top","border-top-dashed","py-3"],[1,"col-lg-12","col-12","mb-3"],[1,"mb-2","fw-bold","text-uppercase","text-muted"],[1,"col-sm-12","col-md-4","col-lg-3","mb-3"],[1,"mb-2","fw-bold"],[1,"fs-14","mb-0"],[1,"col-sm-12","col-md-4","col-lg-3","mb-3","mt-4"],[1,"row","border-top","border-top-dashed","py-3","pb-0"],[1,"col-lg-6"],[1,"col-lg-6","mt-3"],[1,"hstack","justify-content-end","gap-2","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect",3,"click"],[1,"align-bottom"],[1,"flex-shrink-0"],[1,"avatar-lg"],[1,"rounded"],[3,"name"]],template:function(a,n){1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,me,5,1,"div",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"p",12),e._uU(14,"Project Detail"),e.qZA()(),e.TgZ(15,"div",13)(16,"p",14),e._uU(17),e.qZA(),e.TgZ(18,"p",15),e._uU(19),e.qZA()(),e.TgZ(20,"div",13)(21,"p",14),e._uU(22,"Company Name"),e.qZA(),e.TgZ(23,"p",15),e._uU(24),e.qZA()(),e.TgZ(25,"div",13)(26,"p",14),e._uU(27,"Client Name"),e.qZA(),e.TgZ(28,"p",15),e._uU(29),e.qZA()(),e.TgZ(30,"div",13)(31,"p",14),e._uU(32,"HOD"),e.qZA(),e.TgZ(33,"p",15),e._uU(34),e.qZA()(),e.TgZ(35,"div",13)(36,"p",14),e._uU(37,"Currency Code"),e.qZA(),e.TgZ(38,"p",15),e._uU(39),e.qZA()()()(),e.TgZ(40,"div",9)(41,"div",10)(42,"div",11)(43,"p",12),e._uU(44,"Contact Detail"),e.qZA()(),e.TgZ(45,"div",13)(46,"p",14),e._uU(47,"Person"),e.qZA(),e.TgZ(48,"p",15),e._uU(49),e.qZA()(),e.TgZ(50,"div",13)(51,"p",14),e._uU(52,"Designation"),e.qZA(),e.TgZ(53,"p",15),e._uU(54),e.qZA()(),e.TgZ(55,"div",13)(56,"p",14),e._uU(57,"Mobile No"),e.qZA(),e.TgZ(58,"p",15),e._uU(59),e.qZA()(),e.TgZ(60,"div",13)(61,"p",14),e._uU(62,"Phone No"),e.qZA(),e.TgZ(63,"p",15),e._uU(64),e.qZA()(),e.TgZ(65,"div",16)(66,"p",14),e._uU(67,"Email"),e.qZA(),e.TgZ(68,"p",15),e._uU(69),e.qZA()(),e.TgZ(70,"div",16)(71,"p",14),e._uU(72,"Fax No"),e.qZA(),e.TgZ(73,"p",15),e._uU(74),e.qZA()()()(),e.TgZ(75,"div",9)(76,"div",17)(77,"div",11)(78,"p",12),e._uU(79,"SLA Details"),e.qZA()(),e.TgZ(80,"div",18)(81,"p",14),e._uU(82,"Respond SLA Duration"),e.qZA(),e.TgZ(83,"p",15),e._uU(84),e.qZA()(),e.TgZ(85,"div",18)(86,"p",14),e._uU(87,"Respond SLA"),e.qZA(),e.TgZ(88,"p",15),e._uU(89),e.qZA()(),e.TgZ(90,"div",19)(91,"p",14),e._uU(92,"On Site SLA Duration"),e.qZA(),e.TgZ(93,"p",15),e._uU(94),e.qZA()(),e.TgZ(95,"div",19)(96,"p",14),e._uU(97,"On Site SLA"),e.qZA(),e.TgZ(98,"p",15),e._uU(99),e.qZA()(),e.TgZ(100,"div",19)(101,"p",14),e._uU(102,"Expected SLA Duration"),e.qZA(),e.TgZ(103,"p",15),e._uU(104),e.qZA()(),e.TgZ(105,"div",19)(106,"p",14),e._uU(107,"Expected SLA"),e.qZA(),e.TgZ(108,"p",15),e._uU(109),e.qZA()()()()()()(),e.TgZ(110,"div",20)(111,"button",21),e.NdJ("click",function(){return n.goBack()}),e._UZ(112,"i",22),e._uU(113,"Back "),e.qZA()()),2&a&&(e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(7),e.hij(" ",n.dDetail.departmentName," "),e.xp6(2),e.Q6J("ngIf",n.dDetail.departmentName&&n.dDetail.departmentName.length),e.xp6(8),e.hij("",n.departmentProjectLabel," Code"),e.xp6(2),e.hij(" ",n.dDetail.departmentCode||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.companyName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.clientName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.departHeadName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.currencyCode||"-"," "),e.xp6(10),e.hij(" ",n.dDetail.contactPerson1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactDesignation1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactMobileNo1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactPhoneNo1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactEMail1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactFaxNo1||"-"," "),e.xp6(10),e.hij(" ",n.dDetail.respondSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.respondSLADurationDesc||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.onSiteSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.onSiteSLADurationDesc||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.exepectedComplitionSLA||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.exepectedComplitionSLADurationDesc||"-"," "))},dependencies:[p.O5,S.n,ce.S],styles:[".department-view[_ngcontent-%COMP%]     .circle{width:6rem;height:6rem}"]})}}return i})();var he=l(553),ge=l(3934),_e=l(7625);const be=["inputer"];function De(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"input",45),e.NdJ("change",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCheckboxChange(n))}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("checked",t.checkUncheckAll())}}function Ce(i,c){if(1&i&&(e.TgZ(0,"div",55),e._UZ(1,"img",56),e._uU(2),e.qZA()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(1),e.hYB("src","",a.apiUrl,"",t.profileImageUrl,"",e.LSH),e.xp6(1),e.hij(" ",t.fullName," ")}}function fe(i,c){if(1&i&&(e.TgZ(0,"div",55)(1,"div",57)(2,"div",58),e._uU(3),e.qZA()(),e._uU(4),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.fullName.charAt(0)," "),e.xp6(1),e.hij(" ",t.fullName," ")}}function ve(i,c){if(1&i&&(e.TgZ(0,"span",59),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.profileStatus)}}function Ae(i,c){if(1&i&&(e.TgZ(0,"span",60),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.profileStatus)}}function ye(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th",46)(2,"div",44)(3,"input",47),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).index,g=e.oxw(2);return e.KtG(g.userList[s].checked=n)})("change",function(){const n=e.CHM(t),o=n.index,s=n.$implicit,g=e.oxw(2);return e.KtG(g.getAssetlistChecked(g.userList[o].checked,s))}),e.qZA()()(),e.TgZ(4,"td",48),e.YNc(5,Ce,3,3,"div",49)(6,fe,5,2,"div",49),e.qZA(),e.TgZ(7,"td",50),e._uU(8),e.qZA(),e.TgZ(9,"td",50),e._uU(10),e.qZA(),e.TgZ(11,"td",50),e._uU(12),e.qZA(),e.TgZ(13,"td",50)(14,"h5",51)(15,"span",52),e._uU(16),e.qZA()()(),e.TgZ(17,"td",50)(18,"h5",51)(19,"span",52),e._uU(20),e.qZA()()(),e.TgZ(21,"td",50),e.YNc(22,ve,2,1,"span",53)(23,Ae,2,1,"span",54),e.qZA()()}if(2&i){const t=c.$implicit,a=c.index,n=e.oxw(2);e.xp6(3),e.s9C("value",t.id),e.Q6J("ngModel",n.userList[a].checked),e.xp6(2),e.Q6J("ngIf",t.profileImageUrl),e.xp6(1),e.Q6J("ngIf",!t.profileImageUrl),e.xp6(2),e.hij(" ",t.roleName," "),e.xp6(2),e.Oqu(t.phoneNumber),e.xp6(2),e.hij(" ",t.email," "),e.xp6(3),e.Q6J("ngClass",t.mobileEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.mobileEnable?"Yes":"No"),e.xp6(3),e.Q6J("ngClass",t.portalEnable?"bg-primary":"bg-danger"),e.xp6(1),e.Oqu(t.portalEnable?"Yes":"No"),e.xp6(2),e.Q6J("ngIf","Active"==t.profileStatus),e.xp6(1),e.Q6J("ngIf","InActive"==t.profileStatus)}}function Ze(i,c){if(1&i&&(e.TgZ(0,"div",61),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.userType," have already been assigned for this project. ")}}function Le(i,c){1&i&&(e._UZ(0,"i",65),e._uU(1," Prev "))}function Ne(i,c){1&i&&(e._uU(0," Next "),e._UZ(1,"i",66))}function Se(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"ngb-pagination",62),e.NdJ("pageChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.page=n)})("pageChange",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.pageChange(n))}),e.YNc(1,Le,2,0,"ng-template",63)(2,Ne,2,0,"ng-template",64),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("collectionSize",t.totalRecords)("page",t.page)("pageSize",t.pageSize)("maxSize",2)("rotate",!0)}}function Te(i,c){if(1&i&&(e.TgZ(0,"div",32)(1,"table",33)(2,"thead")(3,"tr",34)(4,"th",35),e.YNc(5,De,2,1,"div",36),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Name"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Role"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Mobile No"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Email"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"App"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Portal"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Status"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,ye,24,13,"tr",37),e.qZA()(),e.YNc(22,Ze,2,1,"div",38),e.qZA(),e.TgZ(23,"div",39)(24,"div",40)(25,"div",41),e._uU(26),e.qZA()(),e.TgZ(27,"div",40)(28,"div",42),e.YNc(29,Se,3,5,"ngb-pagination",43),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",0!=t.userList.length),e.xp6(16),e.Q6J("ngForOf",t.userList),e.xp6(1),e.Q6J("ngIf",0===t.userList.length),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecords," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecords>t.pageSize)}}let Ue=(()=>{class i{constructor(t,a,n,o,s,g,Z,L){this.userService=t,this.dropdownServices=a,this.modalService=n,this.router=o,this.modal=s,this.commonService=g,this.menuService=Z,this.lightbox=L,this.page=1,this.from=0,this.to=0,this.pageSize=10,this.collectionSize=0,this.totalRecords=0,this.userList=[],this.label="User",this.breadCrumbItems=[{label:"Application Setup"},{label:"User",active:!0}],this.isProjectVisible=!1,this.displayLength=10,this.payload={displayLength:10,displayStart:0,SearchFullName:null,SearchRoleName:null,SearchAccessGroupName:null,SearchPortalEnable:null,SearchMobileEnable:null},this.returnValueMenu={access:!0,add:!0,delete:!0,edit:!0,reportPrint:!0,reportView:!0},this.userType="User",this.checkedUserList=[],this.rolesList=[],this.accessGroupList=[],this.loading={role:!1,accessGroup:!1},this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.selectedPortalEnable=null,this.selectedMobileEnable=null,this.mobileYesNoArray=[{id:!0,name:"Mobile Enable"},{id:!1,name:"Mobile Disable"}],this.portalYesNoArray=[{id:!0,name:"Portal Enable"},{id:!1,name:"Portal Disable"}],this.returnValueMenu=this.menuService.getvalueObjectreturn(this.router.url),this.apiUrl=he.N.apiUrl}ngOnInit(){this.getRoles()}ngOnChanges(t){this.loadData()}loadData(){this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchDepartmentIdAsString=this.selectedDropDownProjectOrDeparmentIdValue,"User"===this.userType?this.userService.getV2_UserListOnlyByProject(this.commonService.clean(this.payload)).subscribe(t=>{this.userList=t.data,this.checkedUserList.length>0&&(this.userList=this.userList.filter(a=>((this.checkedUserList?.filter(o=>o.id==a.id)).length>0&&(a.checked=!0),1))),this.userList.length>0?(this.totalRecords=t.data[0].totalCount,this.from=t.data.reduce((a,n)=>n.rowNum<a?n.rowNum:a,t.data[0].rowNum),this.to=t.data.reduce((a,n)=>n.rowNum>a?n.rowNum:a,t.data[0].rowNum),this.pageSize=this.displayLength):(this.totalRecords=0,this.from=0,this.to=0,this.pageSize=this.displayLength)}):this.userService.getV2_ClientListOnlyByProject(this.commonService.clean(this.payload)).subscribe(t=>{this.userList=t.data,this.checkedUserList.length>0&&(this.userList=this.userList.filter(a=>((this.checkedUserList?.filter(o=>o.id==a.id)).length>0&&(a.checked=!0),1))),this.userList.length>0?(this.totalRecords=t.data[0].totalCount,this.from=t.data.reduce((a,n)=>n.rowNum<a?n.rowNum:a,t.data[0].rowNum),this.to=t.data.reduce((a,n)=>n.rowNum>a?n.rowNum:a,t.data[0].rowNum),this.pageSize=this.displayLength):(this.totalRecords=0,this.from=0,this.to=0,this.pageSize=this.displayLength)})}pageChange(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}onEmployeeNameChangeHandler(t){this.payload.SearchFullName=this.searchName,this.page=1,this.payload.displayStart=this.displayLength*(this.page-1),this.loadData()}resetSerachVariable(){this.searchName=null,this.selectedRoleIdValue=null,this.selectedAccessGroupValue=null,this.selectedPortalEnable=null,this.selectedMobileEnable=null,this.page=1,this.payload={displayLength:10,displayStart:0,SearchFullName:null,SearchRoleName:null,SearchAccessGroupName:null,SearchPortalEnable:null,SearchMobileEnable:null},this.loadData()}success(t){f().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}ngAfterViewInit(){(0,A.R)(this.input.nativeElement,"input").pipe((0,C.h)(Boolean),(0,D.b)(1e3),(0,_.x)(),(0,r.b)(t=>{this.onEmployeeNameChangeHandler(!0)})).subscribe()}open(t){let n=[];n.push({src:t,caption:"",thumb:"thumb"}),this.lightbox.open(n)}getRoles(){this.userService.GetRoleList().subscribe({next:t=>{this.rolesList=t.data}})}getAccessGroup(t){this.loading.accessGroup=!0,this.userService.GetAccessGroupListByAccessGroupId(t).subscribe({next:a=>{this.loading.accessGroup=!1,this.accessGroupList=a.data}})}onTypeRole(t){this.selectedAccessGroupValue=null,this.accessGroupList=[],this.payload.SearchRoleName=this.selectedRoleIdValue,this.payload.SearchAccessGroupName=this.selectedAccessGroupValue,this.loadData(),t&&this.getAccessGroup(t.id)}onTypeAccessGroup(t){this.selectedAccessGroupValue=t?t.name:null,this.payload.SearchAccessGroupName=this.selectedAccessGroupValue,this.loadData()}onSelectedPortalEnable(t){this.selectedPortalEnable=t?t.id:null,this.payload.SearchPortalEnable=this.selectedPortalEnable,this.loadData()}onSelectedMobileEnable(t){this.selectedMobileEnable=t?t.id:null,this.payload.SearchMobileEnable=this.selectedMobileEnable,this.loadData()}checkUncheckAll(){return 0!=this.userList.length&&this.userList.every(t=>t.checked)}getAssetlistChecked(t,a){1==t?this.checkedUserList.push(a):this.checkedUserList.forEach((n,o)=>{n.id==a.id&&this.checkedUserList.splice(o,1)})}onCheckboxChange(t){return this.userList.length&&(this.userList.forEach(a=>a.checked=t.target.checked),1==t.target.checked?this.userList.forEach((a,n)=>{this.checkedUserList.push(a)}):this.checkedUserList=this.checkedUserList.filter(a=>!(this.userList.filter(o=>o.id==a.id).length>0)),this.checkedUserList=this.uniqTheObject(this.checkedUserList,a=>a.id)),!1}uniqTheObject(t,a){return[...new Map(t.map(n=>[a(n),n])).values()]}createUserAssignByProject(){let t=[];this.checkedUserList.forEach(a=>{t.push({CompanyId:this.selectedDropDownCompanyIdValue,DepartmentId:this.selectedDropDownProjectOrDeparmentIdValue,UserId:a.id})}),this.userService.userAssignByProject(t).subscribe(a=>{this.success(a),this.router.navigate(["/application-settings/department/project-list"])})}static{this.\u0275fac=function(a){return new(a||i)(e.Y36(ge.i),e.Y36(x.V),e.Y36(m.FF),e.Y36(h.F0),e.Y36(m.FF),e.Y36(U.K),e.Y36(w.l),e.Y36(_e.ey))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-new-user-list"]],viewQuery:function(a,n){if(1&a&&e.Gf(be,7),2&a){let o;e.iGM(o=e.CRH())&&(n.input=o.first)}},inputs:{userType:"userType",selectedDropDownProjectOrDeparmentIdValue:"selectedDropDownProjectOrDeparmentIdValue",selectedDropDownCompanyIdValue:"selectedDropDownCompanyIdValue"},features:[e.TTD],decls:39,vars:21,consts:[[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-sm-12","col-md-8","col-lg-8"],[1,"card-title","mb-0"],[1,"col-sm-12","col-md-8","col-lg-4","text-end"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Search for user name",1,"form-control",3,"ngModel","ngModelChange"],["inputer",""],[1,"ri-search-line","search-icon"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],[1,"col-lg"],["bindLabel","name","bindValue","name","id","roleName","placeholder","Select Role",1,"w-100","mr-2","my-1",3,"items","loading","clearable","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","name","id","accessName","placeholder","Select Access Group/Designation",1,"w-100","mr-2","my-1",3,"items","loading","clearable","disabled","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","id","id","portal","placeholder","Select Portal Accessibility",1,"w-100","mr-2","my-1",3,"items","clearable","ngModel","change","ngModelChange"],["bindLabel","name","bindValue","id","id","portal","placeholder","Select Mobile Accessibility ",1,"w-100","mr-2","my-1",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto"],[1,"d-flex","justify-content-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],["scope","col",2,"width","50px"],["class","form-check",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col-sm-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkAll","value","option",1,"form-check-input",3,"checked","change"],["scope","row"],["type","checkbox","name","checkAll",1,"form-check-input",3,"value","ngModel","ngModelChange","change"],[1,"customer_name","text-primary","cursor"],["class","d-flex align-items-center",4,"ngIf"],[1,"align-middle"],[1,"mb-1"],[1,"badge","text-uppercase",3,"ngClass"],["class","badge text-uppercase bg-success-subtle text-success",4,"ngIf"],["class","badge text-uppercase bg-danger-subtle text-danger",4,"ngIf"],[1,"d-flex","align-items-center"],["alt","",1,"avatar-xs","rounded-circle","me-2",3,"src"],[1,"flex-shrink-0","avatar-xs","me-2"],[1,"avatar-title","bg-success-subtle","text-success","rounded-circle","fs-13"],[1,"badge","text-uppercase","bg-success-subtle","text-success"],[1,"badge","text-uppercase","bg-danger-subtle","text-danger"],[1,"text-center"],[3,"collectionSize","page","pageSize","maxSize","rotate","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"ci-arrow-left","me-2"],[1,"ci-arrow-right","ms-2"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),e._uU(7),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"input",9,10),e.NdJ("ngModelChange",function(s){return n.searchName=s}),e.qZA(),e._UZ(12,"i",11),e.qZA()()()(),e.TgZ(13,"div",12)(14,"div",13)(15,"div",14)(16,"ng-select",15),e.NdJ("change",function(s){return n.onTypeRole(s)})("ngModelChange",function(s){return n.selectedRoleIdValue=s}),e.qZA()(),e.TgZ(17,"div",14)(18,"ng-select",16),e.NdJ("change",function(s){return n.onTypeAccessGroup(s)})("ngModelChange",function(s){return n.selectedAccessGroupValue=s}),e.qZA()(),e.TgZ(19,"div",14)(20,"ng-select",17),e.NdJ("change",function(s){return n.onSelectedPortalEnable(s)})("ngModelChange",function(s){return n.selectedPortalEnable=s}),e.qZA()(),e.TgZ(21,"div",14)(22,"ng-select",18),e.NdJ("change",function(s){return n.onSelectedMobileEnable(s)})("ngModelChange",function(s){return n.selectedMobileEnable=s}),e.qZA()(),e.TgZ(23,"div",19)(24,"div",20)(25,"button",21),e.NdJ("click",function(){return n.resetSerachVariable()}),e._UZ(26,"i",22),e._uU(27," Clear "),e.qZA()()()()(),e.TgZ(28,"div",23)(29,"div")(30,"ul",24,25)(32,"li",26),e.YNc(33,Te,30,7,"ng-template",27),e.qZA()(),e.TgZ(34,"div",28),e._UZ(35,"div",29),e.qZA()()(),e.TgZ(36,"div",30)(37,"button",31),e.NdJ("click",function(){return n.createUserAssignByProject()}),e._uU(38," Submit "),e.qZA()()()()()),2&a){const o=e.MAs(31);e.xp6(7),e.hij("",n.userType," List"),e.xp6(3),e.Q6J("ngModel",n.searchName),e.xp6(6),e.Q6J("items",n.rolesList)("loading",n.loading.role)("clearable",!0)("ngModel",n.selectedRoleIdValue),e.xp6(2),e.Q6J("items",n.accessGroupList)("loading",n.loading.accessGroup)("clearable",!0)("disabled",!n.selectedRoleIdValue)("ngModel",n.selectedAccessGroupValue),e.xp6(2),e.Q6J("items",n.portalYesNoArray)("clearable",!0)("ngModel",n.selectedPortalEnable),e.xp6(2),e.Q6J("items",n.mobileYesNoArray)("clearable",!0)("ngModel",n.selectedMobileEnable),e.xp6(8),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",o),e.xp6(2),e.Q6J("disabled",0==(null==n.checkedUserList?null:n.checkedUserList.length))}},dependencies:[p.mk,p.sg,p.O5,m.uN,m.Pz,m.nv,m.Is,m.Dy,u.Fj,u.Wl,u.JJ,u.On,m.N9,m.GZ,m.ju,m._L,y.w9]})}}return i})();function xe(i,c){if(1&i&&(e.TgZ(0,"div",8)(1,"div",16),e._UZ(2,"app-new-user-list",17),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("selectedDropDownProjectOrDeparmentIdValue",t.selectedDropDownProjectOrDeparmentIdValue)("selectedDropDownCompanyIdValue",t.dDetail.companyId)}}const we=[{path:"",component:pe,children:[{path:"",pathMatch:"full",redirectTo:"project-list"},{path:"add-project",component:M},{path:"project-list",component:Y},{path:"edit-project",component:M},{path:"view-project",component:ue},{path:"assign-project-user",component:(()=>{class i{constructor(t,a,n,o){this.departmentService=t,this.authService=a,this.route=n,this.router=o,this.label="Department Detail",this.breadCrumbItems=[{label:"Department"},{label:"Department Detail",active:!0}],this.dDetail={},this.departmentProjectLabel="",this.departmentProjectLabel=this.authService.getisProject()?"Project":"Department",this.label=`${this.departmentProjectLabel} Detail`,this.breadCrumbItems=[{label:`${this.departmentProjectLabel}`},{label:`${this.departmentProjectLabel} Detail`,active:!0}];const s=d.n.editDepartmentId;this.selectedDropDownProjectOrDeparmentIdValue=d.n.editDepartmentId+"",0==s?this.router.navigate(["/application-settings/department/project-list"]):this.getDepartmentDetail(s)}getDepartmentDetail(t){this.departmentService.getDepartmentDetail(t).subscribe({next:a=>{this.dDetail=a.data}})}toUpperCaseword(t){return t?t.toUpperCase():""}goBack(){this.router.navigate(["/application-settings/department/project-list"])}static{this.\u0275fac=function(a){return new(a||i)(e.Y36(d.n),e.Y36(N.u),e.Y36(h.gz),e.Y36(h.F0))}}static{this.\u0275cmp=e.Xpm({type:i,selectors:[["app-assign-department-with-user"]],decls:55,vars:13,consts:[[3,"title","breadcrumbItems"],[1,"card","department-view"],[1,"card-body","mb-0"],[1,"row"],[1,"d-flex","flex-wrap"],[1,"flex-grow-1","fw-bold"],["_ngcontent-shg-c69","",1,"mb-3","fw-semibold","text-uppercase"],[1,"col-12"],[1,"row","border-top","border-top-dashed","py-3"],[1,"col-sm-12","col-md-4","col-lg-3","mb-3"],[1,"mb-2","fw-bold"],[1,"fs-14","mb-0"],["class","row border-top border-top-dashed py-3",4,"ngIf"],[1,"hstack","justify-content-end","gap-2","mb-3"],["type","button",1,"btn","btn-soft-primary","waves-effect",3,"click"],[1,"align-bottom"],[1,"col-lg-12","col-12","mb-3"],[3,"selectedDropDownProjectOrDeparmentIdValue","selectedDropDownCompanyIdValue"]],template:function(a,n){1&a&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h6",6),e._uU(7),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"p",10),e._uU(12),e.qZA(),e.TgZ(13,"p",11),e._uU(14),e.qZA()(),e.TgZ(15,"div",9)(16,"p",10),e._uU(17,"Company Name"),e.qZA(),e.TgZ(18,"p",11),e._uU(19),e.qZA()(),e.TgZ(20,"div",9)(21,"p",10),e._uU(22,"Client Name"),e.qZA(),e.TgZ(23,"p",11),e._uU(24),e.qZA()(),e.TgZ(25,"div",9)(26,"p",10),e._uU(27,"HOD"),e.qZA(),e.TgZ(28,"p",11),e._uU(29),e.qZA()(),e.TgZ(30,"div",9)(31,"p",10),e._uU(32,"Currency Code"),e.qZA(),e.TgZ(33,"p",11),e._uU(34),e.qZA()(),e.TgZ(35,"div",9)(36,"p",10),e._uU(37,"Person"),e.qZA(),e.TgZ(38,"p",11),e._uU(39),e.qZA()(),e.TgZ(40,"div",9)(41,"p",10),e._uU(42,"Designation"),e.qZA(),e.TgZ(43,"p",11),e._uU(44),e.qZA()(),e.TgZ(45,"div",9)(46,"p",10),e._uU(47,"Mobile No"),e.qZA(),e.TgZ(48,"p",11),e._uU(49),e.qZA()()()()(),e.YNc(50,xe,3,2,"div",12),e.qZA()(),e.TgZ(51,"div",13)(52,"button",14),e.NdJ("click",function(){return n.goBack()}),e._UZ(53,"i",15),e._uU(54,"Back "),e.qZA()()),2&a&&(e.Q6J("title",n.label)("breadcrumbItems",n.breadCrumbItems),e.xp6(7),e.hij(" ",n.dDetail.departmentName," "),e.xp6(5),e.hij("",n.departmentProjectLabel," Code"),e.xp6(2),e.hij(" ",n.dDetail.departmentCode||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.companyName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.clientName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.departHeadName||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.currencyCode||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactPerson1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactDesignation1||"-"," "),e.xp6(5),e.hij(" ",n.dDetail.contactMobileNo1||"-"," "),e.xp6(1),e.Q6J("ngIf",n.dDetail))},dependencies:[p.O5,S.n,Ue],styles:[".department-view[_ngcontent-%COMP%]     .circle{width:6rem;height:6rem}"]})}}return i})()}]}];let Ie=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=e.oAB({type:i})}static{this.\u0275inj=e.cJS({imports:[h.Bz.forChild(we),h.Bz]})}}return i})();var Me=l(6903),je=l(9417),Pe=l(6208),Fe=l(6762),qe=l(6802),Oe=l(9101);let ke=(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275mod=e.oAB({type:i})}static{this.\u0275inj=e.cJS({imports:[p.ez,Ie,u.u5,u.UX,y.A0,m.XC,m.M,Me.X,m.jF,m.ZS,Fe.JT,Pe.m,je.t,Oe.p.pick(qe.kEt),m.Oz]})}}return i})()},9455:(T,v,l)=>{l.d(v,{V:()=>C});var p=l(9862),d=l(553),b=l(9212),f=l(2787),A=l(5035);let C=(()=>{class D{constructor(r,e,h){this._http=r,this._route=e,this.authService=h}GetCompanyListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetCompanyListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetClientListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetClientListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetDepartmentListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetDepartmentListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetCategoryListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetCategoryListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetSubCategoryListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetSubCategoryListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetVendorListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetVendorListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}GetLocationListDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetLocationListDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getCountryList(){return this._http.get(d.N.apiUrl+"api/Master/GetCountryList",{headers:(new p.WM).set("Content-Type","application/json")})}getCountryListDrobDown(){return this._http.get(d.N.apiUrl+"api/V2_Master/GetCountryListDrobDown",{headers:(new p.WM).set("Content-Type","application/json")})}getClientForApplicationSettingDrobDown(r){return this._http.post(d.N.apiUrl+"api/V2_Master/GetClientForApplicationSettingDrobDown",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}getV2_UserListDD(r){return this._http.post(d.N.apiUrl+"api/Maintenance/GetV2_UserListDD",r,{headers:(new p.WM).set("Content-Type","application/json").set("Authorization","Bearer "+this.token)})}static{this.\u0275fac=function(e){return new(e||D)(b.LFG(p.eN),b.LFG(f.F0),b.LFG(A.$))}}static{this.\u0275prov=b.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()}}]);
"use strict";(self.webpackChunksms_portal=self.webpackChunksms_portal||[]).push([[8823],{8823:(fe,u,r)=>{r.r(u),r.d(u,{ScheduleVerificationModule:()=>ce});var p=r(6814),h=r(2787),_=r(553),f=r(2438),D=r(2181),S=r(3620),v=r(3997),C=r(9397),y=r(3519),w=r.n(y),e=r(9212),g=r(9455),s=r(7291),b=r(5143),V=r(3828),I=r(7235),d=r(6223),L=r(2857),T=r(471),x=r(9708),Z=r(8617),m=r(4807);const P=["inputerRequesterName"],j=["inputerCreatedDate"];function N(o,c){1&o&&(e.TgZ(0,"th"),e._uU(1,"Client"),e.qZA())}function A(o,c){1&o&&(e.TgZ(0,"th"),e._uU(1,"Action"),e.qZA())}function U(o,c){1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",49),e._uU(3," No Schedule Data "),e.qZA()(),e.BQk())}function M(o,c){if(1&o&&(e.TgZ(0,"span",57),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function O(o,c){if(1&o&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function F(o,c){if(1&o&&(e.TgZ(0,"span",59),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",null==t?null:t.supportType," ")}}function J(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li")(1,"a",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3).$implicit,a=e.oxw(3),l=e.MAs(40);return e.KtG(a.confirmDelete(l,i.scheduleId))}),e._UZ(2,"i",67),e._uU(3," Delete"),e.qZA()()}}function q(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"td")(1,"span")(2,"div",60)(3,"button",61),e._UZ(4,"i",62),e.qZA(),e.TgZ(5,"ul",63)(6,"li")(7,"a",64),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.editHandler(i.scheduleId))}),e._UZ(8,"i",65),e._uU(9," Edit"),e.qZA()(),e.YNc(10,J,4,0,"li",42),e.qZA()()()()}if(2&o){const t=e.oxw(2).$implicit,n=e.oxw(3);e.xp6(10),e.Q6J("ngIf",2==t.scheduleStatusId&&"IT Manager"===n.currentUserAccessGroup)}}function R(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.expandTitle("configPreventivePDescription_"+i.configPreventivePDescription))}),e.TgZ(2,"a",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.editHandler(i.scheduleId))}),e._uU(3),e.qZA()(),e.TgZ(4,"td",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.expandTitle("companyName_"+i.companyName))}),e._uU(5),e.qZA(),e.TgZ(6,"td",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.expandTitle("clientName_"+i.clientName))}),e._uU(7),e.qZA(),e.TgZ(8,"td",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.expandTitle("projectName_"+i.projectName))}),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._UZ(11,"i",52),e._uU(12),e.qZA(),e.TgZ(13,"td",53),e.YNc(14,M,2,1,"span",54)(15,O,2,1,"span",55)(16,F,2,1,"span",56),e.qZA(),e.TgZ(17,"td",53)(18,"span"),e._uU(19),e.qZA()(),e.YNc(20,q,11,1,"td",42),e.qZA()}if(2&o){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("title",t.configPreventivePDescription)("id","configPreventivePDescription_"+t.configPreventivePDescription),e.xp6(2),e.Oqu(t.configPreventivePDescription),e.xp6(1),e.Q6J("title",t.companyName)("id","companyName_"+t.companyName),e.xp6(1),e.hij(" ",t.companyName," "),e.xp6(1),e.Q6J("title",t.clientName)("id","clientName_"+t.clientName),e.xp6(1),e.hij(" ",t.clientName," "),e.xp6(1),e.Q6J("title",t.projectName)("id","projectName_"+t.projectName),e.xp6(1),e.hij(" ",t.projectName," "),e.xp6(2),e.Tol(n.returnIcon(t.frequency)),e.s9C("ngbTooltip",t.frequency),e.xp6(1),e.hij(" ",t.scheduleDate," "),e.xp6(2),e.Q6J("ngIf","On-Site"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Remote"==(null==t?null:t.supportType)),e.xp6(1),e.Q6J("ngIf","Phone Call"==(null==t?null:t.supportType)),e.xp6(2),e.Tol(n.returnStatusBadgeClassesStatus(t.scheduleStatusId)),e.xp6(1),e.Oqu(t.scheduleStatusName),e.xp6(1),e.Q6J("ngIf","IT Manager"===n.currentUserAccessGroup)}}function Q(o,c){if(1&o&&(e.ynx(0),e.YNc(1,R,21,23,"tr",42),e.BQk()),2&o){const t=c.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0!=n.preventiveScheduleList.length&&72==t.scheduleStatusId)}}function k(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ngb-pagination",68),e.NdJ("pageChange",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.page=i)})("pageChange",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.OnChangesPage(i))}),e.qZA()}if(2&o){const t=e.oxw(3);e.Q6J("collectionSize",t.totalRecordsFromApi)("pageSize",t.pageSize)("page",t.page)("maxSize",2)("rotate",!0)}}function z(o,c){if(1&o&&(e.TgZ(0,"div",39)(1,"table",40)(2,"thead")(3,"tr",41)(4,"th"),e._uU(5,"Schedule Title"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Company"),e.qZA(),e.YNc(8,N,2,0,"th",42),e.TgZ(9,"th"),e._uU(10),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Schedule Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Action Type"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Status"),e.qZA(),e.YNc(17,A,2,0,"th",42),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,U,4,0,"ng-container",42)(20,Q,2,1,"ng-container",43),e.qZA()()(),e.TgZ(21,"div",44)(22,"div",45)(23,"div",46),e._uU(24),e.qZA()(),e.TgZ(25,"div",45)(26,"div",47),e.YNc(27,k,1,5,"ngb-pagination",48),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.isProject),e.xp6(2),e.Oqu(t.isProject?"Project":"Department"),e.xp6(7),e.Q6J("ngIf","IT Manager"===t.currentUserAccessGroup),e.xp6(2),e.Q6J("ngIf",0==t.preventiveScheduleList.length),e.xp6(1),e.Q6J("ngForOf",t.preventiveScheduleList),e.xp6(4),e.lnq(" Showing ",t.from," to ",t.to," of ",t.totalRecordsFromApi," entries "),e.xp6(3),e.Q6J("ngIf",t.totalRecordsFromApi>t.pageSize)}}function G(o,c){if(1&o&&(e.TgZ(0,"div",32)(1,"div")(2,"ul",33,34)(4,"li",35),e.YNc(5,z,28,9,"ng-template",36),e.qZA()(),e.TgZ(6,"div",37),e._UZ(7,"div",38),e.qZA()()()),2&o){const t=e.MAs(3);e.xp6(2),e.Q6J("activeId",1),e.xp6(2),e.Q6J("ngbNavItem",1),e.xp6(3),e.Q6J("ngbNavOutlet",t)}}function Y(o,c){if(1&o&&(e.TgZ(0,"div",32),e._UZ(1,"app-calender-schedule",69),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("payload",t.payload)}}function B(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",70)(1,"div",71)(2,"button",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(3,"div",73)(4,"div",74),e._UZ(5,"lord-icon",75),e.TgZ(6,"div",76)(7,"h4"),e._uU(8,"You are about to delete a Schedule ?"),e.qZA(),e.TgZ(9,"p",77),e._uU(10," Deleting your schedule will remove all of your information from our database. "),e.qZA()()(),e.TgZ(11,"div",78)(12,"button",79),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._UZ(13,"i",80),e._uU(14," Close "),e.qZA(),e.TgZ(15,"button",81),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteData(i.deleteId))})("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(16," Yes, Delete It! "),e.qZA()()()()}}const H=[{path:"list-schedule-verification",component:(()=>{class o{constructor(t,n,i,a,l,de,pe,he,ue,ge,me,_e){this.dropdownService=t,this.router=n,this.modalService=i,this.ticketService=a,this.authService=l,this.menuService=de,this.formBuilder=pe,this.commonFunctionService=he,this.dropdownServices=ue,this.datePipe=ge,this.helpDeskService=me,this.preventiveService=_e,this.isProject=!1,this.label="Preventive Management",this.breadCrumbItems=[{label:"Schedule"},{label:"Schedule List",active:!0}],this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchRequesterEmail:null,SearchScheduleStatusId:72},this.to=0,this.from=0,this.pageSize=10,this.totalRecordsFromApi=0,this.preventiveScheduleList=[],this.page=1,this.collectionSize=0,this.imageUrl=_.N.apiUrl,this.arrayListDropDownCompany=[],this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.deleteId=null,this.operationList=[{name:"Service",operationTypeId:1},{name:"Incident Report",operationTypeId:2}],this.frequencyList=["Monthly","Hourly","Yearly","Quarterly"],this.arrayListDropDownScheduleStatus=[],this.currentUserRole="",this.disabledWithAceessGroup=!1,this.projectDepartmentFieldDisiabled=!1,this.listView=!0,this.gridView=!1,this.isProject=this.authService.getisProject()}ngOnInit(){this.currentUserRole=JSON.parse(localStorage.getItem("currentUser")).role,this.listView=null==sessionStorage.getItem("listView")||"true"==sessionStorage.getItem("listView"),this.gridView=null!=sessionStorage.getItem("gridView")&&"true"==sessionStorage.getItem("gridView"),this.getDropdownCompanyList(),"Client User"===this.currentUserRole?(this.getDropdownScheduleStatusList("ScheduleStatusOnlyApplicationUserClient"),this.disabledWithAceessGroup=!0):localStorage.getItem("objectSerachForScheduleVerificationList")?this.getObjectAfterRefresh():this.getDropdownScheduleStatusList("ScheduleStatus")}OnChangesPage(t){t&&(this.payload.displayStart=this.pageSize*(t-1),this.loadData())}getDropdownScheduleStatusList(t){this.preventiveService.GetPreventiveStatusList(t).subscribe(n=>{this.arrayListDropDownScheduleStatus=n,"Client User"===JSON.parse(localStorage.getItem("currentUser")).role?(this.selectedDropDownScheduleStatusIdValue=72,this.payload.SearchScheduleStatusId=this.selectedDropDownScheduleStatusIdValue):this.selectedDropDownScheduleStatusIdValue=null,this.loadData()})}loadData(){this.preventiveService.getV2_MX_PM_ScheduleList_ServerPaging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.preventiveScheduleList=t.list,this.setObjectBeforeRefesh(),this.currentUserAccessGroup=JSON.parse(localStorage.getItem("currentUser")).accessGroupName,this.preventiveScheduleList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((n,i)=>i.rowNum<n?i.rowNum:n,t.list[0].rowNum),this.to=t.list.reduce((n,i)=>i.rowNum>n?i.rowNum:n,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}loadData_celender(){this.preventiveService.getV2_MX_PM_ScheduleList_ServerPaging(this.commonFunctionService.clean(this.payload)).subscribe(t=>{this.preventiveScheduleList=t.list,this.preventiveScheduleList.length>0?(this.totalRecordsFromApi=t.list[0].totalCount,this.from=t.list.reduce((n,i)=>i.rowNum<n?i.rowNum:n,t.list[0].rowNum),this.to=t.list.reduce((n,i)=>i.rowNum>n?i.rowNum:n,t.list[0].rowNum),this.pageSize=this.payload.displayLength):(this.totalRecordsFromApi=0,this.from=0,this.to=0,this.pageSize=this.payload.displayLength)})}setObjectBeforeRefesh(){let t={};this.selectedDropDownCompanyIdValue&&(t.SearchCompanyId=this.selectedDropDownCompanyIdValue),this.selectedDropDownClientIdValue&&(t.SearchClientId=this.selectedDropDownClientIdValue),this.selectedDropDownProjectOrDeparmentIdValue&&(t.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue),this.arrayListDropDownClientList&&(t.arrayListDropDownClientList=this.arrayListDropDownClientList),this.arrayListDropDownProjectOrDeparmentList&&(t.arrayListDropDownProjectOrDeparmentList=this.arrayListDropDownProjectOrDeparmentList),this.typeFrequencyValue&&(t.SearchFrequency=this.typeFrequencyValue),this.typeConfigPreventivePDescription&&(t.SearchConfigPreventivePDescription=this.typeConfigPreventivePDescription),this.page&&(t.displayStart=this.pageSize*(this.page-1),t.page=this.page),localStorage.setItem("objectSerachForScheduleVerificationList",JSON.stringify(t))}getObjectAfterRefresh(){let t=JSON.parse(localStorage.getItem("objectSerachForScheduleVerificationList"));this.arrayListDropDownClientList=t.arrayListDropDownClientList?t.arrayListDropDownClientList:[],this.arrayListDropDownProjectOrDeparmentList=t.arrayListDropDownProjectOrDeparmentList?t.arrayListDropDownProjectOrDeparmentList:[],this.selectedDropDownCompanyIdValue=t.SearchCompanyId?t.SearchCompanyId:null,this.selectedDropDownClientIdValue=t.SearchClientId?t.SearchClientId:null,this.selectedDropDownProjectOrDeparmentIdValue=t.SearchProjectId?t.SearchProjectId:null,this.typeFrequencyValue=t.SearchFrequency?t.SearchFrequency:null,this.typeConfigPreventivePDescription=t.SearchConfigPreventivePDescription?t.SearchConfigPreventivePDescription:null,this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.payload.SearchFrequency=this.typeFrequencyValue,this.payload.SearchConfigPreventivePDescription=this.typeConfigPreventivePDescription,t.displayStart&&(this.payload.displayStart=t.displayStart,this.page=t.page),this.loadData()}viewHandler(t){this.preventiveService.scheduleId=t,this.preventiveService.lastStorePreventiveRouterName="/maintenace-management/preventive/schedule-verification/list-schedule-verification",this.router.navigate(["maintenace-management/preventive/schedule/current-schedule"])}editHandler(t){if("IT Manager"!==this.currentUserAccessGroup)return!1;this.preventiveService.scheduleId=t,this.preventiveService.lastStorePreventiveRouterName="/maintenace-management/preventive/schedule-verification/list-schedule-verification",this.preventiveService.pageAction="Schedule Verification",console.log("this.preventiveService.pageAction",this.preventiveService.pageAction),this.router.navigate(["maintenace-management/preventive/schedule/edit-current-schedule"])}resetSerachVariable(){this.arrayListDropDownClientList=[],this.arrayListDropDownProjectOrDeparmentList=[],this.selectedDropDownCompanyIdValue=null,this.selectedDropDownClientIdValue=null,this.typeFrequencyValue=null,this.typeConfigPreventivePDescription=null,this.selectedRequesterEmail=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.selectedDropDownScheduleStatusIdValue=null,this.payload={displayLength:10,displayStart:0,SearchCompanyId:null,SearchClientId:null,SearchProjectId:null,SearchFrequency:null,SearchConfigPreventivePDescription:null,SearchRequesterEmail:null,SearchScheduleStatusId:72},"Client User"===this.currentUserRole?this.resetAfterClientUser():(this.page=1,this.loadData())}resetAfterClientUser(){this.selectedDropDownScheduleStatusIdValue=72,this.payload.SearchScheduleStatusId=this.selectedDropDownScheduleStatusIdValue,this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""),0!=this.arrayListDropDownClientList.length&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),0!=this.arrayListDropDownProjectOrDeparmentList.length&&"Client User"===this.currentUserRole&&(this.arrayListDropDownProjectOrDeparmentList.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange("")))}getDropdownCompanyList(){this.dropdownServices.GetCompanyListDrobDown({}).subscribe(t=>{this.arrayListDropDownCompany=t.list,"Client User"===this.currentUserRole&&(this.selectedDropDownCompanyIdValue=this.arrayListDropDownCompany[0].companyId,this.onDropdownCompanyValueChange(""))})}getDropdownClientlist(){this.dropdownServices.GetClientListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue}).subscribe(n=>{this.arrayListDropDownClientList=n.list,"Client User"===this.currentUserRole&&(this.selectedDropDownClientIdValue=this.arrayListDropDownClientList[0].clientId,this.onDropdownClientValueChange("")),this.setObjectBeforeRefesh()})}getDropdownDepartmentList(){this.dropdownServices.GetDepartmentListDrobDown({SearchCompanyId:this.selectedDropDownCompanyIdValue,SearchClientId:this.selectedDropDownClientIdValue}).subscribe(n=>{this.arrayListDropDownProjectOrDeparmentList=n.list,0!=n.list.length&&"Client User"===this.currentUserRole&&(n.list.length>=2?this.projectDepartmentFieldDisiabled=!1:(this.projectDepartmentFieldDisiabled=!0,this.selectedDropDownProjectOrDeparmentIdValue=this.arrayListDropDownProjectOrDeparmentList[0].departmentId,this.onDropdownDepartmentValueChange(""))),this.setObjectBeforeRefesh()})}onDropdownCompanyValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchCompanyId=this.selectedDropDownCompanyIdValue,this.selectedDropDownClientIdValue=null,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.arrayListDropDownProjectOrDeparmentList=[],this.getDropdownClientlist(),this.loadData()}onDropdownScheduleStatusValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchScheduleStatusId=this.selectedDropDownScheduleStatusIdValue,this.setObjectBeforeRefesh(),this.loadData()}onDropdownClientValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchClientId=this.selectedDropDownClientIdValue,this.selectedDropDownProjectOrDeparmentIdValue=null,this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.getDropdownDepartmentList(),this.setObjectBeforeRefesh(),this.loadData()}onDropdownDepartmentValueChange(t){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchProjectId=this.selectedDropDownProjectOrDeparmentIdValue,this.setObjectBeforeRefesh(),this.loadData()}returnStatusBadgeClassesStatus(t){return this.commonFunctionService.returnStatusBadgeClasses(t)}ngAfterViewInit(){(0,f.R)(this.inputerRequesterName.nativeElement,"input").pipe((0,D.h)(Boolean),(0,S.b)(1e3),(0,v.x)(),(0,C.b)(t=>{this.onTypeRequesterNameChange()})).subscribe()}onTypeRequesterNameChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchConfigPreventivePDescription=this.typeConfigPreventivePDescription,this.setObjectBeforeRefesh(),this.loadData()}onChangeFrequencyValueChange(){this.page=1,this.payload.displayStart=this.pageSize*(this.page-1),this.payload.SearchFrequency=this.typeFrequencyValue,this.setObjectBeforeRefesh(),this.loadData()}submitFilterData(){this.payload.SearchConfigPreventivePDescription=this.selectedRequesterName,this.payload.SearchRequesterEmail=this.selectedRequesterEmail,this.loadData()}openFilter(t){this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",centered:!0,backdrop:"static",keyboard:!1}).result.then(n=>{this.submitFilterData()},n=>{this.submitFilterData()})}returnIcon(t){let n;return"Quarterly"==t?n="text-danger":"Monthly"==t?n="text-info":"Hourly"==t?n="text-success":"Yearly"==t&&(n="text-primary"),"mdi-alpha-"+t[0].toLowerCase()+"-box-outline "+n}onClickView(){this.listView=!this.listView,this.gridView=!this.gridView,sessionStorage.setItem("listView",""+this.listView),sessionStorage.setItem("gridView",""+this.gridView),this.listView&&this.resetSerachVariable()}expandTitle(t){document.getElementById(t)}confirmDelete(t,n){this.deleteId=n,this.modalService.open(t,{centered:!0})}deleteData(t){this.preventiveService.DeletSchduleMaintenance({scheduleId:t}).subscribe(n=>{this.successDelete(n),this.loadData()})}successDelete(t){w().fire({toast:!0,position:"top-end",icon:"success",title:t.message,showConfirmButton:!1,timer:3e3})}static{this.\u0275fac=function(n){return new(n||o)(e.Y36(g.V),e.Y36(h.F0),e.Y36(s.FF),e.Y36(b.w),e.Y36(V.u),e.Y36(I.l),e.Y36(d.qu),e.Y36(L.K),e.Y36(g.V),e.Y36(p.uU),e.Y36(T.S),e.Y36(x.W))}}static{this.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-schedule-verification"]],viewQuery:function(n,i){if(1&n&&(e.Gf(P,7),e.Gf(j,7)),2&n){let a;e.iGM(a=e.CRH())&&(i.inputerRequesterName=a.first),e.iGM(a=e.CRH())&&(i.inputerCreatedDate=a.first)}},decls:41,vars:29,consts:[[3,"title","breadcrumbItems"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","border-0"],[1,"row","align-items-center","gy-3"],[1,"col-lg-auto","mb-2"],[1,"card-title","mb-0"],[1,"col-lg"],[1,"col-lg","mb-2"],["placeholder","Select Frequency",1,"w-100","me-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"search-box"],["type","search","name","searchTerm","placeholder","Schedule Title",1,"form-control",3,"ngModel","ngModelChange"],["inputerRequesterName",""],[1,"ri-search-line","search-icon"],[1,"col-lg-auto","mb-2","text-end",2,"display","none"],["id","list-view-button",1,"btn","btn-soft-info","nav-link","btn-icon","fs-14","me-2",3,"click"],[1,"ri-list-unordered"],["id","grid-view-button",1,"btn","btn-soft-info","nav-link","btn-icon","fs-14","active",3,"click"],[1,"ri-grid-fill"],[1,"card-body","border","border-dashed","border-end-0","border-start-0"],[1,"row","g-3"],["bindLabel","companyName","bindValue","companyId","id","companyName","placeholder","Select Company","for","companyName",1,"",3,"items","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","clientName","bindValue","clientId","id","clientName","placeholder","Select Client","for","clientName",1,"",3,"items","disabled","clearable","ngModel","readonly","change","ngModelChange"],["bindLabel","departmentName","bindValue","departmentId","placeholder","Select Project",1,"",3,"readonly","items","disabled","clearable","ngModel","change","ngModelChange"],[1,"col-lg",2,"display","none"],["bindLabel","assetStatus","bindValue","assetStatusId","id","ticketStatus","placeholder","Select Schedule Status","for","ticketStatus",1,"mr-2",3,"items","clearable","ngModel","change","ngModelChange"],[1,"col-lg-auto","text-end"],["type","button","ngbTooltip","Remove All Search",1,"btn","btn-danger","ms-1",3,"click"],[1,"ri-refresh-fill","me-1","align-bottom"],["class","card-body pt-0",4,"ngIf"],["deleteModelSchedule",""],[1,"card-body","pt-0"],["ngbNav","",1,"nav","nav-tabs","nav-tabs-custom","nav-success","mb-3",3,"activeId"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"tab-content","text-muted"],[3,"ngbNavOutlet"],[1,"table-responsive","table-card","mb-0"],[1,"table"],[1,"bg-light","text-muted","text-uppercase"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","justify-content-md-between","align-items-md-center","gy-2"],[1,"col","col-sm-12","col","col-md-6"],["id","tickets-table_info","role","status","aria-live","polite",1,"dataTables_info","mb-2"],[1,"text-sm-right","float-end","listjs-pagination"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange",4,"ngIf"],["colspan","10",1,"text-center"],[1,"title",3,"title","id","click"],["href","javascript:void(0)",1,"fw-medium","link-primary",3,"click"],[1,"mdi","me-2","fs-16",3,"ngbTooltip"],[1,"status"],["class","badge bg-danger text-uppercase",4,"ngIf"],["class","badge bg-success text-uppercase",4,"ngIf"],["class","badge bg-warning text-uppercase",4,"ngIf"],[1,"badge","bg-danger","text-uppercase"],[1,"badge","bg-success","text-uppercase"],[1,"badge","bg-warning","text-uppercase"],["ngbDropdown","",1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false","ngbDropdownToggle","",1,"btn","btn-soft-secondary","btn-sm","dropdown","arrow-none"],[1,"ri-more-fill"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0);",1,"dropdown-item","cursor-pointer",3,"click"],[1,"ri-pencil-fill","align-bottom","me-2","text-muted"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#removeProjectModal",1,"dropdown-item",3,"click"],[1,"ri-delete-bin-fill","align-bottom","me-2","text-muted"],[3,"collectionSize","pageSize","page","maxSize","rotate","pageChange"],[3,"payload"],[1,"modal-content"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btn-close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-2","text-center"],["src","https://cdn.lordicon.com/gsqxdxog.json","trigger","loop","colors","primary:#405189,secondary:#f06548",2,"width","90px","height","90px"],[1,"mt-4","pt-2","fs-15","mx-4","mx-sm-5"],[1,"text-muted","mx-4","mb-0"],[1,"d-flex","gap-2","justify-content-center","mt-4","mb-2"],["data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"ri-close-line","me-1","align-middle"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,i){1&n&&(e._UZ(0,"app-breadcrumbs",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),e._uU(8,"Schedule Verification List"),e.qZA()(),e._UZ(9,"div",8),e.TgZ(10,"div",9)(11,"ng-select",10),e.NdJ("change",function(){return i.onChangeFrequencyValueChange()})("ngModelChange",function(l){return i.typeFrequencyValue=l}),e.qZA()(),e.TgZ(12,"div",9)(13,"div",11)(14,"input",12,13),e.NdJ("ngModelChange",function(l){return i.typeConfigPreventivePDescription=l}),e.qZA(),e._UZ(16,"i",14),e.qZA()(),e.TgZ(17,"div",15)(18,"div")(19,"a",16),e.NdJ("click",function(){return i.onClickView()}),e._UZ(20,"i",17),e.qZA(),e.TgZ(21,"a",18),e.NdJ("click",function(){return i.onClickView()}),e._UZ(22,"i",19),e.qZA()()()(),e.TgZ(23,"div",20)(24,"div",21)(25,"div",8)(26,"ng-select",22),e.NdJ("change",function(l){return i.onDropdownCompanyValueChange(l)})("ngModelChange",function(l){return i.selectedDropDownCompanyIdValue=l}),e.qZA()(),e.TgZ(27,"div",8)(28,"ng-select",23),e.NdJ("change",function(l){return i.onDropdownClientValueChange(l)})("ngModelChange",function(l){return i.selectedDropDownClientIdValue=l}),e.qZA()(),e.TgZ(29,"div",8)(30,"ng-select",24),e.NdJ("change",function(l){return i.onDropdownDepartmentValueChange(l)})("ngModelChange",function(l){return i.selectedDropDownProjectOrDeparmentIdValue=l}),e.qZA()(),e.TgZ(31,"div",25)(32,"ng-select",26),e.NdJ("change",function(l){return i.onDropdownScheduleStatusValueChange(l)})("ngModelChange",function(l){return i.selectedDropDownScheduleStatusIdValue=l}),e.qZA()(),e.TgZ(33,"div",27)(34,"button",28),e.NdJ("click",function(){return i.resetSerachVariable()}),e._UZ(35,"i",29),e._uU(36," Clear "),e.qZA()()()(),e.YNc(37,G,8,3,"div",30)(38,Y,2,1,"div",30),e.qZA()()()(),e.YNc(39,B,17,0,"ng-template",null,31,e.W1O)),2&n&&(e.Q6J("title",i.label)("breadcrumbItems",i.breadCrumbItems),e.xp6(11),e.Q6J("items",i.frequencyList)("clearable",!0)("ngModel",i.typeFrequencyValue),e.xp6(3),e.Q6J("ngModel",i.typeConfigPreventivePDescription),e.xp6(5),e.ekj("active",i.listView),e.xp6(2),e.ekj("active",i.gridView),e.xp6(5),e.Q6J("items",i.arrayListDropDownCompany)("clearable",!0)("ngModel",i.selectedDropDownCompanyIdValue)("readonly",i.disabledWithAceessGroup),e.xp6(2),e.Q6J("items",i.arrayListDropDownClientList)("disabled",!i.selectedDropDownCompanyIdValue)("clearable",!0)("ngModel",i.selectedDropDownClientIdValue)("readonly",i.disabledWithAceessGroup),e.xp6(2),e.Q6J("readonly",i.projectDepartmentFieldDisiabled)("items",i.arrayListDropDownProjectOrDeparmentList)("disabled",!i.selectedDropDownCompanyIdValue||!i.selectedDropDownClientIdValue)("clearable",!0)("ngModel",i.selectedDropDownProjectOrDeparmentIdValue),e.xp6(2),e.Q6J("items",i.arrayListDropDownScheduleStatus)("clearable","Client User"!=i.currentUserRole)("ngModel",i.selectedDropDownScheduleStatusIdValue),e.xp6(5),e.Q6J("ngIf",i.listView),e.xp6(1),e.Q6J("ngIf",i.gridView))},dependencies:[p.sg,p.O5,d.Fj,d.JJ,d.On,s.N9,s.jt,s.iD,s.Vi,s._L,Z.n,s.uN,s.Pz,s.nv,s.Is,s.Dy,m.w9],styles:[".widthMax[_ngcontent-%COMP%]{width:120%!important}"]})}}return o})()},{path:"",pathMatch:"full",redirectTo:"list-schedule-verification"}];let $=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({imports:[h.Bz.forChild(H),h.Bz]})}}return o})();var E=r(4647),K=r(6592),W=r(9101),X=r(6802),ee=r(6762),te=r(5223),ie=r(9417),ne=r(6208),oe=r(6250),ae=r(3187),re=r(6480),le=r(2495),se=r(7625);let ce=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=e.oAB({type:o})}static{this.\u0275inj=e.cJS({providers:[p.uU],imports:[$,p.ez,d.u5,d.UX,s.jF,s.ZS,s.XC,s.HK,K.m,ee.JT.forRoot(),ie.t,ne.m,s.ZQ,s.Oz,W.p.pick(X.kEt),E.d,te.Ti,m.A0,re.DashboardModule,oe.QuotationModule,ae.ServiceOrderModule,le.z,se.QM]})}}return o})()}}]);